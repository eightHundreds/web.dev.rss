<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>web.dev</title>
        <link>undefined</link>
        <description>undefined</description>
        <lastBuildDate>Wed, 04 Oct 2023 18:40:28 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <item>
            <title><![CDATA[九月新增网络平台]]></title>
            <link>https://web.dev/web-platform-09-2023/</link>
            <guid>https://web.dev/web-platform-09-2023/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>2023年9月，Firefox 118、Safari 17和Chrome 117发布了稳定版本。这篇文章介绍了这些版本对Web平台的影响。

Chrome 117中包含了grid-template-columns和grid-template-rows的subgrid值，使得这个期待已久的功能可以互操作。你可以在CSS subgrid的文章中了解更多关于subgrid的信息。

Chrome 117还包括了三个新的CSS特性，可以轻松地添加入场和出场动画，并平滑地动画化顶层可消除元素（如对话框和弹出窗口）。你可以在Four new CSS features for entry and exit animations的文章中了解transition-behavior属性、@starting-style规则和overlay属性。

Chrome 117还包括了使用Object.groupBy和Map.groupBy静态方法对JavaScript数组进行分组的功能。

Safari 17包括了popover属性，以支持Popover API。

Safari 17和Firefox 118包括了HTML <search>元素。这个元素表示页面或应用程序中包含搜索或过滤内容功能的部分。

Safari 17中还包括了许多新的CSS特性，包括@counter-style。这个规则允许你定义在预定义样式列表之外的计数器样式。这个功能现在在所有三个引擎中都可用。

Firefox 118包括了几个额外的CSS数学函数：abs()、sign()、round()、mod()、rem()、pow()、sqrt()、hypot()、log()和exp()</search></summary>
    <div>
    <div>OriginTitle: New to the web platform in September</div>

    </div></div><h2 id="stable-browser-releases">稳定的浏览器版本<a class="headline-link" href="https://web.dev/web-platform-09-2023/#stable-browser-releases">#</a></h2>
<p>2023年9月<a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/118" rel="noopener">火狐118</a>,<a href="https://developer.apple.com/documentation/safari-release-notes/safari-17-release-notes" rel="noopener">狩猎17</a>， 和<a href="https://developer.chrome.com/blog/new-in-chrome-117/" rel="noopener">铬117</a>变得稳定。 这篇文章探讨了这对网络平台意味着什么。</p>
<aside class="aside flow bg-state-bad-bg color-state-bad-text"><p class="cluster color-state-bad-text"><span class="aside__icon box-block "><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Error sign">   <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-2h2v2h-2zm0-10v6h2V7h-2z"></path> </svg></span><strong>警告</strong></p><div class=" flow">我们在这些帖子中包含从 MDN 中提取的浏览器兼容性数据，这些数据对于最新的浏览器版本可能尚未更新。 该帖子一旦出现在帖子中，就会显示正确的信息<a href="https://github.com/mdn/browser-compat-data/releases">浏览器兼容数据发布</a>。</div></aside>
<p>这<code>子网格</code>价值<code>网格模板列</code>和<code>网格模板行</code>包含在 Chrome 117 中，使得这一渴望的功能具有可互操作性。 您可以在文章中了解有关子网格的更多信息<a href="https://web.dev/css-subgrid/">CSS子网格</a>。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 114，旗帜后面</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="flag" title="Behind a flag" aria-label="Behind a flag">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">火狐 71，支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
71
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘 114，旗帜后面</span>
</span>
<span class="wdi-browser-compat__version" data-compat="flag" title="Behind a flag" aria-label="Behind a flag"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari 16，支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
16
</span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/CSS_Grid_Layout/Subgrid#browser_compatibility" target="_blank">来源</a>
</div>
<p>Chrome 还包含三个新的 CSS 功能，可以轻松添加进入和退出动画，并平滑地在顶层可关闭元素（例如对话框和弹出窗口）之间添加动画。 您可以了解有关<code>过渡行为</code>财产，<code>@起始风格</code>规则，并且<code>覆盖</code>文章中的属性<a href="https://developer.chrome.com/blog/entry-exit-animations/" rel="noopener">用于进入和退出动画的四个新 CSS 功能</a>。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">铬，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">火狐浏览器，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
</div>
<p>Chrome 117 中还支持 JavaScript 数组分组<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/groupBy" rel="noopener">对象.groupBy</a>和<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map/groupBy" rel="noopener">映射.groupBy</a>静态方法。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">铬，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">火狐浏览器，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
</div>
<p>Safari 17 包括<code>弹出窗口</code>属性，添加对<a href="https://developer.chrome.com/blog/introducing-popover-api/" rel="noopener">弹出框 API</a>。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">铬，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">火狐浏览器，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
</div>
<p>Safari 17 和 Firefox 118 包含 HTML<a href="https://developer.mozilla.org/docs/Web/HTML/Element/search" rel="noopener"><code></code></a>元素。 此元素表示页面或应用程序中包含搜索或过滤内容功能的部分。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">铬，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">火狐浏览器，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/HTML/Element/search#browser_compatibility" target="_blank">来源</a>
</div>
<p>Safari 17 中包含许多新的 CSS 功能，包括<a href="https://developer.mozilla.org/docs/Web/CSS/@counter-style" rel="noopener"><code>@计数器风格</code></a>。 此规则允许您定义预定义样式列表之外的计数器样式。 此功能现已在所有三个引擎中提供。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 91，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      91
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐 33，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      33
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">边缘 91，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      91
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 17，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      17 号
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/@counter-style#browser_compatibility" target="_blank">来源</a>
</div>
<p>Firefox 118 包含几个额外的 CSS 数学函数：<code>绝对值()</code>,<code>符号（）</code>,<code>圆形的（）</code>,<code>模()</code>,<code>雷姆（）</code>,<code>战俘（）</code>,<code>开方（）</code>,<code>假设（）</code>,<code>日志（）</code>， 和<code>指数（）</code>。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">铬，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">火狐 112，支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
112
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari 15.4，支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
15.4
</span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/exp#browser_compatibility" target="_blank">来源</a>
</div>
<p>Safari 17 还支持 HEIC/HEIF 图像和 JPEG XL。</p>
<h2 id="beta-browser-releases">测试版浏览器发布<a class="headline-link" href="https://web.dev/web-platform-09-2023/#beta-browser-releases">#</a></h2>
<p>Beta 浏览器版本可让您预览浏览器下一个稳定版本中的内容。 现在是测试新功能或删除的好时机，这些功能或删除可能会在发布该版本之前影响您的网站。 新的测试版是<a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/119" rel="noopener">火狐119</a>,<a href="https://developer.apple.com/documentation/safari-release-notes/safari-17_1-release-notes" rel="noopener">Safari 17.1</a>， 和<a href="https://developer.chrome.com/blog/chrome-118-beta/" rel="noopener">铬118</a>。 这些版本为该平台带来了许多出色的功能。 查看发行说明以了解所有详细信息，这里仅列出一些亮点。</p>
<p>这<code></code>本月在 Firefox 和 Safari 中发布的 element 已包含在 Chrome 118 中，这意味着该功能将快速登陆所有三个引擎。</p>
<p>这<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/groupBy" rel="noopener">对象.groupBy</a>和<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map/groupBy" rel="noopener">映射.groupBy</a>静态方法是 Firefox 119 的一部分。</p>
<p>Chrome 118 包括<a href="https://drafts.csswg.org/css-cascade-6/#scoped-styles" rel="noopener">CSS 范围样式</a>与<code>@范围</code>规则和新媒体特征<code>偏好降低透明度</code>和<code>脚本编写</code>。</p>
<p>Safari 17.1 当前版本修复了整个平台的一系列问题。</p>
<p><em>拍摄者<a href="https://unsplash.com/@charlesdeluvio" rel="noopener">查尔斯·德鲁维奥</a>。</em></p>
<hr><h2 id="stable-browser-releases">Stable browser releases <a class="headline-link" href="https://web.dev/web-platform-09-2023/#stable-browser-releases">#</a></h2>
<p>In September 2023 <a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/118" rel="noopener">Firefox 118</a>, <a href="https://developer.apple.com/documentation/safari-release-notes/safari-17-release-notes" rel="noopener">Safari 17</a>, and <a href="https://developer.chrome.com/blog/new-in-chrome-117/" rel="noopener">Chrome 117</a> became stable. This post takes a look at what that means for the web platform.</p>
<aside class="aside flow bg-state-bad-bg color-state-bad-text"><p class="cluster color-state-bad-text"><span class="aside__icon box-block "><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Error sign">   <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-2h2v2h-2zm0-10v6h2V7h-2z"></path> </svg></span><strong>Caution</strong></p><div class=" flow"> We include browser compatibility data pulled from MDN in these posts which may not have been updated yet for very recent browser releases. The post will show the correct information as soon as it appears in the <a href="https://github.com/mdn/browser-compat-data/releases">browser-compat-data release</a>. </div></aside>
<p>The <code>subgrid</code> value for <code>grid-template-columns</code> and <code>grid-template-rows</code> is included in Chrome 117, making this longed for feature interoperable. You can learn more about subgrid in the article <a href="https://web.dev/css-subgrid/">CSS subgrid</a>.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 114, Behind a flag</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="flag" title="Behind a flag" aria-label="Behind a flag">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">Firefox 71, Supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
71
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge 114, Behind a flag</span>
</span>
<span class="wdi-browser-compat__version" data-compat="flag" title="Behind a flag" aria-label="Behind a flag"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari 16, Supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
16
</span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/CSS_Grid_Layout/Subgrid#browser_compatibility" target="_blank">Source</a>
</div>
<p>Chrome also includes three new CSS features to easily add entry and exit animations, and smoothly animate to and from the top layer dismissible elements such as dialogs and popovers. You can learn about the <code>transition-behavior</code> property, <code>@starting-style</code> rule, and <code>overlay</code> property in the article <a href="https://developer.chrome.com/blog/entry-exit-animations/" rel="noopener">Four new CSS features for entry and exit animations</a>.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">Firefox, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
</div>
<p>Also in Chrome 117 is JavaScript array grouping with the <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/groupBy" rel="noopener">Object.groupBy</a> and <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map/groupBy" rel="noopener">Map.groupBy</a> static methods.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">Firefox, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
</div>
<p>Safari 17 includes the <code>popover</code> attribute, to add support for the <a href="https://developer.chrome.com/blog/introducing-popover-api/" rel="noopener">Popover API</a>.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">Firefox, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
</div>
<p>Safari 17 and Firefox 118 include the HTML <a href="https://developer.mozilla.org/docs/Web/HTML/Element/search" rel="noopener"><code>&lt;search&gt;</code></a> element. This element represents the parts of the page or application that contain funtionality for search or filtering content.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">Firefox, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/HTML/Element/search#browser_compatibility" target="_blank">Source</a>
</div>
<p>There are lots of new CSS features included in Safari 17, including <a href="https://developer.mozilla.org/docs/Web/CSS/@counter-style" rel="noopener"><code>@counter-style</code></a>. This rule lets you define counter styles that are outside the predefined list of style. This feature is now available in all three engines.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 91, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      91
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 33, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      33
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">Edge 91, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      91
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 17, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      17
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/@counter-style#browser_compatibility" target="_blank">Source</a>
</div>
<p>Firefox 118 includes several additional CSS math functions: <code>abs()</code>, <code>sign()</code>, <code>round()</code>, <code>mod()</code>, <code>rem()</code>, <code>pow()</code>, <code>sqrt()</code>, <code>hypot()</code>, <code>log()</code>, and <code>exp()</code>.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">Firefox 112, Supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
112
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari 15.4, Supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
15.4
</span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/exp#browser_compatibility" target="_blank">Source</a>
</div>
<p>Safari 17 also includes support for HEIC/HEIF images, and JPEG XL.</p>
<h2 id="beta-browser-releases">Beta browser releases <a class="headline-link" href="https://web.dev/web-platform-09-2023/#beta-browser-releases">#</a></h2>
<p>Beta browser versions give you a preview of things that will be in the next stable version of the browser. It's a great time to test new features, or removals, that could impact your site before the world gets that release. New betas are <a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/119" rel="noopener">Firefox 119</a>, <a href="https://developer.apple.com/documentation/safari-release-notes/safari-17_1-release-notes" rel="noopener">Safari 17.1</a>, and <a href="https://developer.chrome.com/blog/chrome-118-beta/" rel="noopener">Chrome 118</a>. These releases bring many great features to the platform. Check out the release notes for all of the details, here are just a few highlights.</p>
<p>The <code>&lt;search&gt;</code> element, shipping in Firefox and Safari this month is included in Chrome 118, meaning this feature is quickly landing across all three engines.</p>
<p>The <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/groupBy" rel="noopener">Object.groupBy</a> and <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map/groupBy" rel="noopener">Map.groupBy</a> static methods are part of Firefox 119.</p>
<p>Chrome 118 includes <a href="https://drafts.csswg.org/css-cascade-6/#scoped-styles" rel="noopener">CSS scoped styles</a> with the <code>@scope</code> rule and new media features with <code>prefers-reduced-transparency</code> and <code>scripting</code>.</p>
<p>Safari 17.1 is currently a release that fixes a range of issues across the platform.</p>
<p><em>Photo by <a href="https://unsplash.com/@charlesdeluvio" rel="noopener">Charles Deluvio</a>.</em></p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[有效加载广告而不影响页面速度]]></title>
            <link>https://web.dev/loading-ads-page-speed/</link>
            <guid>https://web.dev/loading-ads-page-speed/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>这篇文章讨论了网站在广告和用户体验之间取得平衡的重要性。过多的广告会导致用户体验差和高跳出率，而没有广告则会影响网站的收入和长期可持续性。为了平衡广告、用户和性能，文章提出了一些核心网页指标（Core Web Vitals）的优化方法，包括最大内容绘制时间（LCP）、首次输入延迟（FID）和累积布局偏移（CLS）。此外，文章还介绍了在网页中优化广告位置、使用懒加载和异步加载等技术来提高页面性能和用户体验的方法。最后，文章提到了优化广告大小、位置和格式、遵守Better Ads标准以及评估广告网络和供应商的重要性。通过采取这些措施，网站所有者可以在保持良好用户体验的同时最大化广告收入。</summary>
    <div>
    <div>OriginTitle: Effectively loading ads without impacting page speed</div>

    </div></div><p>网站严重依赖在线广告作为主要收入来源。 然而，网站上广告的存在有时会以牺牲用户体验和整体页面性能为代价。 因此，在网站所有者和广告商的盈利和性能以及用户体验之间取得平衡至关重要。</p>
<figure>
  <video autoplay="" controls="" height="330" loop="" muted="" playsinline="" width="660" style="--vid-width: 660; --vid-height: 330">      <source src="https://storage.googleapis.com/web-dev-uploads/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/wV8j1X6xN0L6rYVmtOaY.mp4" type="video/mp4">    </video>
</figure>
<p>考虑一个在其内容中广泛放置广告的网站，旨在产生高收入。 然而，大量的广告让用户感到沮丧，导致用户体验不佳和跳出率较高。 尽管广告有可能带来可观的收入，但放弃却严重阻碍了网站的成功。</p>
<p>另一方面，考虑一个没有广告的网站。 这种无广告的环境因其快速的加载时间和无缝的浏览体验而吸引了大量用户。 然而，如果没有适当的货币化策略，该网站将难以产生收入，这可能会阻碍其长期可持续性和增长。</p>
<p>这两种情况都说明了平衡盈利、用户和性能的重要性。</p>
<h2 id="harnessing-core-web-vitals">利用核心网络生命力<a class="headline-link" href="https://web.dev/loading-ads-page-speed/#harnessing-core-web-vitals">#</a></h2>
<p>通过<a href="https://web.dev/web-vitals/">核心网络生命力</a>在加载广告而不会对页面速度产生负面影响时至关重要。 核心网络生命，包括以下指标<a href="https://web.dev/lcp/">最大内容涂料 (LCP)</a>,<a href="https://web.dev/cls/">累积布局偏移 (CLS)</a>， 和<a href="https://web.dev/fid/">首次输入延迟 (FID)</a>（以及即将到来的<a href="https://web.dev/inp/">与 Next Paint 的交互 (INP) 核心 Web 重要指标</a>计划取代 FID），是衡量网站用户体验质量的用户体验指标。</p>
<h3 id="largest-contentful-paint-lcp">最大内容涂料 (LCP)<a class="headline-link" href="https://web.dev/loading-ads-page-speed/#largest-contentful-paint-lcp">#</a></h3>
<p>专注于优化 LCP 至关重要，因为该指标衡量最大的内容元素在视口中变得可见所需的时间。 通过最大限度地减少广告内容的加载时间并优先考虑异步加载技术，网站所有者可以减少 LCP 并减少页面上最突出的内容元素的渲染时间。</p>
<h3 id="first-input-delay-fid-and-interaction-to-next-paint-inp">首次输入延迟 (FID) 和与下一次绘制的交互 (INP)<a class="headline-link" href="https://web.dev/loading-ads-page-speed/#first-input-delay-fid-and-interaction-to-next-paint-inp">#</a></h3>
<p>第二，<a href="https://web.dev/how-to-optimize-inp/">改善INP</a>（并且通过扩展，<a href="https://web.dev/optimize-fid/">优化 FID</a>）对于交互性至关重要。 FID 测量浏览器响应首次用户交互（例如单击或点击）所需的时间。 INP 指标预计将于 2024 年 3 月取代 FID，它通过测量页面在整个页面生命周期中处理所有点击、键盘和点击交互的整体能力来更进一步。</p>
<p>延迟用户交互的广告会对 INP 和 FID 产生负面影响。 这可能会造成用户感觉迟缓甚至在极端情况下完全崩溃的体验，从而让用户感到沮丧。 对广告实施延迟加载并推迟非关键 JavaScript 执行有助于减少页面 INP 和 FID，从而提高整体页面响应能力。</p>
<h3 id="cumulative-layout-shift-cls">累积布局偏移 (CLS)<a class="headline-link" href="https://web.dev/loading-ads-page-speed/#cumulative-layout-shift-cls">#</a></h3>
<p>最后，CLS 通过测量页面加载期间发生的意外布局变化的数量来测量页面的视觉稳定性。 动态加载或调整大小的广告可能会导致布局不稳定，从而导致糟糕的用户体验，用户要么忘记自己在页面上的位置，要么甚至由于意外的布局变化而无意中点击了错误的元素。 为了缓解这种情况，网站所有者应该<a href="https://web.dev/optimize-cls/">优化CLS</a>确保广告预留空间以防止布局变化，并且应优化广告尺寸以避免突然的内容重排。</p>
<h2 id="structuring-your-webpage-into-distinct-content-blocks">将您的网页构建为不同的内容块<a class="headline-link" href="https://web.dev/loading-ads-page-speed/#structuring-your-webpage-into-distinct-content-blocks">#</a></h2>
<p>使用文本、图像和广告内容的内容块构建网页，同时还使用<a href="https://web.dev/content-visibility/">CSS<code>内容可见性：</code>财产</a>，可以显着提高现代浏览器中的整体渲染时间。</p>
<p>通过战略性地应用<code>内容可见性：</code>通过这些内容块中的属性，您可以优化文本、图像和广告内容的渲染过程。 这可确保仅完全渲染视口中当前的内容，从而实现更快的初始页面加载和更流畅的用户交互。 在处理冗长或包含许多广告的页面时，这种性能增强尤其有价值。</p>
<h2 id="prioritize-important-ad-slots">优先考虑重要的广告位<a class="headline-link" href="https://web.dev/loading-ads-page-speed/#prioritize-important-ad-slots">#</a></h2>
<figure>
  <video autoplay="" controls="" height="500" loop="" muted="" playsinline="" width="660" style="--vid-width: 660; --vid-height: 500">      <source src="https://storage.googleapis.com/web-dev-uploads/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RswuozE5OAer8BMfvoUQ.mp4" type="video/mp4">    </video>
</figure>
<p>并非所有广告位都是一样的。 例如，就可见度和货币化而言，首屏广告位通常比首屏广告位更有价值。 这是因为首屏广告更有可能被用户看到，因为它们无需在第一个视口中滚动即可可见。 当用户向下滚动页面足够远以看到首屏广告时，首屏广告就会变得可见。</p>
<h3 id="above-the-fold-ads">首屏广告<a class="headline-link" href="https://web.dev/loading-ads-page-speed/#above-the-fold-ads">#</a></h3>
<figure>
  <img alt="A visual representation of the 'above-the-fold' ad concept." decoding="async" height="500" loading="lazy" sizes="(min-width: 660px) 660px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=1320 1320w" width="660">
</figure>
<p>首屏广告位是指无需滚动即可看到的网页部分，在数字广告中具有重要价值。 这些主要位置被认为是有价值的，原因如下：</p>
<ul>
<li>加载网页后，用户可以立即看到首屏上的广告。 用户更有可能注意到并参与这些广告，从而提高点击率。</li>
<li>广告商通常将网页的顶部视为最有价值的不动产。 这是用户访问网站时获得的第一印象，使其成为展示高影响力和优质广告的关键区域。</li>
<li>首屏广告的可见率最高，因为它们位于用户的直接视线内。 这可以确保大多数访问该页面的用户无需向下滚动即可看到这些广告。</li>
</ul>
<p>然而，在初始视图中利用首屏广告位时，在盈利和用户体验之间取得平衡非常重要。 以下是一些关键考虑因素。</p>
<ul>
<li>第一屏广告位应尽可能快地加载到用户的初始视口中。 广告加载缓慢会对用户体验产生负面影响并增加跳出率。 优化广告加载时间对于保持流畅的用户和浏览体验至关重要。</li>
<li>虽然首屏广告展示位置很有价值，但重要的是不要在这个主要空间放置过多的广告。 过多的广告使页面变得混乱，破坏内容的可读性，并降低用户体验。 努力在盈利和保持简洁、用户友好的布局之间取得平衡。</li>
<li>确保首屏广告位与不同的屏幕尺寸和设备兼容。<a href="https://web.dev/learn/design/">响应式设计实践</a>无论用户的屏幕尺寸如何，都可以帮助保持一致且具有视觉吸引力的布局。</li>
</ul>
<h3 id="below-the-fold-ads">首屏广告<a class="headline-link" href="https://web.dev/loading-ads-page-speed/#below-the-fold-ads">#</a></h3>
<figure>
  <img alt="A visual representation of the 'below-the-fold' ad concept." decoding="async" height="500" loading="lazy" sizes="(min-width: 660px) 660px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=1320 1320w" width="660">
</figure>
<p>首屏广告位（即放置在只有向下滚动后才可见的网页部分中的广告）在数字广告领域也具有相当大的价值。 这些展示位置提供了独特的优势，可以补充首屏展示位置。</p>
<p>位于首屏下方的广告受益于向下滚动以探索更多内容的用户。 这些展示位置吸引了积极寻求更多信息的活跃用户的注意力，这对于希望传达更复杂的信息或讲故事的品牌来说很有价值。</p>
<ul>
<li>最初不可见的广告位可以与其旁边的内容对齐，从而提供上下文相关性的机会。 当用户发现与他们正在探索的内容相关的广告时，这种一致性可以带来更高的用户参与度。</li>
<li>经过深思熟虑的设计后，非首屏广告可以与周围的内容无缝集成，从而减少对用户的干扰。 这种集成也称为<a href="https://support.google.com/admanager/answer/6366845?hl=en" rel="noopener">原生广告</a>——可以带来更加和谐的用户体验。</li>
<li>滚动所需的广告展示位置提供了更具创意的设计和格式灵活性，具有充足的空间和自由的实验空间。 视频广告、互动元素和较大的图像可以延迟加载，以吸引用户的注意力，而不会破坏他们的体验。</li>
</ul>
<p>但是，对于非首屏广告展示位置应考虑以下因素：</p>
<ul>
<li>虽然首屏广告展示位置可能很有效，但必须确保鼓励用户向下滚动。 实施视觉提示或内容预告片可以吸引用户进一步探索，从而增加广告可见度的可能性。</li>
<li>首屏广告的展示位置不应影响内容质量或可读性。 保持广告和内容之间的平衡，以避免过多的用户并确保积极的用户体验。</li>
<li>与首屏广告展示位置不同，首屏广告可能不需要立即加载。 延迟这些广告的加载，直到它们接近进入用户的视口可以帮助提高整体页面加载速度并减少初始页面渲染时间。</li>
</ul>
<p>如果策略性地使用，非首屏广告可以补充首屏广告，并为创意广告格式和上下文相关性提供平台。 然而，优化可见性、平衡内容和管理广告加载时间是确保积极的用户体验的关键考虑因素。</p>
<p>当前的 Google 发布商代码 (GPT) 最佳做法：</p>
<ul>
<li><a href="https://developers.google.com/publisher-tag/guides/general-best-practices" rel="noopener">一般最佳实践</a></li>
<li><a href="https://developers.google.com/publisher-tag/guides/ad-best-practices" rel="noopener">广告最佳实践</a></li>
<li><a href="https://developers.google.com/publisher-tag/guides/minimize-layout-shift" rel="noopener">最小化布局偏移</a></li>
<li><a href="https://developers.google.com/publisher-tag/guides/monitor-performance" rel="noopener">监控性能</a></li>
<li><a href="https://developers.google.com/publisher-tag/common_implementation_mistakes" rel="noopener">避免常见的实施错误</a></li>
</ul>
<h2 id="lazy-load-ads-where-appropriate">在适当的情况下延迟加载广告<a class="headline-link" href="https://web.dev/loading-ads-page-speed/#lazy-load-ads-where-appropriate">#</a></h2>
<figure>
  <img alt="A visualization of lazy loading versus not lazy loading resources. When resources are lazy loaded, bandwidth is conserved during page load, and resources are deferred to the point at which the user is likeliest to see them." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<p><a href="https://web.dev/lazy-loading-best-practices/">延迟加载</a>是一种将非关键资源推迟到需要时才加载的技术。 对不立即可见的广告（即非首屏广告）应用延迟加载可确保它们仅在进入视图时才加载，从而节省带宽并提高整体页面速度。 浏览器现在包括<a href="https://web.dev/iframe-lazy-loading/">iframe 的本机延迟加载</a>用一个简单的<code>加载=懒惰</code>属性。</p>
<p>通过实现延迟加载，广告将在即将进入用户视口时动态获取，从而减少初始加载时间<a href="https://web.dev/tbt/">总阻塞时间 (TBT)</a>（这是<a href="https://almanac.httparchive.org/en/2022/performance#inp-and-tbt" rel="noopener">与INP高度相关</a>）在页面生命周期关键部分的主线程上，从而最大限度地减少对用户体验的负面影响。</p>
<h2 id="refresh-ads-without-refreshing-the-page">不刷新页面即可刷新广告<a class="headline-link" href="https://web.dev/loading-ads-page-speed/#refresh-ads-without-refreshing-the-page">#</a></h2>
<figure>
  <img alt="A visualization of ads refreshing on the page, without the top-level page being refreshed." decoding="async" height="367" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=1600 1600w" width="800">
</figure>
<p>另一种可以平衡页面性能与加载广告的技术是能够每 30 到 120 秒刷新一次广告，而无需重新加载整个页面。 这种方法允许动态更新广告内容，而不会中断用户的浏览体验或造成不必要的延迟。</p>
<p>在移动应用程序上，与重新加载整个页面或重新创建 WebView 相比，刷新现有 Web 视图中的广告可提供更好的性能，因为它最大限度地减少了数据和资源开销，从而实现更快的内容更新和更流畅的用户体验，而不会产生与从头开始相关的延迟。</p>
<p>通过异步刷新广告，网站所有者可以保持页面内容完整，同时无缝地实时更新广告内容。 这不仅通过消除重新加载整个页面的需要来提高页面速度，而且还确保所显示的广告保持相关性和吸引力。 通过这种技术，网站所有者可以在盈利和性能之间取得平衡，提供及时且有吸引力的广告内容，同时最大限度地减少对用户体验的负面影响。</p>
<p>刷新广告位在用户往往停留时间较长的页面上尤其有价值，例如菜谱页面、DIY 教程或其他内容丰富的网站。 例如，在 DIY 制作页面上，用户可能会花费大量时间来学习教程，在步骤之间的休息时间或在查看图片库时有策略地刷新广告位，可以增强用户体验和广告收入。 同样，在食谱页面上，在用户滚动浏览成分列表或说明后刷新广告位可以保持用户的兴趣。</p>
<h2 id="prioritize-asynchronous-loading">优先考虑异步加载<a class="headline-link" href="https://web.dev/loading-ads-page-speed/#prioritize-asynchronous-loading">#</a></h2>
<p>在投放广告的同时提高页面速度的最有效的策略之一是<a href="https://developers.google.com/publisher-ads-audits/reference/audits/async-ad-tags" rel="noopener">异步加载</a>。 异步加载独立于主网页内容加载广告，允许页面继续呈现并变得具有交互性，而无需等待广告完全加载。 
 这显着减少了感知的加载时间，提高了用户满意度。</p>
<p>包括<code>异步</code>脚本标签定义中的属性。 例如：</p>
<p><strong>广告联盟：</strong></p>
<div><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&amp;lt;</span>脚本</span> <span class="token attr-name">异步</span> <span class="token attr-name">源代码</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">”</span>https://pagead2.googlesyndicate.com/pagead/js/adsbygoogle.js<span class="token punctuation">”</span></span><span class="token punctuation">&amp;gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation"></span>脚本</span><span class="token punctuation">&amp;gt;</span></span></code></pre>
</div><p><strong>AdSense（自动广告）：</strong></p>
<div><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&amp;lt;</span>脚本</span> <span class="token attr-name">异步</span> <span class="token attr-name">数据广告客户端</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">”</span>ca-pub-xxxxxxxxxxxxxxxxxx<span class="token punctuation">”</span></span> <span class="token attr-name">源代码</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">”</span>https://pagead2.googlesyndicate.com/pagead/js/adsbygoogle.js<span class="token punctuation">”</span></span><span class="token punctuation">&amp;gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation"></span>脚本</span><span class="token punctuation">&amp;gt;</span></span></code></pre>
</div><p><strong>Google 发布商标签：</strong></p>
<div><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&amp;lt;</span>脚本</span> <span class="token attr-name">异步</span> <span class="token attr-name">源代码</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">”</span>https://securepubads.g.doubleclick.net/tag/js/gpt.js<span class="token punctuation">”</span></span><span class="token punctuation">&amp;gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation"></span>脚本</span><span class="token punctuation">&amp;gt;</span></span></code></pre>
</div><h2 id="optimize-ad-sizes,-position-and-formats">优化广告尺寸、位置和格式<a class="headline-link" href="https://web.dev/loading-ads-page-speed/#optimize-ad-sizes,-position-and-formats">#</a></h2>
<figure>
  <img alt="An illustration of devices at varying viewport sizes, with ad placements stylized as green boxes, each reading 'Ad'." decoding="async" height="222" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<p>广告的大小、位置和格式会对页面速度产生重大影响。 大广告尺寸会减慢页面加载速度，导致用户感到沮丧。 为了缓解这种情况，网站所有者应与广告商密切合作<a href="https://web.dev/learn/images/">优化广告尺寸和格式</a>。 鼓励使用压缩图像格式和高效的广告创意设计有助于在不影响视觉质量的情况下减小文件大小。 这些优化不仅可以提高页面速度，还可以最大限度地减少带宽有限的用户的数据消耗。</p>
<h2 id="better-ads-standards">更好的广告标准<a class="headline-link" href="https://web.dev/loading-ads-page-speed/#better-ads-standards">#</a></h2>
<p>必须遵守<a href="https://www.betterads.org/standards/" rel="noopener">更好的广告标准</a>用于展示广告，因为这样做不仅可以通过减少侵入性和破坏性的广告格式来增强用户体验，而且还可以对广告投放位置和页面加载时间产生积极影响。</p>
<p>通过遵循这些标准，广告更有可能放置在阻碍性和侵入性较小的位置，从而提高用户参与度和点击率。</p>
<p>此外，遵守这些准则还可以提高页面加载速度，因为更轻、资源密集程度较低的广告格式受到青睐，从而提高网站的整体性能和用户满意度。</p>
<h2 id="strategic-evaluation-of-ad-networks-and-providers">广告网络和提供商的战略评估<a class="headline-link" href="https://web.dev/loading-ads-page-speed/#strategic-evaluation-of-ad-networks-and-providers">#</a></h2>
<p>并非所有广告网络和提供商在性能方面都是平等的。 为了确保最佳的页面速度，网站所有者应仔细评估不同广告网络、标头竞价实施和提供商的性能。</p>
<p>与优先考虑速度并拥有高效交付轻量级广告内容的记录的提供商建立合作伙伴关系可以显着提高页面性能并改善用户体验。</p>
<h2 id="conclusion">结论<a class="headline-link" href="https://web.dev/loading-ads-page-speed/#conclusion">#</a></h2>
<p>对于寻求提供卓越用户体验同时通过在线广告最大化收入的网站所有者来说，实现盈利和性能之间的平衡至关重要。</p>
<p>通过使用异步加载、延迟加载、优化广告格式和尺寸、利用智能缓存和仔细评估广告网络以及标头竞价和提供商等技术，网站所有者可以成功应对加载广告的挑战，而不会影响页面性能。 优先考虑有效的广告投放最终可确保用户分层、提高参与度和可持续创收。</p>
<hr><p>Websites heavily rely on online advertising as a primary source of revenue. However, the presence of ads on websites can sometimes come at the expense of user experience and overall page performance. It's therefore vital to strike a balance between monetization and performance for website owners and advertisers, and the user experience.</p>
<figure>
  <video autoplay="" controls="" height="330" loop="" muted="" playsinline="" width="660" style="--vid-width: 660; --vid-height: 330">      <source src="https://storage.googleapis.com/web-dev-uploads/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/wV8j1X6xN0L6rYVmtOaY.mp4" type="video/mp4">    </video>
</figure>
<p>Consider a website that extensively places ads within its content, aiming to generate high revenue. However, the overwhelming number of ads frustrates users, leading to a poor user experience and high bounce rates. Despite the potential for substantial revenue from ads, abandonment severely hampers the website's success.</p>
<p>On the other end of the spectrum, consider a website with no ads. This ad-free environment attracts a significant number of users due to its fast loading time and seamless browsing experience. However, without a monetization strategy in place, the website struggles to generate revenue, which may hinder its long-term sustainability and growth.</p>
<p>Both scenarios illustrate the importance of balancing monetization, users and performance.</p>
<h2 id="harnessing-core-web-vitals">Harnessing Core Web Vitals <a class="headline-link" href="https://web.dev/loading-ads-page-speed/#harnessing-core-web-vitals">#</a></h2>
<p>Passing <a href="https://web.dev/web-vitals/">the Core Web Vitals</a> is essential when it comes to loading ads without negatively impacting page speed. Core Web Vitals, comprising metrics such as <a href="https://web.dev/lcp/">Largest Contentful Paint (LCP)</a>, <a href="https://web.dev/cls/">Cumulative Layout Shift (CLS)</a>, and <a href="https://web.dev/fid/">First Input Delay (FID)</a> (as well as the upcoming <a href="https://web.dev/inp/">Interaction to Next Paint (INP) Core Web Vital metric</a> slated to replace FID), are user experience metrics that measure the quality of the user experience of your website.</p>
<h3 id="largest-contentful-paint-lcp">Largest Contentful Paint (LCP) <a class="headline-link" href="https://web.dev/loading-ads-page-speed/#largest-contentful-paint-lcp">#</a></h3>
<p>Focusing on optimizing LCP is vital, as this metric measures the time it takes for the largest contentful element to become visible within the viewport. By minimizing the loading time of ad content and by prioritizing asynchronous loading techniques, website owners can reduce LCP and decrease rendering time of the most prominent contentful elements on a page.</p>
<h3 id="first-input-delay-fid-and-interaction-to-next-paint-inp">First Input Delay (FID) and Interaction to Next Paint (INP) <a class="headline-link" href="https://web.dev/loading-ads-page-speed/#first-input-delay-fid-and-interaction-to-next-paint-inp">#</a></h3>
<p>Secondly, <a href="https://web.dev/how-to-optimize-inp/">improving INP</a> (and by extension, <a href="https://web.dev/optimize-fid/">optimizing FID</a>) is crucial for interactivity. FID measures the time it takes for the browser to respond to the first user interaction, such as a click or tap. The INP metric, slated to replace FID in March of 2024, goes much further by measuring a page's overall ability to process all click, keyboard, and tap interactions throughout the page lifecycle.</p>
<p>Ads that delay user interactions negatively impact INP and FID. This may frustrate users by creating experiences that feel sluggish, or even altogether broken in extreme cases. Implementing lazy loading for ads and deferring non-critical JavaScript execution can help reduce page INP and FID, and therefore improve overall page responsiveness.</p>
<h3 id="cumulative-layout-shift-cls">Cumulative Layout Shift (CLS) <a class="headline-link" href="https://web.dev/loading-ads-page-speed/#cumulative-layout-shift-cls">#</a></h3>
<p>Lastly, CLS measures a page's visual stability by measuring the amount of unexpected layout shifts that occur during page load. Ads that dynamically load or resize can result in layout instability, leading to a poor user experiences where users either lose track of where they are on a page, or even unintentionally tap on the wrong elements due to unexpected layout shifts. To mitigate this, website owners should <a href="https://web.dev/optimize-cls/">optimize CLS</a> to ensure that ads have reserved space to prevent layout shifts, and ad sizes should be optimized to avoid sudden content reflows.</p>
<h2 id="structuring-your-webpage-into-distinct-content-blocks">Structuring your webpage into distinct content blocks <a class="headline-link" href="https://web.dev/loading-ads-page-speed/#structuring-your-webpage-into-distinct-content-blocks">#</a></h2>
<p>Structuring your web page with content blocks for both text, image, and ad content, while also using <a href="https://web.dev/content-visibility/">the CSS <code>content-visibility:</code> property</a>, can significantly improve overall rendering time in modern browsers.</p>
<p>By strategically applying the <code>content-visibility:</code> property within these content blocks, you optimize the rendering process for text, image, and ad content. This ensures that only the content currently in the viewport is fully rendered, resulting in a faster initial page load and smoother user interactions. This performance enhancement is particularly valuable when dealing with lengthy or pages with many ads.</p>
<h2 id="prioritize-important-ad-slots">Prioritize important ad slots <a class="headline-link" href="https://web.dev/loading-ads-page-speed/#prioritize-important-ad-slots">#</a></h2>
<figure>
  <video autoplay="" controls="" height="500" loop="" muted="" playsinline="" width="660" style="--vid-width: 660; --vid-height: 500">      <source src="https://storage.googleapis.com/web-dev-uploads/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RswuozE5OAer8BMfvoUQ.mp4" type="video/mp4">    </video>
</figure>
<p>Not all ad slots are equal. For example, above-the-fold ad slots are usually more valuable than those that are below the fold in terms of viewability and monetization. This is because above-the-fold ads are more likely to be seen by users, as they are visible without scrolling in the first viewport. Below-the-fold ads become visible after the user scrolls down the page far enough to see them.</p>
<h3 id="above-the-fold-ads">Above the fold ads <a class="headline-link" href="https://web.dev/loading-ads-page-speed/#above-the-fold-ads">#</a></h3>
<figure>
  <img alt="A visual representation of the 'above-the-fold' ad concept." decoding="async" height="500" loading="lazy" sizes="(min-width: 660px) 660px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/KaYluIMHNvotxWL9c2y0.png?auto=format&amp;w=1320 1320w" width="660">
</figure>
<p>Above the fold ad slots refer to the portion of a webpage that is visible without scrolling, and hold significant value in digital advertising. These prime placements are considered valuable for several reasons:</p>
<ul>
<li>Advertisements placed above the fold are immediately visible for users upon loading a webpage. Users are more likely to notice and engage with these ads, resulting in higher click-through rates.</li>
<li>Advertisers often consider the top portion of a webpage as the most valuable real estate. It's the first impression users get when they visit a site, making it a crucial area for showcasing high-impact and premium ads.</li>
<li>Ads above the fold have the highest viewability rates because they are in the user's direct line of sight. This ensures that the majority of users who visit the page will see these ads without having to scroll down.</li>
</ul>
<p>However, it's important to strike a balance between monetization and the user experience when utilizing above the fold ad slots in the initial view. Here are some key considerations.</p>
<ul>
<li>First screen ad slots should load as fast as possible in the user's initial viewport. Slow-loading ads can negatively impact user experience and increase bounce rates. Optimizing ad load times is crucial to maintain a smooth user and browsing experience.</li>
<li>While above the fold ad placements are valuable, it's important to not overload this prime space with too many ads. Excessive ads clutter the page, disrupt content readability, and detract from the user experience. Strive for a balance between monetization and maintaining a clean, user-friendly layout.</li>
<li>Ensure above the fold ad slots are compatible with different screen sizes and devices. <a href="https://web.dev/learn/design/">Responsive design practices</a> can help maintain a consistent and visually appealing layout regardless of the user's screen size.</li>
</ul>
<h3 id="below-the-fold-ads">Below the fold ads <a class="headline-link" href="https://web.dev/loading-ads-page-speed/#below-the-fold-ads">#</a></h3>
<figure>
  <img alt="A visual representation of the 'below-the-fold' ad concept." decoding="async" height="500" loading="lazy" sizes="(min-width: 660px) 660px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6deTpSz4wdfubdlPV9rc.png?auto=format&amp;w=1320 1320w" width="660">
</figure>
<p>Below the fold ad slots—that is, ads placed within the portion of a webpage that becomes visible only after scrolling down—also hold considerable value in the world of digital advertising. These placements offer unique advantages that complement above the fold placements.</p>
<p>Ads located below the fold benefit from users who scroll down to explore more content. These placements capture the attention of engaged users who are actively seeking additional information, making them valuable for brands looking to convey more complex messages or storytelling.</p>
<ul>
<li>Ad slots which are not initially visible can align with the content next to them, providing an opportunity for contextual relevance. This alignment can lead to higher user engagement as users discover ads that are related to the content they are exploring.</li>
<li>When designed thoughtfully, below the fold ads can seamlessly integrate with the surrounding content, appearing less disruptive to users. This integration—also known as <a href="https://support.google.com/admanager/answer/6366845?hl=en" rel="noopener">native advertising</a>—can result in a more harmonious user experience.</li>
<li>Scroll required ad placements offer more creative design and format flexibility, with ample space and freedom to experiment. Video ads, interactive elements, and larger images can be lazy loaded to capture user attention without disrupting their experience.</li>
</ul>
<p>However, the following considerations should be given for below the fold ad placements:</p>
<ul>
<li>While below the fold ad placements can be effective, it's essential to ensure that users are encouraged to scroll down. Implementing visual cues or content teasers can entice users to explore further, increasing the likelihood of ad visibility.</li>
<li>The placements of ads below the fold should not compromise content quality or readability. Maintaining a balance between ads and content to avoid overwhelming users and to ensure positive user experience.</li>
<li>Unlike above the fold ad placements, below the fold ads may not need to load immediately. Delaying the loading of these ads until they are close to entering the user's viewport can help improve overall page load speed and reduce initial page rendering times.</li>
</ul>
<p>When used strategically, below the fold ads can complement above the fold ads, and provide a platform for creative ad formats and contextual relevance. However, optimizing visibility, balancing content, and managing ad load timing are key considerations to ensure a positive user experience.</p>
<p>Current Google Publisher Tag (GPT) best practices:</p>
<ul>
<li><a href="https://developers.google.com/publisher-tag/guides/general-best-practices" rel="noopener">General best practices</a></li>
<li><a href="https://developers.google.com/publisher-tag/guides/ad-best-practices" rel="noopener">Ad Best Practices</a></li>
<li><a href="https://developers.google.com/publisher-tag/guides/minimize-layout-shift" rel="noopener">Minimize layout shift</a></li>
<li><a href="https://developers.google.com/publisher-tag/guides/monitor-performance" rel="noopener">Monitor performance</a></li>
<li><a href="https://developers.google.com/publisher-tag/common_implementation_mistakes" rel="noopener">Avoiding common implementation mistakes</a></li>
</ul>
<h2 id="lazy-load-ads-where-appropriate">Lazy load ads where appropriate <a class="headline-link" href="https://web.dev/loading-ads-page-speed/#lazy-load-ads-where-appropriate">#</a></h2>
<figure>
  <img alt="A visualization of lazy loading versus not lazy loading resources. When resources are lazy loaded, bandwidth is conserved during page load, and resources are deferred to the point at which the user is likeliest to see them." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/mqnHutBAvzdSUQBensax.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<p><a href="https://web.dev/lazy-loading-best-practices/">Lazy loading</a> is a technique that defers loading non-critical resources until they are needed. Applying lazy loading for ads which are not immediately visible (that is, below-the-fold ads) ensures that they are only loaded when they come into view, conserving bandwidth and improving overall page speed. Browsers now include <a href="https://web.dev/iframe-lazy-loading/">native lazy loading for iframes</a> with a simple <code>loading=lazy</code> attribute.</p>
<p>By implementing lazy loading, ads are fetched dynamically when they are about to enter the user's viewport, reducing the initial load time and <a href="https://web.dev/tbt/">Total Blocking Time (TBT)</a> (which is <a href="https://almanac.httparchive.org/en/2022/performance#inp-and-tbt" rel="noopener">highly correlated with INP</a>) on the main thread at that crucial part of the page lifecycle, therefore minimizing negative impacts on the user experience.</p>
<h2 id="refresh-ads-without-refreshing-the-page">Refresh ads without refreshing the page <a class="headline-link" href="https://web.dev/loading-ads-page-speed/#refresh-ads-without-refreshing-the-page">#</a></h2>
<figure>
  <img alt="A visualization of ads refreshing on the page, without the top-level page being refreshed." decoding="async" height="367" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/p4RuRhkucV695thelCNv.gif?auto=format&amp;w=1600 1600w" width="800">
</figure>
<p>An additional technique that can balance page performance with loading ads is the ability to refresh ads every 30 to 120 seconds without reloading the entire page. This approach allows for dynamic updates of ad content without disrupting the user's browsing experience or causing unnecessary delays.</p>
<p>On mobile apps, refreshing ads in existing web views provides better performance compared to reloading the entire page or recreating WebViews because it minimizes the data and resource overhead, leading to faster content updates and a smoother user experience without the latency associated with starting from scratch.</p>
<p>By refreshing ads asynchronously, website owners can keep the page content intact while seamlessly updating the ad content in-place and in real time. This not only improves page speed by eliminating the need to reload the entire page, but also ensures that displayed ads remain relevant and engaging. With this technique, website owners can strike a balance between monetization and performance, delivering timely and engaging ad content while minimizing negative effects on the user experience.</p>
<p>Refreshing ad slots is particularly valuable on pages where users tend to stay longer, such as recipe pages, DIY tutorials, or other content-rich websites. For example, on a DIY crafting page where users may spend a considerable amount of time following the tutorials, refreshing ad slots strategically during breaks between the steps, or while viewing image galleries, can enhance both the user experience and ad revenue. Similarly on a recipe page, refreshing ad slots after users have scrolled through the ingredients list or instructions can maintain user interest.</p>
<h2 id="prioritize-asynchronous-loading">Prioritize asynchronous loading <a class="headline-link" href="https://web.dev/loading-ads-page-speed/#prioritize-asynchronous-loading">#</a></h2>
<p>One of the most impactful strategies to improve page speed while serving ads is <a href="https://developers.google.com/publisher-ads-audits/reference/audits/async-ad-tags" rel="noopener">asynchronous loading</a>. Asynchronous loading loads ads independently of the main web page content allows the page to continue rendering and become interactive without waiting for ads to fully load.
This significantly reduces perceived loading time, enhancing user satisfaction.</p>
<p>Include the <code>async</code> attribute in the script tag definition. For example:</p>
<p><strong>AdSense:</strong></p>
<div><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">async</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>
</div><p><strong>AdSense (auto ads):</strong></p>
<div><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">async</span> <span class="token attr-name">data-ad-client</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ca-pub-xxxxxxxxxxxxxxxx<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>
</div><p><strong>Google Publisher Tag:</strong></p>
<div><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">async</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://securepubads.g.doubleclick.net/tag/js/gpt.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>
</div><h2 id="optimize-ad-sizes,-position-and-formats">Optimize ad sizes, position and formats <a class="headline-link" href="https://web.dev/loading-ads-page-speed/#optimize-ad-sizes,-position-and-formats">#</a></h2>
<figure>
  <img alt="An illustration of devices at varying viewport sizes, with ad placements stylized as green boxes, each reading 'Ad'." decoding="async" height="222" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/DFxKqN3avsKFmFaU1CXL.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<p>The size, position, and format for ads can have a significant impact on page speed. Large ad sizes can slow down page load, leading to frustrated users. To mitigate this, website owners should work closely with advertisers to <a href="https://web.dev/learn/images/">optimize ad sizes and formats</a>. Encouraging the use of compressed image formats and efficient ad creative design helps reduce file sizes without compromising visual quality. These optimizations not only improve page speed, but also minimize data consumption for users with limited bandwidth.</p>
<h2 id="better-ads-standards">Better Ads Standards <a class="headline-link" href="https://web.dev/loading-ads-page-speed/#better-ads-standards">#</a></h2>
<p>It's essential to adhere to the <a href="https://www.betterads.org/standards/" rel="noopener">Better Ads Standard</a> for displaying ads, because doing so not only enhances the user experience by reducing intrusive and disruptive ad formats, but also positively impacts ad delivery position and page load time.</p>
<p>By following these standards, ads are more likely to be placed in positions that are less obstructive and intrusive, which can result in a higher user engagement and click-through rates.</p>
<p>Furthermore, adhering to these guidelines can also lead to faster page loading speeds since lighter, less resource-intensive ad formats are favored, improving overall website performance and user satisfaction.</p>
<h2 id="strategic-evaluation-of-ad-networks-and-providers">Strategic evaluation of ad networks and providers <a class="headline-link" href="https://web.dev/loading-ads-page-speed/#strategic-evaluation-of-ad-networks-and-providers">#</a></h2>
<p>Not all ad networks and providers are created equal in terms of performance. To ensure optimal page speed, website owners should meticulously evaluate the performance of different ad networks, header bidding implementation, and providers.</p>
<p>Forging partnerships with providers that prioritize speed—and have a track record of delivering lightweight ad content efficiently—can significantly increase page performance and improve the user experience.</p>
<h2 id="conclusion">Conclusion <a class="headline-link" href="https://web.dev/loading-ads-page-speed/#conclusion">#</a></h2>
<p>Achieving a balance between monetization and performance is crucial for website owners seeking to provide an exceptional user experience while maximizing revenue through online advertising.</p>
<p>By using techniques such as asynchronous loading, lazy loading, optimizing ad formats and sizes, leveraging intelligent caching and carefully evaluating ad networks, and header bidding and providers, website owners can successfully navigate the challenges of loading ads without compromising page performance. Prioritizing efficient delivery of ads ultimately ensures user stratification, increased engagement, and sustainable revenue generation.</p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[CSS子网格]]></title>
            <link>https://web.dev/css-subgrid/</link>
            <guid>https://web.dev/css-subgrid/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>这篇文章介绍了CSS子网格（subgrid）的基本概念和用法。在CSS Grid布局中，父网格的行和列只能用于定位直接子元素，而子网格可以共享父网格的行和列，实现嵌套网格的布局。通过示例和代码演示，文章展示了如何使用子网格来创建共享网格和实现灵活的布局。文章还提到了子网格的浏览器支持情况，并介绍了如何使用@supports来检测浏览器是否支持子网格。最后，文章列举了一些相关资源和示例，供读者进一步学习和探索子网格的应用。</summary>
    <div>
    <div>OriginTitle: CSS Subgrid</div>

    </div></div><p><a href="https://web.dev/learn/css/grid/">CSS 网格</a>是一个非常强大的布局引擎， 
 但在父网格上创建的行和列轨道只能用于 
 定位网格容器的直接子级。 任何作者定义<a href="https://web.dev/learn/css/grid/#named-grid-lines">命名网格 
 区域和线路</a>迷失在 
 除直接子元素之外的任何其他元素。 和<code>子网格</code>、轨道大小、模板 
 并且名称可以与嵌套网格共享。 本文解释了它是如何工作的。</p>
<aside class="aside flow bg-state-good-bg color-state-good-text"><p class="cluster "><span class="aside__icon box-block "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" style="enable-background:new 0 0 128 128" xml:space="preserve"><path d="M7.5 123.3c2.2 2.4 11.6-1.9 19-5.3C32 115.4 54 106.3 65 101.6c3-1.2 7.3-2.9 10.4-7 2.8-3.6 10-19-4.6-34.7-15-16-30.4-11.5-36.2-7.5A28.5 28.5 0 0 0 27.3 63c-5.2 11.6-12.7 32.9-15.7 41.3-2.3 6.1-6.4 16.5-4.1 19z" fill="currentColor"></path><path d="M18 86.8s.7 6.5 6.1 14.6c6.3 9.6 15 11.2 15 11.2l-5.8 2.4s-6.5-2-12.7-10.4c-3.8-5.3-5-11.6-5-11.6l2.3-6.2zm-5.6 15.4s1.5 5.6 4.7 9.7c3.8 5 8.6 6.5 8.6 6.5l-4.5 2s-3.3-.8-7-5.5c-2.9-3.5-3.7-7.6-3.7-7.6l1.9-5.1z" fill="currentColor"></path><path d="M10 116.4c-.2-.5-.2-1 0-1.4l25.4-53 4.2 16-26.8 38.7c-.7 1-2.3 1-2.8-.2z" style="opacity:.44" fill="currentColor"></path><path d="M41.6 83.2c12 14 25.5 12.2 30 8.6 4.5-3.5 8.1-15.6-3.7-29.3C55.3 48.2 41.3 52.2 38 55.3s-7.4 15.1 3.5 27.9z" style="fill: var(--color-state-good-bg);"></path><path d="M82.5 89c-4.3-3.7-6.6-3-9.7-1.8a26 26 0 0 1-18.9 0l2.6-6.2c5 1.7 8.7 1 12-1 4-2.4 9.6-5.6 18.3 1.6 3.6 3 7.3 5.1 10 4.2 2-.7 3-3.6 3.6-6l.2-1.3c.4-3.7 1.2-11.6 7.1-15.7 6.4-4.3 13-4.3 13-4.3l1.2 12c-3-.5-5.2.1-7 1-6.7 3.8-.8 18.2-11.3 23-10.1 4.8-18.4-3.3-21-5.6zM45.4 73.7l-4.3-3.9c8-8.9 5.8-15.4 4.3-20.2A26.4 26.4 0 0 1 44 38.8c-3-3.8-4.4-7.8-4.5-8-1.9-5.7-.5-11.2 2.8-16.4C48.7 4 60.5 4 60.5 4l4 10.5c-3-.1-12.8 0-15.8 4.8-3.8 6-1.3 9.6-1.2 10 .8-1 1.5-1.7 2.2-2.3 4.8-4.2 9-4.8 11.6-4.6a11 11 0 0 1 7.6 4.2c2 2.7 3 6.2 2.3 9.4a11 11 0 0 1-5.8 7.4 16 16 0 0 1-13 1.5v.3l.6 2c1.8 5.4 5 14.1-7.6 26.5zm7.4-37.5c.5.4 1.1.8 1.8 1 2 .8 4.4.6 7-.8 1.5-.9 1.7-1.7 1.7-2 .2-.9 0-2-.7-2.8a2.8 2.8 0 0 0-2-1.2c-1.6-.2-3.6.8-5.6 2.6-1 .9-1.7 2-2.3 3.2zm10 39.1-6.2-.1s3-16.7 12.5-19.5c1.8-.5 3.7-1 5.7-1.3l4-.8c.1-1.6-.5-3.6-1.3-5.9-.6-1.7-1.2-3.5-1.5-5.5-.6-3.9.4-7.3 3-9.6 3-2.9 7.9-3.8 13.4-2.5 3.2.7 5.5 2.2 7.6 3.6 2.9 2 4.6 3 8.2.5 4.3-2.9-1.4-14.3-4.4-21l11.3-4.6c1.5 3.3 8.8 20.3 4 30a11.5 11.5 0 0 1-8.1 6.2c-8 1.8-12.6-1.3-16-3.6-1.6-1-3-1.9-4.6-2.3-10.6-3 4.2 12.6-2.7 19.6-4.2 4.2-14.4 5.3-15 5.5-6.6 1.6-10 11.3-10 11.3z" fill="currentColor"></path><path d="M44 38.8c-.2 2.2-.3 3.5.3 6.4 2.7 2 8.7 2 8.7 2l-.6-2v-.3c-6.1-3-8.4-6.1-8.4-6.1zm-12.5 9.8-10.3-5 5.1-7.5 8.2 5.4zm-15.2-14A26 26 0 0 1 5 28.9l5.2-6c1.6 1.2 5 3.5 7.2 3.8l-1.1 7.9zM25.6 21.3 18 18.8a18 18 0 0 0 .7-8.3l7.9-1.3c.6 4 .3 8.2-1 12zM73 15.3l7.9-1.7L83 23.9l-7.8 1.7zM92.5 17.8 87 12c2.8-2.8 3.5-6.3 3.5-6.4L98.4 7c-.1.6-1.1 6.3-6 10.9zM95.5 48.6l7-2.2 2.3 7.7-7 2.1zM97.5 113l-7.9-1c.3-2.7-1.8-6.2-2.4-7l6.4-4.8c.5.6 4.7 6.4 4 12.8zM120.4 102.9c-3-.5-6-.6-9.1-.5l-.3-8c3.5-.2 7 0 10.6.6l-1.2 7.9zM109.6 113.9l5.6-5.7 7.8 7.6-5.6 5.7zM93.1 63.3 99 70l-6.6 5.8-5.8-6.6z" fill="currentColor"></path></svg> </span><strong>庆典</strong></p><div class=" flow">特别感谢 Microsoft Edge 的 Web 平台工程师对 Chromium 的 subgrid 贡献！ 此 CSS 功能的推出得益于他们的出色工作：Alison Maher、Ethan Jimenez、Kurt Catti-Schmidt、Ana Sollano Kim 和 Daniel Libby。 特别感谢 Google Chromium 团队的 Ian Kilpatrick 也为这片土地提供了帮助。 周围一片欢呼和赞扬！</div></aside>
<p><strong>前</strong>子网格，内容通常是手工定制的，以避免像 
 这个。</p>
<img alt="Three cards are shown side by side, each with three bits of content: header, paragraph and link. Each are of a different text length, creating some awkward alignments in the cards as they sit next to each other." decoding="async" height="412" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=1600 1600w" width="800">
<p><strong>后</strong>子网格，可以对齐可变大小的内容。</p>
<img alt="Three cards are shown side by side, each with three bits of content: header, paragraph and link. Each are of a different text length, but subgrid has fixed the alignments by allowing the tallest of each content item to set the row height, fixing any alignment issues." decoding="async" height="412" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=1600 1600w" width="800">
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 114，旗帜后面</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="flag" title="Behind a flag" aria-label="Behind a flag">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">火狐 71，支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
71
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘 114，旗帜后面</span>
</span>
<span class="wdi-browser-compat__version" data-compat="flag" title="Behind a flag" aria-label="Behind a flag"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari 16，支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
16
</span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/CSS_Grid_Layout/Subgrid#browser_compatibility" target="_blank">来源</a>
</div>
<h2 id="subgrid-basics">子网格基础知识<a class="headline-link" href="https://web.dev/css-subgrid/#subgrid-basics">#</a></h2>
<p>这是一个简单的用例，介绍了 CSS 的基础知识<code>子网格</code>。 A 
 网格由两个命名列定义，第一个是<code>20通道</code>宽和第二个 
 是空间的“其余部分”<code>1fr</code>。 列名称不是必需的，但它们是 
 非常适合说明和教育目的。</p>
<div><pre class="language-css"><code class="language-css"><span class="token selector">。网格</span> <span class="token punctuation">{</span><br>  <span class="token property">展示</span><span class="token punctuation">:</span>网格<span class="token punctuation">;</span><br>  <span class="token property">差距</span><span class="token punctuation">:</span>1雷姆<span class="token punctuation">;</span><br>  <span class="token property">网格模板列</span><span class="token punctuation">:</span>[第 1 列] 20ch [第 2 列] 1fr<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><p>然后，该网格的子级跨越这两列，被设置为网格容器， 
 并通过设置采用其父级的列<code>网格模板列</code>到
<code>子网格</code>。</p>
<div><pre class="language-css"><code class="language-css"><span class="token selector">.grid &amp;gt; .subgrid</span> <span class="token punctuation">{</span><br>  <span class="token property">网格列</span><span class="token punctuation">:</span>跨度 2<span class="token punctuation">;</span><br><br>  <span class="token property">展示</span><span class="token punctuation">:</span>网格<span class="token punctuation">;</span><br>  <span class="token property">网格模板列</span><span class="token punctuation">:</span>子网格<span class="token punctuation">;</span> <span class="token comment">/* 20ch 1fr */</span><br><span class="token punctuation">}</span></code></pre>
</div><figure>
  <img alt="A screenshot of the CSS grid DevTools, showing two columns side by side with a name at the start of their column line." decoding="async" height="278" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>
    <a href="https://codepen.io/web-dot-dev/pen/NWezjXv">https://codepen.io/web-dot-dev/pen/NWezjXv</a>
  </figcaption>
</figure>
<p>就是这样，父网格的列已有效地向下传递一个级别到 
 一个子网格。 该子网格现在可以将子网格分配给这些列中的任意一列。</p>
<p><strong>挑战！</strong>重复相同的演示，但这样做的时间是<code>网格模板行</code>。</p>
<h2 id="sharing-a-page-level-macro-grid">共享页面级“宏”网格<a class="headline-link" href="https://web.dev/css-subgrid/#sharing-a-page-level-macro-grid">#</a></h2>
<p>设计师经常使用共享网格，在整个设计上绘制线条， 
 将他们想要的任何元素与其对齐。 现在网络开发人员也可以了！ 这个确切的 
 现在可以实现工作流程以及更多。</p>
<figure data-size="full">
  <video autoplay="" class="auto-aspect" controls="" loop="" muted="">      <source src="https://storage.googleapis.com/web-dev-uploads/video/vS06HQ1YTsbMKSFTIPl2iogUQP73/dGp49ObaTqFrp7eNADZx.mp4" type="video/mp4">    </video>
  <figcaption>从宏观网格到最终设计。 
   网格命名区域是预先创建的 
   然后根据需要放置后续组件。 
  </figcaption>
</figure>
<p>实施最常见的设计器网格工作流程可以提供出色的 
 对能力、工作流程和潜力的洞察<code>子网格</code>。</p>
<p>这是从 Chrome DevTools 中截取的移动页面布局宏的屏幕截图 
 网格。 这些线路有名称，并且有清晰的元件放置区域。</p>
<img alt="A screenshot from Chrome CSS grid DevTools showing a mobile sized grid layout where rows and columns are named for quick identification: fullbleed, system-status, primary-nav, primary-header, main, footer and system-gestures." decoding="async" height="625" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=1600 1600w" width="800">
<p>以下 CSS 创建此网格，其中包含设备的命名行和列 
 布局。 每行和每列都有一个大小。</p>
<div><pre class="language-css"><code class="language-css"><span class="token selector">。设备</span> <span class="token punctuation">{</span><br>    <span class="token property">展示</span><span class="token punctuation">:</span>网格<span class="token punctuation">;</span><br>    <span class="token property">网格模板行</span><span class="token punctuation">:</span><br>[系统状态] 3.5rem<br>[主要导航] 3rem<br>[主标题] 4rem<br>[主要] 汽车<br>[页脚] 4rem<br>[系统手势] 2rem<br>    <span class="token punctuation">;</span><br>    <span class="token property">网格模板列</span><span class="token punctuation">:</span>[fullbleed-start] 1rem [main-start] auto [main-end] 1rem [fullbleed-end]<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><p>一些额外的样式给出了以下设计。</p>
<img alt="Same CSS DevTools grid overlay as before, but this time with some of the mobile system UI present, some shadows and a little color. Helps see where the design is going." decoding="async" height="625" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=1600 1600w" width="800">
<p>在这个父级内部，有各种嵌套元素。 设计需要完整的 
 导航行和标题行下的宽度图像。 最左、最右一列 
 线路名称是<code>全出血开始</code>和<code>全屏结尾</code>。 以这种方式命名网格线 
 使孩子们能够同时与每个人保持一致<a href="https://rachelandrew.co.uk/archives/2017/06/01/breaking-out-with-css-grid-explained/" rel="noopener">放置 
 速记</a>
的<code>全出血</code>。 您很快就会看到，这非常方便。</p>
<img alt="A zoomed in screenshot of the grid overlay from DevTools, focusing specifically on the fullbleed-start and fullbleed-end column names." decoding="async" height="207" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=1600 1600w" width="800">
<p>使用漂亮的命名行和列创建整体设备布局后，使用
<code>子网格</code>将命名良好的行和列传递给嵌套网格布局。 这 
 就是它<code>子网格</code>神奇的时刻。 设备布局传递指定的行和 
 列到应用程序容器，然后将其传递给它的每一个 
 孩子们。</p>
<div><pre class="language-css"><code class="language-css"><span class="token selector">.设备 &amp;gt; .应用程序，<br>.应用程序 &amp;gt; *</span> <span class="token punctuation">{</span><br>    <span class="token property">展示</span><span class="token punctuation">:</span>网格<span class="token punctuation">;</span><br>    <span class="token property">网格</span><span class="token punctuation">:</span>子网格/子网格<span class="token punctuation">;</span><br><br>    <span class="token comment">/* 与...一样 */</span><br>    <span class="token property">网格模板行</span><span class="token punctuation">:</span>子网格<span class="token punctuation">;</span><br>    <span class="token property">网格模板列</span><span class="token punctuation">:</span>子网格<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><p><strong>CSS 子网格是一个用来代替网格轨道列表的值。</strong>行和 
 元素从其父元素跨越的列现在是相同的行并且 
 它提供的专栏。 这使得线路名称来自<code>。设备</code>网格可用 
 给孩子们<code>。应用程序</code>，而不是仅仅<code>。应用程序</code>。 里面的元素<code>。应用程序</code>是 
 无法引用创建的网格轨道<code>。设备</code>在子网格之前。</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> <code>显示方式：网格</code>每个希望订阅或传递行和列的元素都需要。</div></aside>
<p>完成所有定义后，嵌套图像现在可以在 
 布局感谢<code>子网格</code>。 没有负面的价值观或技巧，而是一个好的 
 一句台词说“我的布局跨越<code>全出血开始</code>到<code>全屏结尾</code>”。</p>
<div><pre class="language-css"><code class="language-css"><span class="token selector">.app &amp;gt; 主图像</span> <span class="token punctuation">{</span><br>    <span class="token property">网格区域</span><span class="token punctuation">:</span>全出血<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><figure>
  <img alt="The finished macro layout, complete with a full width nested image sitting properly undeath the primary nav and header rows and extending to each of the fullbleed named column lines." decoding="async" height="625" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>
    <a href="https://codepen.io/web-dot-dev/pen/WNLyjzX">https://codepen.io/web-dot-dev/pen/WNLyjzX</a>
  </figcaption>
</figure>
<p>现在你已经有了一个像设计师使用的宏网格，用 CSS 实现。 这 
 概念可以根据需要与您一起扩展和成长。</p>
<h2 id="checking-for-support">检查支持<a class="headline-link" href="https://web.dev/css-subgrid/#checking-for-support">#</a></h2>
<p>使用 CSS 和子网格进行渐进式增强是熟悉且简单的。 
 使用<code>@支持</code>并在括号内询问浏览器是否理解 
 子网格作为模板列或行的值。 以下示例检查是否 
 这<code>网格模板列</code>财产支持<code>子网格</code>关键字，如果 
 true，表示可以使用子网格</p>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@支持</span> <span class="token punctuation">（</span><span class="token property">网格模板列</span><span class="token punctuation">:</span>子网格<span class="token punctuation">）</span></span> <span class="token punctuation">{</span><br>  <span class="token comment">/* 安全地增强为 */</span><br><span class="token punctuation">}</span></code></pre>
</div><div class="codepen-embed-wrap" style="height: 500px; width: 100%">
<iframe allow="camera; clipboard-read; clipboard-write; encrypted-media; geolocation; microphone; midi;" loading="lazy" src="https://codepen.io/web-dot-dev/embed/KKrJPZQ?height=500&amp;theme-id=light&amp;default-tab=css%2Cresult&amp;editable=true" style="height: 100%; width: 100%; border: 0;" title="Pen KKrJPZQ by web-dot-dev on Codepen">Codepen 上 web-dot-dev 的 Pen</iframe></div>
<h2 id="devtools">开发工具<a class="headline-link" href="https://web.dev/css-subgrid/#devtools">#</a></h2>
<p>Chrome、Edge、Firefox 和 Safari 都有出色的 CSS 网格开发工具，并且 Chrome、 
 Edge 和 Firefox 有专门的工具来帮助处理子网格。<a href="https://developer.chrome.com/blog/new-in-devtools-115/#subgrid" rel="noopener">铬合金 
 宣布了他们的工具 
 115</a>尽管 
 Firefox 已经使用它们一年或更长时间了。</p>
<img alt="Screenshot preview of the subgrid badge found on elements in the Elements panel." decoding="async" height="201" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=1600 1600w" width="800">
<p>子网格徽章的作用类似于网格徽章，但在视觉上区分了哪些 
 网格是子网格，哪些不是。</p>
<h2 id="resources">资源<a class="headline-link" href="https://web.dev/css-subgrid/#resources">#</a></h2>
<p>该列表是子网格文章、演示和整体灵感的汇编 
 开始使用。 如果您正在寻找子网格的下一步 
 教育，享受探索所有这些优质资源的乐趣！</p>
<ul>
<li><a href="https://developer.mozilla.org/docs/Web/CSS/CSS_grid_layout/Subgrid">MDN</a></li>
<li><a href="https://codepen.io/rachelandrew/pen/VVGZVW">雷切尔·安德鲁 (Rachel Andrew) 带有对齐的标题</a></li>
<li><a href="https://12daysofweb.dev/2022/css-subgrid/">Rachel Andrew 举了 10 个很好的例子</a></li>
<li><a href="https://gridbyexample.com/examples/#css-grid-level-2-examples">Rachel Andrew 提供示例网站</a></li>
<li><a href="https://ishadeed.com/article/learn-css-subgrid/">艾哈迈德·沙迪德文章</a></li>
<li><a href="https://youtu.be/tueTFd2TQUA?t=2266">米歇尔·巴克 (Michelle Barker) 出席 2022 年 CSS Day</a></li>
<li>牌
<ul>
<li><a href="https://codepen.io/jh3y/pen/abKaYqO">Jhey 的 Codepen</a></li>
<li><a href="https://codepen.io/shadeed/pen/qBpQNQY">Codepen 作者：Ahmad Shadeed</a></li>
<li><a href="https://codepen.io/tonkotsuboy/pen/LYexpZp">Codepen 作者：Takeshi Kano</a></li>
<li><a href="https://codepen.io/ArvidW/pen/rNrGjvW">Arvid 的 Codepen</a></li>
<li><a href="https://codepen.io/chriscoyier/pen/bGRXmEe">Codepen 作者：Chris Coyier</a></li>
<li><a href="https://codepen.io/miriamsuzanne/pen/xxKRpmq">Codepen 作者：Miriam Suzanne</a></li>
</ul>
</li>
<li><a href="https://codepen.io/chriscoyier/pen/YzxqJap">Chris Coyier 与表格</a></li>
<li><a href="https://codepen.io/facundocorradini/pen/wvBBpJM">Facundo Corradini 与表格对齐</a></li>
<li><a href="https://codepen.io/chriscoyier/pen/mdemZaw">Chris Coyier 与对齐列表项标记</a></li>
<li><a href="https://codepen.io/michellebarker/pen/wvyBjOz">米歇尔·巴克从容器中弹出以与父网格对齐</a></li>
<li><a href="https://codepen.io/miriamsuzanne/pen/ZEEbxro">Miriam Suzanne 显示命名线名称和子网格交互</a></li>
<li><a href="https://codepen.io/kevinpowell/pen/RwgvMMb">凯文·鲍威尔 (Kevin Powell) 介绍命名区域基础知识</a></li>
<li><a href="https://codepen.io/kevinpowell/pen/XWgoWRx">凯文·鲍威尔与对齐列表</a></li>
<li><a href="https://codepen.io/shannonmoeller/pen/poLQLoO">Shannon Moeller 与对齐列表</a></li>
<li><a href="https://codepen.io/kevinpowell/pen/LYVmpqY">Kevin Powell 将页面级网格传递给组件</a></li>
<li><a href="https://codepen.io/elad2412/pen/KKaXOPG">Elad Shechter 使用开发工具覆盖和后备</a></li>
<li><a href="https://codepen.io/aaroniker/pen/OeyayK">Aaron Iker 在排版上很好地使用了子网格来实现脚注的基线对齐</a></li>
<li><a href="https://codepen.io/argyleink/pen/ExbzqWp">亚当·阿盖尔 (Adam Argyle) 在文章中附有全屏图像</a></li>
</ul>
<hr><style>
  .auto-aspect {
    aspect-ratio: auto;
  }

  figcaption {
    text-wrap: balance;
  }
</style>
<p><a href="https://web.dev/learn/css/grid/">CSS grid</a> is a very powerful layout engine,
but the row and column tracks created on a parent grid can only be used to
position direct children of the grid container. Any author defined <a href="https://web.dev/learn/css/grid/#named-grid-lines">named grid
areas and lines</a> were lost on
any other element than a direct child. With <code>subgrid</code>, track sizing, templates
and names can be shared with nested grids. This article explains how it works.</p>
<aside class="aside flow bg-state-good-bg color-state-good-text"><p class="cluster "><span class="aside__icon box-block "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" style="enable-background:new 0 0 128 128" xml:space="preserve"><path d="M7.5 123.3c2.2 2.4 11.6-1.9 19-5.3C32 115.4 54 106.3 65 101.6c3-1.2 7.3-2.9 10.4-7 2.8-3.6 10-19-4.6-34.7-15-16-30.4-11.5-36.2-7.5A28.5 28.5 0 0 0 27.3 63c-5.2 11.6-12.7 32.9-15.7 41.3-2.3 6.1-6.4 16.5-4.1 19z" fill="currentColor"></path><path d="M18 86.8s.7 6.5 6.1 14.6c6.3 9.6 15 11.2 15 11.2l-5.8 2.4s-6.5-2-12.7-10.4c-3.8-5.3-5-11.6-5-11.6l2.3-6.2zm-5.6 15.4s1.5 5.6 4.7 9.7c3.8 5 8.6 6.5 8.6 6.5l-4.5 2s-3.3-.8-7-5.5c-2.9-3.5-3.7-7.6-3.7-7.6l1.9-5.1z" fill="currentColor"></path><path d="M10 116.4c-.2-.5-.2-1 0-1.4l25.4-53 4.2 16-26.8 38.7c-.7 1-2.3 1-2.8-.2z" style="opacity:.44" fill="currentColor"></path><path d="M41.6 83.2c12 14 25.5 12.2 30 8.6 4.5-3.5 8.1-15.6-3.7-29.3C55.3 48.2 41.3 52.2 38 55.3s-7.4 15.1 3.5 27.9z" style="fill: var(--color-state-good-bg);"></path><path d="M82.5 89c-4.3-3.7-6.6-3-9.7-1.8a26 26 0 0 1-18.9 0l2.6-6.2c5 1.7 8.7 1 12-1 4-2.4 9.6-5.6 18.3 1.6 3.6 3 7.3 5.1 10 4.2 2-.7 3-3.6 3.6-6l.2-1.3c.4-3.7 1.2-11.6 7.1-15.7 6.4-4.3 13-4.3 13-4.3l1.2 12c-3-.5-5.2.1-7 1-6.7 3.8-.8 18.2-11.3 23-10.1 4.8-18.4-3.3-21-5.6zM45.4 73.7l-4.3-3.9c8-8.9 5.8-15.4 4.3-20.2A26.4 26.4 0 0 1 44 38.8c-3-3.8-4.4-7.8-4.5-8-1.9-5.7-.5-11.2 2.8-16.4C48.7 4 60.5 4 60.5 4l4 10.5c-3-.1-12.8 0-15.8 4.8-3.8 6-1.3 9.6-1.2 10 .8-1 1.5-1.7 2.2-2.3 4.8-4.2 9-4.8 11.6-4.6a11 11 0 0 1 7.6 4.2c2 2.7 3 6.2 2.3 9.4a11 11 0 0 1-5.8 7.4 16 16 0 0 1-13 1.5v.3l.6 2c1.8 5.4 5 14.1-7.6 26.5zm7.4-37.5c.5.4 1.1.8 1.8 1 2 .8 4.4.6 7-.8 1.5-.9 1.7-1.7 1.7-2 .2-.9 0-2-.7-2.8a2.8 2.8 0 0 0-2-1.2c-1.6-.2-3.6.8-5.6 2.6-1 .9-1.7 2-2.3 3.2zm10 39.1-6.2-.1s3-16.7 12.5-19.5c1.8-.5 3.7-1 5.7-1.3l4-.8c.1-1.6-.5-3.6-1.3-5.9-.6-1.7-1.2-3.5-1.5-5.5-.6-3.9.4-7.3 3-9.6 3-2.9 7.9-3.8 13.4-2.5 3.2.7 5.5 2.2 7.6 3.6 2.9 2 4.6 3 8.2.5 4.3-2.9-1.4-14.3-4.4-21l11.3-4.6c1.5 3.3 8.8 20.3 4 30a11.5 11.5 0 0 1-8.1 6.2c-8 1.8-12.6-1.3-16-3.6-1.6-1-3-1.9-4.6-2.3-10.6-3 4.2 12.6-2.7 19.6-4.2 4.2-14.4 5.3-15 5.5-6.6 1.6-10 11.3-10 11.3z" fill="currentColor"></path><path d="M44 38.8c-.2 2.2-.3 3.5.3 6.4 2.7 2 8.7 2 8.7 2l-.6-2v-.3c-6.1-3-8.4-6.1-8.4-6.1zm-12.5 9.8-10.3-5 5.1-7.5 8.2 5.4zm-15.2-14A26 26 0 0 1 5 28.9l5.2-6c1.6 1.2 5 3.5 7.2 3.8l-1.1 7.9zM25.6 21.3 18 18.8a18 18 0 0 0 .7-8.3l7.9-1.3c.6 4 .3 8.2-1 12zM73 15.3l7.9-1.7L83 23.9l-7.8 1.7zM92.5 17.8 87 12c2.8-2.8 3.5-6.3 3.5-6.4L98.4 7c-.1.6-1.1 6.3-6 10.9zM95.5 48.6l7-2.2 2.3 7.7-7 2.1zM97.5 113l-7.9-1c.3-2.7-1.8-6.2-2.4-7l6.4-4.8c.5.6 4.7 6.4 4 12.8zM120.4 102.9c-3-.5-6-.6-9.1-.5l-.3-8c3.5-.2 7 0 10.6.6l-1.2 7.9zM109.6 113.9l5.6-5.7 7.8 7.6-5.6 5.7zM93.1 63.3 99 70l-6.6 5.8-5.8-6.6z" fill="currentColor"></path></svg> </span><strong>Celebration</strong></p><div class=" flow"> Special thanks to Microsoft Edge's Web Platform engineers for their contribution of subgrid to Chromium! This CSS feature was made available thanks to their great work: Alison Maher, Ethan Jimenez, Kurt Catti-Schmidt, Ana Sollano Kim and Daniel Libby. An additional special thanks to Ian Kilpatrick from the Google Chromium team for helping this land as well. Shout outs and kudos all around! </div></aside>
<p><strong>Before</strong> subgrid, content was often hand tailored to avoid ragged layouts like
this one.</p>
<img alt="Three cards are shown side by side, each with three bits of content: header, paragraph and link. Each are of a different text length, creating some awkward alignments in the cards as they sit next to each other." decoding="async" height="412" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/UnomSiV22ITeHGkI8aFV.png?auto=format&amp;w=1600 1600w" width="800">
<p><strong>After</strong> subgrid, aligning the variably sized content is possible.</p>
<img alt="Three cards are shown side by side, each with three bits of content: header, paragraph and link. Each are of a different text length, but subgrid has fixed the alignments by allowing the tallest of each content item to set the row height, fixing any alignment issues." decoding="async" height="412" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/Dq1MzAIwsk8AJFtSJbWZ.png?auto=format&amp;w=1600 1600w" width="800">
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 114, Behind a flag</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="flag" title="Behind a flag" aria-label="Behind a flag">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">Firefox 71, Supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
71
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge 114, Behind a flag</span>
</span>
<span class="wdi-browser-compat__version" data-compat="flag" title="Behind a flag" aria-label="Behind a flag"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari 16, Supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
16
</span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/CSS_Grid_Layout/Subgrid#browser_compatibility" target="_blank">Source</a>
</div>
<h2 id="subgrid-basics">Subgrid basics <a class="headline-link" href="https://web.dev/css-subgrid/#subgrid-basics">#</a></h2>
<p>Here is a straightforward use case introducing the basics of CSS <code>subgrid</code>. A
grid is defined with two named columns, the first is <code>20ch</code> wide and the second
is "the rest" of the space <code>1fr</code>. The column names aren't required but they're
great for illustrative and educational purposes.</p>
<div><pre class="language-css"><code class="language-css"><span class="token selector">.grid</span> <span class="token punctuation">{</span><br>  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span><br>  <span class="token property">gap</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span><br>  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> [column-1] 20ch [column-2] 1fr<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><p>Then, a child of that grid, spans those two columns, is set as a grid container,
and adopts the columns of its parent by setting <code>grid-template-columns</code> to
<code>subgrid</code>.</p>
<div><pre class="language-css"><code class="language-css"><span class="token selector">.grid &gt; .subgrid</span> <span class="token punctuation">{</span><br>  <span class="token property">grid-column</span><span class="token punctuation">:</span> span 2<span class="token punctuation">;</span><br><br>  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span><br>  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> subgrid<span class="token punctuation">;</span> <span class="token comment">/* 20ch 1fr */</span><br><span class="token punctuation">}</span></code></pre>
</div><figure>
  <img alt="A screenshot of the CSS grid DevTools, showing two columns side by side with a name at the start of their column line." decoding="async" height="278" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/BS5avtsMBdfLsPFACRwO.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>
    <a href="https://codepen.io/web-dot-dev/pen/NWezjXv">https://codepen.io/web-dot-dev/pen/NWezjXv</a>
  </figcaption>
</figure>
<p>That's it, a parent grid's columns have been effectively passed down a level to
a subgrid. This subgrid can now assign children to either of those columns.</p>
<p><strong>Challenge!</strong> Repeat the same demo but do it for <code>grid-template-rows</code>.</p>
<h2 id="sharing-a-page-level-macro-grid">Sharing a page level "macro" grid <a class="headline-link" href="https://web.dev/css-subgrid/#sharing-a-page-level-macro-grid">#</a></h2>
<p>Designers often work with shared grids, drawing lines over an entire design,
aligning any element they want to it. Now web developers can too! This exact
workflow can now be achieved, plus many more.</p>
<figure data-size="full">
  <video autoplay="" class="auto-aspect" controls="" loop="" muted="">      <source src="https://storage.googleapis.com/web-dev-uploads/video/vS06HQ1YTsbMKSFTIPl2iogUQP73/dGp49ObaTqFrp7eNADZx.mp4" type="video/mp4">    </video>
  <figcaption>From macro grid to finished design.
  Grid named areas are created upfront
  and later components are placed as desired.
  </figcaption>
</figure>
<p>Implementing the most common designer grid workflow can provide excellent
insights into the capabilities, workflows, and potentials of <code>subgrid</code>.</p>
<p>Here's a screenshot taken from Chrome DevTools of a mobile page layout macro
grid. The lines have names and there are clear areas for component placement.</p>
<img alt="A screenshot from Chrome CSS grid DevTools showing a mobile sized grid layout where rows and columns are named for quick identification: fullbleed, system-status, primary-nav, primary-header, main, footer and system-gestures." decoding="async" height="625" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8DcaxQKfWCUTYvM0jX5W.png?auto=format&amp;w=1600 1600w" width="800">
<p>The following CSS creates this grid, with named rows and columns for the device
layout. Each row and column has a size.</p>
<div><pre class="language-css"><code class="language-css"><span class="token selector">.device</span> <span class="token punctuation">{</span><br>    <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span><br>    <span class="token property">grid-template-rows</span><span class="token punctuation">:</span><br>      [system-status] 3.5rem<br>      [primary-nav] 3rem<br>      [primary-header] 4rem<br>      [main] auto<br>      [footer] 4rem<br>      [system-gestures] 2rem<br>    <span class="token punctuation">;</span><br>    <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> [fullbleed-start] 1rem [main-start] auto [main-end] 1rem [fullbleed-end]<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><p>Some additional styles give the following design.</p>
<img alt="Same CSS DevTools grid overlay as before, but this time with some of the mobile system UI present, some shadows and a little color. Helps see where the design is going." decoding="async" height="625" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/3ApdWnQMSsdHp4HxLFiU.png?auto=format&amp;w=1600 1600w" width="800">
<p>Inside this parent, are various nested elements. The design requires a full
width image under the nav and header rows. The furthest left and right column
line names are <code>fullbleed-start</code> and <code>fullbleed-end</code>. Naming grid lines this way
enables children to align to each simultaneously with the <a href="https://rachelandrew.co.uk/archives/2017/06/01/breaking-out-with-css-grid-explained/" rel="noopener">placement
shorthand</a>
of <code>fullbleed</code>. It’s very convenient as you’ll soon see.</p>
<img alt="A zoomed in screenshot of the grid overlay from DevTools, focusing specifically on the fullbleed-start and fullbleed-end column names." decoding="async" height="207" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/8Og87j0has0wdFnSWjt4.png?auto=format&amp;w=1600 1600w" width="800">
<p>With the overall device layout created with nice named rows and columns, use
<code>subgrid</code> to pass the well named rows and columns to nested grid layouts. This
is that <code>subgrid</code> magic moment. The device layout passes the named rows and
columns to the app container, which then passes it on to every one of its
children.</p>
<div><pre class="language-css"><code class="language-css"><span class="token selector">.device &gt; .app,<br>.app &gt; *</span> <span class="token punctuation">{</span><br>    <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span><br>    <span class="token property">grid</span><span class="token punctuation">:</span> subgrid / subgrid<span class="token punctuation">;</span><br><br>    <span class="token comment">/* same as */</span><br>    <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> subgrid<span class="token punctuation">;</span><br>    <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> subgrid<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><p><strong>CSS subgrid is a value used in place of a list of grid tracks.</strong> The rows and
columns the element is spanning from its parent, are now the same rows and
columns it offers. This makes the line names from the <code>.device</code> grid available
to children of <code>.app</code>, instead of only <code>.app</code>. Elements inside of <code>.app</code> were
not able to reference the grid tracks created by <code>.device</code> before subgrid.</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> <code>display: grid</code> is required on every element that wishes to subscribe or pass on rows and columns. </div></aside>
<p>With this all defined, the nested image is now able to go full bleed in the
layout thanks to <code>subgrid</code>. No negative values or tricks, instead a nice
one-liner that says “my layout spans from <code>fullbleed-start</code> to <code>fullbleed-end</code>.”</p>
<div><pre class="language-css"><code class="language-css"><span class="token selector">.app &gt; main img</span> <span class="token punctuation">{</span><br>    <span class="token property">grid-area</span><span class="token punctuation">:</span> fullbleed<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><figure>
  <img alt="The finished macro layout, complete with a full width nested image sitting properly undeath the primary nav and header rows and extending to each of the fullbleed named column lines." decoding="async" height="625" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6QIh2ogOS21KjBwcfFuf.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>
    <a href="https://codepen.io/web-dot-dev/pen/WNLyjzX">https://codepen.io/web-dot-dev/pen/WNLyjzX</a>
  </figcaption>
</figure>
<p>There you have it, a macro grid like designers use, implemented in CSS. This
concept can scale and grow with you as needed.</p>
<h2 id="checking-for-support">Checking for support <a class="headline-link" href="https://web.dev/css-subgrid/#checking-for-support">#</a></h2>
<p>Progressive enhancement with CSS and subgrid is familiar and straightforward.
Use <code>@supports</code> and inside the parenthesis ask the browser if it understands
subgrid as a value for template columns or rows. The following example checks if
the <code>grid-template-columns</code> property supports the <code>subgrid</code> keyword, which if
true, means that subgrid can be used</p>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">grid-template-columns</span><span class="token punctuation">:</span> subgrid<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>  <span class="token comment">/* safe to enhance to */</span><br><span class="token punctuation">}</span></code></pre>
</div><div class="codepen-embed-wrap" style="height: 500px; width: 100%">
<iframe allow="camera; clipboard-read; clipboard-write; encrypted-media; geolocation; microphone; midi;" loading="lazy" src="https://codepen.io/web-dot-dev/embed/KKrJPZQ?height=500&amp;theme-id=light&amp;default-tab=css%2Cresult&amp;editable=true" style="height: 100%; width: 100%; border: 0;" title="Pen KKrJPZQ by web-dot-dev on Codepen">See the Pen <a href="https://codepen.io/web-dot-dev/embed/KKrJPZQ">Pen KKrJPZQ by web-dot-dev on Codepen</a></iframe></div>
<h2 id="devtools">Devtools <a class="headline-link" href="https://web.dev/css-subgrid/#devtools">#</a></h2>
<p>Chrome, Edge, Firefox and Safari all have great CSS grid DevTools, and Chrome,
Edge and Firefox have specific tools for helping with subgrid. <a href="https://developer.chrome.com/blog/new-in-devtools-115/#subgrid" rel="noopener">Chrome
announced their tools in
115</a> while
Firefox has had them for a year or more.</p>
<img alt="Screenshot preview of the subgrid badge found on elements in the Elements panel." decoding="async" height="201" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/stbBs4EgwIRBfmkLHN9x.png?auto=format&amp;w=1600 1600w" width="800">
<p>The subgrid badge acts like the grid badge but visually distinguishes which
grids are subgrids and which aren’t.</p>
<h2 id="resources">Resources <a class="headline-link" href="https://web.dev/css-subgrid/#resources">#</a></h2>
<p>This list is a compilation of subgrid articles, demos and overall inspiration
for getting started. If you’re looking for the next step for your subgrid
education, have fun exploring all these great resources!</p>
<ul>
<li><a href="https://developer.mozilla.org/docs/Web/CSS/CSS_grid_layout/Subgrid">MDN</a></li>
<li><a href="https://codepen.io/rachelandrew/pen/VVGZVW">Rachel Andrew with aligned captions</a></li>
<li><a href="https://12daysofweb.dev/2022/css-subgrid/">Rachel Andrew with 10 great examples</a></li>
<li><a href="https://gridbyexample.com/examples/#css-grid-level-2-examples">Rachel Andrew with a site of examples</a></li>
<li><a href="https://ishadeed.com/article/learn-css-subgrid/">Ahmad Shadeed article</a></li>
<li><a href="https://youtu.be/tueTFd2TQUA?t=2266">Michelle Barker at CSS Day 2022</a></li>
<li>Cards
<ul>
<li><a href="https://codepen.io/jh3y/pen/abKaYqO">Codepen by Jhey</a></li>
<li><a href="https://codepen.io/shadeed/pen/qBpQNQY">Codepen by Ahmad Shadeed</a></li>
<li><a href="https://codepen.io/tonkotsuboy/pen/LYexpZp">Codepen by Takeshi Kano</a></li>
<li><a href="https://codepen.io/ArvidW/pen/rNrGjvW">Codepen by Arvid</a></li>
<li><a href="https://codepen.io/chriscoyier/pen/bGRXmEe">Codepen by Chris Coyier</a></li>
<li><a href="https://codepen.io/miriamsuzanne/pen/xxKRpmq">Codepen by Miriam Suzanne</a></li>
</ul>
</li>
<li><a href="https://codepen.io/chriscoyier/pen/YzxqJap">Chris Coyier with forms</a></li>
<li><a href="https://codepen.io/facundocorradini/pen/wvBBpJM">Facundo Corradini with form alignment</a></li>
<li><a href="https://codepen.io/chriscoyier/pen/mdemZaw">Chris Coyier with aligning list item markers</a></li>
<li><a href="https://codepen.io/michellebarker/pen/wvyBjOz">Michelle Barker popping out of container to align with parent grid</a></li>
<li><a href="https://codepen.io/miriamsuzanne/pen/ZEEbxro">Miriam Suzanne showing named line names and subgrid interactions</a></li>
<li><a href="https://codepen.io/kevinpowell/pen/RwgvMMb">Kevin Powell with named area basics</a></li>
<li><a href="https://codepen.io/kevinpowell/pen/XWgoWRx">Kevin Powell with aligned lists</a></li>
<li><a href="https://codepen.io/shannonmoeller/pen/poLQLoO">Shannon Moeller with aligned lists</a></li>
<li><a href="https://codepen.io/kevinpowell/pen/LYVmpqY">Kevin Powell with a page level grid passed down to components</a></li>
<li><a href="https://codepen.io/elad2412/pen/KKaXOPG">Elad Shechter with a devtool overlay and fallback</a></li>
<li><a href="https://codepen.io/aaroniker/pen/OeyayK">Aaron Iker with a nice typographic use of subgrid for baseline alignment of footnotes</a></li>
<li><a href="https://codepen.io/argyleink/pen/ExbzqWp">Adam Argyle with a fullbleed image inside an article</a></li>
</ul>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[提交您对 Interop 2024 的提案]]></title>
            <link>https://web.dev/interop-2024-proposals/</link>
            <guid>https://web.dev/interop-2024-proposals/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>在过去的两年里，Chrome团队成功地与合作伙伴合作，改善了Web的互操作性。在2022年的Interop中，所有主要的浏览器供应商和其他利益相关者共同努力，改善了Web开发人员所发现的主要浏览器兼容性问题。我们在2023年的Interop中重复了这个过程，虽然还有几个月才结束，但已经看到了巨大的得分提升。在2023年的Interop中，我们还要求公开提出功能建议，这导致了许多代表更广泛的Web生态系统需求的优秀建议。

2023年1月。

2023年9月。

这是一个巨大的成功，许多功能实现了互操作性，我们很高兴地宣布Interop 2024即将开始。第一步是收集建议的功能，再次包括来自更广泛社区的想法，因此Interop 2024的提案过程现在已经开放提交。建议可以包括在不同浏览器中行为不同的功能，或者尚未在所有浏览器中实现的功能。请记住，具有高质量规范和Web平台测试的提案更有可能被包括，因为这个项目是关于实现互操作性而不是指定新功能。提案提交期限为2023年10月5日。

一旦提案期结束</summary>
    <div>
    <div>OriginTitle: Submit your proposals for Interop 2024</div>

    </div></div><p>在过去的两年里，Chrome 团队与我们的合作伙伴成功合作，提高了网络的互操作性。 为了<a href="https://web.dev/interop-2022-wrapup/">互操作 2022</a>所有主要浏览器供应商和其他利益相关者共同努力改善网络开发人员发现的主要浏览器兼容性问题。 我们重复了这个过程<a href="https://web.dev/interop-2023/">互操作 2023</a>距离运行还有几个月的时间，但分数已经有了巨大的提高。 对于 Interop 2023，我们还请求公众对要包含的功能提出建议，这导致了许多代表更广泛的网络生态系统需求的好建议。</p>
<figure>
  <img alt="The Scores for Interop overall: 62, Investigations: 0, and the scores per browser - 86 for Chrome and Edge, 74 for Firefox, 86 for Safari Technology Preview." decoding="async" height="866" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format" srcset="https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>2023 年 1 月。</figcaption>
</figure>
<figure>
  <img alt="The scores for Interop overall: 81, Investigations 59, and per browser, 96 for Chrome Dev and Edge Dev, 88 for Firefox Nightly, and 92 for Safari Technology Preview." decoding="async" height="808" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format" srcset="https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>2023 年 9 月。</figcaption>
</figure>
<p>它取得了巨大的成功，许多功能都达到了互操作性，我们很高兴地宣布 Interop 2024 即将举行。</p>
<p>第一步是收集建议的功能，再次包括来自更广泛社区的想法，因此 Interop 2024 提案流程现已开放供提交。 建议可以包括跨浏览器表现不同的功能，或尚未在所有浏览器中实现的功能。 请记住，具有高质量规范和网络平台测试的提案是<a href="https://github.com/web-platform-tests/interop/blob/main/README.md#requirements-for-focus-area-proposals" rel="noopener">更有可能被纳入</a>，因为该项目是为了实现互操作性而不是指定新功能。 提案提交流程将于 2023 年 10 月 5 日结束。</p>
<p>提案期结束后，浏览器供应商和其他合作伙伴将讨论收集到的提交内容，以确定最终列表。 提案数量很可能超出 2024 年所能实现的数量，因此一些高质量的提案可能不会被选中。 我们期待审查<a href="https://github.com/orgs/web-platform-tests/projects/3" rel="noopener">所有提交的内容</a>，一旦 Interop 2024 开始，我们将在此处发布最终列表。</p>
<p><a href="https://github.com/web-platform-tests/interop/issues/new/choose" rel="noopener">在此提交您的建议</a>。</p>
<hr><p>Over the past two years the Chrome team has successfully worked with our partners to improve the interoperability of the web. For <a href="https://web.dev/interop-2022-wrapup/">Interop 2022</a> all major browser vendors and other stakeholders worked together to improve top browser compatibility issues identified by web developers. We repeated the process with <a href="https://web.dev/interop-2023/">Interop 2023</a>, which still has a few months to run yet is already seeing a huge improvement in scores. For Interop 2023, we also requested public proposals for features to include, which led to many great suggestions representing the needs of the wider web ecosystem.</p>
<figure>
  <img alt="The Scores for Interop overall: 62, Investigations: 0, and the scores per browser - 86 for Chrome and Edge, 74 for Firefox, 86 for Safari Technology Preview." decoding="async" height="866" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format" srcset="https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/RYmV5NPuMZRoF3PVwIXTUpdYeQ23/rK7xV8u6Jvf9oSl7VkCT.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>January 2023.</figcaption>
</figure>
<figure>
  <img alt="The scores for Interop overall: 81, Investigations 59, and per browser, 96 for Chrome Dev and Edge Dev, 88 for Firefox Nightly, and 92 for Safari Technology Preview." decoding="async" height="808" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format" srcset="https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/kheDArv5csY6rvQUJDbWRscckLr1/25TJc2Fc8gJ4Qp9vQUNA.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>September 2023.</figcaption>
</figure>
<p>It's been a huge success, with many features reaching interoperability, and we're happy to announce that Interop 2024 is happening.</p>
<p>The first step is to gather suggested features, once again including ideas from the wider community, so the Interop 2024 proposal process is now open for submissions. Suggestions can include features that behave differently across browsers, or features that are not yet implemented in all browsers. Keep in mind that proposals with high quality specifications and web platform tests are <a href="https://github.com/web-platform-tests/interop/blob/main/README.md#requirements-for-focus-area-proposals" rel="noopener">more likely to be included</a>, as this project is about reaching interoperability rather than specifying new features. The proposal submission process ends October 5, 2023.</p>
<p>Once the proposal period ends, the collected submissions will be discussed by browser vendors and other partners to determine the final list. It's likely that there will be more proposals than can be achieved during 2024, so some high quality proposals may not be selected. We are looking forward to reviewing <a href="https://github.com/orgs/web-platform-tests/projects/3" rel="noopener">all the submissions</a>, and we'll post the final list here once Interop 2024 gets underway.</p>
<p><a href="https://github.com/web-platform-tests/interop/issues/new/choose" rel="noopener">Submit your proposals here</a>.</p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[四种常见的代码覆盖率类型]]></title>
            <link>https://web.dev/ta-code-coverage/</link>
            <guid>https://web.dev/ta-code-coverage/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>本文介绍了代码覆盖率（code coverage）的概念以及四种常见的衡量方法。代码覆盖率是衡量测试中执行的源代码百分比的度量标准，有助于发现可能缺乏适当测试的区域。常见的代码覆盖率衡量方法包括函数覆盖率、行覆盖率、分支覆盖率和语句覆盖率。

函数覆盖率衡量测试中调用的函数占总函数数量的百分比。行覆盖率衡量测试套件执行的可执行代码行数占总行数的百分比。分支覆盖率衡量代码中执行的分支或决策点的百分比，例如if语句或循环。语句覆盖率衡量测试执行的代码语句占总语句数量的百分比。

选择哪种代码覆盖率度量标准取决于项目要求、开发实践和测试目标。一般来说，语句覆盖率是一个很好的起点，因为它是一个简单易懂的度量标准。在达到较高的语句覆盖率后，可以逐步考虑分支覆盖率和函数覆盖率。

测试覆盖率和代码覆盖率是不同的概念。测试覆盖率是一种定性</summary>
    <div>
    <div>OriginTitle: Four common types of code coverage</div>

    </div></div><p>您听说过“代码覆盖率”这个词吗？ 在这篇文章中，我们将探讨测试中的代码覆盖率是什么以及衡量它的四种常见方法。</p>
<h2 id="what-is-code-coverage">什么是代码覆盖率？<a class="headline-link" href="https://web.dev/ta-code-coverage/#what-is-code-coverage">#</a></h2>
<p>代码覆盖率是衡量测试执行的源代码百分比的指标。 它可以帮助您识别可能缺乏适当测试的区域。</p>
<p>通常，记录这些指标如下所示：</p>
<style type="text/css">
   .tg { 
     边框：1px 实心 var(--color-lines); 
   } 

   .tg tbody { 
     背景颜色：var(--color-mid-bg); 
   } 
   .tg-zo2y 跨度 { 
     颜色：var(--颜色状态-坏文本)； 
   } 
   .tg-bsyc 跨度 { 
     颜色：var（--颜色状态-好文本）； 
   } 
   .tg-kfug 跨度 { 
     颜色：var（--颜色状态警告文本）； 
   } 
</style>
<table class="tg">
<thead>
  <tr>
    <th class="tg-1wig"><span>文件</span></th>
    <th class="tg-1wig"><span>% 报表</span></th>
    <th class="tg-1wig"><span>％ 分支</span></th>
    <th class="tg-1wig"><span>％ 功能</span></th>
    <th class="tg-1wig"><span>% 行数</span></th>
    <th class="tg-1wig"><span>未覆盖线</span></th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0lax"><span>文件.js</span></td>
    <td class="tg-bsyc"><span>90%</span></td>
    <td class="tg-bsyc"><span>100%</span></td>
    <td class="tg-bsyc"><span>90%</span></td>
    <td class="tg-bsyc"><span>80%</span></td>
    <td class="tg-zo2y"><span>89,256</span></td>
  </tr>
  <tr>
    <td class="tg-0lax"><span>咖啡.js</span></td>
    <td class="tg-kfug"><span>55.55%</span></td>
    <td class="tg-bsyc"><span>80%</span></td>
    <td class="tg-kfug"><span>50%</span></td>
    <td class="tg-kfug"><span>62.5%</span></td>
    <td class="tg-zo2y"><span>10-11, 18</span></td>
  </tr>
</tbody>
</table>
<p>当您添加新功能和测试时，增加代码覆盖率可以让您更有信心您的应用程序已经过彻底测试。 然而，还有更多有待发现。</p>
<h2 id="four-common-types-of-code-coverage">四种常见的代码覆盖率类型<a class="headline-link" href="https://web.dev/ta-code-coverage/#four-common-types-of-code-coverage">#</a></h2>
<p>收集和计算代码覆盖率有四种常见方法：函数覆盖率、行覆盖率、分支覆盖率和语句覆盖率。</p>
<img alt="Four types of text coverage." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>要了解每种类型的代码覆盖率如何计算其百分比，请考虑以下用于计算咖啡成分的代码示例：</p>
<div><pre class="language-js"><code class="language-js"><span class="token comment">/* 咖啡.js */</span><br><br><span class="token keyword">出口</span> <span class="token keyword">功能</span> <span class="token function">calc咖啡成分</span><span class="token punctuation">（</span><span class="token parameter">咖啡名称<span class="token punctuation">,</span>杯子<span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>  <span class="token keyword">让</span>浓咖啡<span class="token punctuation">,</span>水<span class="token punctuation">;</span><br><br>  <span class="token keyword">如果</span> <span class="token punctuation">（</span>咖啡名称<span class="token operator">===</span> <span class="token string">'浓咖啡'</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>浓咖啡<span class="token operator">=</span> <span class="token number">30</span> <span class="token operator">*</span>杯子<span class="token punctuation">;</span><br>    <span class="token keyword">返回</span> <span class="token punctuation">{</span>浓咖啡<span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">如果</span> <span class="token punctuation">（</span>咖啡名称<span class="token operator">===</span> <span class="token string">“美式”</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>浓咖啡<span class="token operator">=</span> <span class="token number">30</span> <span class="token operator">*</span>杯子<span class="token punctuation">;</span>水<span class="token operator">=</span> <span class="token number">70</span> <span class="token operator">*</span>杯子<span class="token punctuation">;</span><br>    <span class="token keyword">返回</span> <span class="token punctuation">{</span>浓咖啡<span class="token punctuation">,</span>水<span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">返回</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">出口</span> <span class="token keyword">功能</span> <span class="token function">有效咖啡</span><span class="token punctuation">（</span><span class="token parameter">姓名</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>  <span class="token keyword">返回</span> <span class="token punctuation">[</span><span class="token string">'浓咖啡'</span><span class="token punctuation">,</span> <span class="token string">“美式”</span><span class="token punctuation">,</span> <span class="token string">'摩卡'</span><span class="token punctuation">]</span><span class="token punctuation">。</span><span class="token function">包括</span><span class="token punctuation">（</span>姓名<span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><p>验证的测试<code>calc咖啡成分</code>功能是：</p>
<div><pre class="language-js"><code class="language-js"><span class="token comment">/* 咖啡.test.js */</span><br><br><span class="token keyword">进口</span> <span class="token punctuation">{</span>描述<span class="token punctuation">,</span>预计<span class="token punctuation">,</span>断言<span class="token punctuation">,</span>它<span class="token punctuation">}</span> <span class="token keyword">从</span> <span class="token string">'访问'</span><span class="token punctuation">;</span><br><span class="token keyword">进口</span> <span class="token punctuation">{</span>calc咖啡成分<span class="token punctuation">}</span> <span class="token keyword">从</span> <span class="token string">'../src/咖啡-不完整'</span><span class="token punctuation">;</span><br><br><span class="token function">描述</span><span class="token punctuation">（</span><span class="token string">'咖啡'</span><span class="token punctuation">,</span> <span class="token punctuation">（</span><span class="token punctuation">）</span> <span class="token operator">=&amp;gt;</span> <span class="token punctuation">{</span><br>  <span class="token function">它</span><span class="token punctuation">（</span><span class="token string">“应该喝浓缩咖啡”</span><span class="token punctuation">,</span> <span class="token punctuation">（</span><span class="token punctuation">）</span> <span class="token operator">=&amp;gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">常量</span>结果<span class="token operator">=</span> <span class="token function">calc咖啡成分</span><span class="token punctuation">（</span><span class="token string">'浓咖啡'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>    <span class="token function">预计</span><span class="token punctuation">（</span>结果<span class="token punctuation">）</span><span class="token punctuation">。</span>到<span class="token punctuation">。</span>深的<span class="token punctuation">。</span><span class="token function">平等的</span><span class="token punctuation">（</span><span class="token punctuation">{</span> <span class="token literal-property property">浓咖啡</span><span class="token operator">:</span> <span class="token number">60</span> <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><br>  <span class="token function">它</span><span class="token punctuation">（</span><span class="token string">“应该什么都没有”</span><span class="token punctuation">,</span> <span class="token punctuation">（</span><span class="token punctuation">）</span> <span class="token operator">=&amp;gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">常量</span>结果<span class="token operator">=</span> <span class="token function">calc咖啡成分</span><span class="token punctuation">（</span><span class="token string">'未知'</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>    <span class="token function">预计</span><span class="token punctuation">（</span>结果<span class="token punctuation">）</span><span class="token punctuation">。</span>到<span class="token punctuation">。</span>深的<span class="token punctuation">。</span><span class="token function">平等的</span><span class="token punctuation">（</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span></code></pre>
</div><p>您可以对此运行代码并进行测试<a href="https://stackblitz.com/edit/vitest-coffee-coverage?file=README.md" rel="noopener">现场演示</a>或查看<a href="https://github.com/leichteckig/vitest-coffee-example" rel="noopener">存储库</a>。</p>
<h3 id="function-coverage">功能覆盖<a class="headline-link" href="https://web.dev/ta-code-coverage/#function-coverage">#</a></h3>
<p><strong>代码覆盖率：50%</strong></p>
<style>del {文本装饰：无； ！重要的}</style>
<div><pre class="language-text"><code class="language-text"><span class="highlight-line">/* 咖啡.js */</span><br><ins class="highlight-line highlight-line-add"></ins><br><ins class="highlight-line highlight-line-add">导出函数 calcCoffeeIngredient(coffeeName, cup = 1) {</ins><br><ins class="highlight-line highlight-line-add">// ...</ins><br><ins class="highlight-line highlight-line-add">}</ins><br><del class="highlight-line highlight-line-remove"></del><br><del class="highlight-line highlight-line-remove">函数 isValidCoffee(名称) {</del><br><del class="highlight-line highlight-line-remove">// ...</del><br><del class="highlight-line highlight-line-remove">}</del></code></pre>
</div><p><em>功能覆盖</em>是一个简单的指标。 它捕获代码中测试调用的函数的百分比。</p>
<p>在代码示例中，有两个函数：<code>calc咖啡成分</code>和<code>有效咖啡</code>。 测试仅调用<code>calc咖啡成分</code>函数，所以函数覆盖率为50%。</p>
<h3 id="line-coverage">线路覆盖<a class="headline-link" href="https://web.dev/ta-code-coverage/#line-coverage">#</a></h3>
<p><strong>代码覆盖率：62.5%</strong></p>
<div><pre class="language-text"><code class="language-text"><span class="highlight-line">/* 咖啡.js */</span><br><span class="highlight-line"></span><br><span class="highlight-line">导出函数 calcCoffeeIngredient(coffeeName, cup = 1) {</span><br><span class="highlight-line">让浓缩咖啡、水；</span><br><span class="highlight-line"></span><br><ins class="highlight-line highlight-line-add">if (coffeeName === '浓缩咖啡') {</ins><br><ins class="highlight-line highlight-line-add">浓缩咖啡 = 30 * 杯；</ins><br><ins class="highlight-line highlight-line-add">返回{浓缩咖啡}；</ins><br><span class="highlight-line">}</span><br><span class="highlight-line"></span><br><ins class="highlight-line highlight-line-add">if (coffeeName === '美式咖啡') {</ins><br><del class="highlight-line highlight-line-remove">浓缩咖啡 = 30 * 杯； 水 = 70 * 杯；</del><br><del class="highlight-line highlight-line-remove">返回 { 浓缩咖啡，水 }；</del><br><span class="highlight-line">}</span><br><span class="highlight-line"></span><br><ins class="highlight-line highlight-line-add">返回 {};</ins><br><span class="highlight-line">}</span><br><span class="highlight-line"></span><br><span class="highlight-line">导出函数 isValidCoffee(名称) {</span><br><del class="highlight-line highlight-line-remove">return ['espresso', 'americano', 'mocha'].includes(name);</del><br><span class="highlight-line">}</span></code></pre>
</div><p><em>线路覆盖</em>测量测试套件执行的可执行代码行的百分比。 如果一行代码仍未执行，则意味着该代码的某些部分尚未经过测试。</p>
<p>该代码示例有八行可执行代码（以红色和绿色突出显示），但测试不执行<code>美式咖啡</code>条件（两行）和<code>有效咖啡</code>函数（一行）。 这导致线路覆盖率为 62.5%。</p>
<p>请注意，行覆盖率不考虑声明语句，例如<code>函数 isValidCoffee(名称)</code>和<code>让浓缩咖啡、水；</code>，因为它们不可执行。</p>
<h3 id="branch-coverage">分支机构覆盖范围<a class="headline-link" href="https://web.dev/ta-code-coverage/#branch-coverage">#</a></h3>
<p><strong>代码覆盖率：80%</strong></p>
<div><pre class="language-text"><code class="language-text"><span class="highlight-line">/* 咖啡.js */</span><br><ins class="highlight-line highlight-line-add"></ins><br><ins class="highlight-line highlight-line-add">导出函数 calcCoffeeIngredient(coffeeName, cup = 1) {</ins><br><span class="highlight-line">// ...</span><br><span class="highlight-line"></span><br><span class="highlight-line">if (coffeeName === '浓缩咖啡') {</span><br><span class="highlight-line">// ...</span><br><ins class="highlight-line highlight-line-add">返回{浓缩咖啡}；</ins><br><span class="highlight-line">}</span><br><span class="highlight-line"></span><br><span class="highlight-line">if (coffeeName === '美式咖啡') {</span><br><span class="highlight-line">// ...</span><br><del class="highlight-line highlight-line-remove">返回 { 浓缩咖啡，水 }；</del><br><span class="highlight-line">}</span><br><span class="highlight-line"></span><br><ins class="highlight-line highlight-line-add">返回 {};</ins><br><span class="highlight-line">}</span><br><span class="highlight-line">……</span></code></pre>
</div><p><em>分支机构覆盖范围</em>测量代码中执行的分支或决策点（例如 if 语句或循环）的百分比。 它确定测试是否检查条件语句的真分支和假分支。</p>
<p>代码示例中有五个分支：</p>
<style type="text/css">
   li img.custom-icon { 
     边距顶部：0！重要； 
     显示：内嵌； 
   } 
</style>
<ol>
<li>呼唤<code>calc咖啡成分</code>只用<code>咖啡名称</code> <img alt="Chek mark." class="custom-icon" decoding="async" height="20" loading="lazy" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/CpHz0pF9m750yTrbDveT.svg" width="20"></li>
<li>呼唤<code>calc咖啡成分</code>和<code>咖啡名称</code>和<code>杯子</code> <img alt="Chek mark." class="custom-icon" decoding="async" height="20" loading="lazy" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/CpHz0pF9m750yTrbDveT.svg" width="20"></li>
<li>咖啡是浓缩咖啡<img alt="Chek mark." class="custom-icon" decoding="async" height="20" loading="lazy" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/CpHz0pF9m750yTrbDveT.svg" width="20"></li>
<li>咖啡是美式咖啡<img alt="X mark." class="custom-icon" decoding="async" height="20" loading="lazy" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/ufOsI388YJ9gqjrXjZuQ.svg" width="20"></li>
<li>其他咖啡<img alt="Chek mark." class="custom-icon" decoding="async" height="20" loading="lazy" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/CpHz0pF9m750yTrbDveT.svg" width="20"></li>
</ol>
<p>测试涵盖除以下分支之外的所有分支<code>咖啡是美式咖啡</code>健康）状况。 所以分支机构覆盖率为80%。</p>
<h3 id="statement-coverage">报表覆盖范围<a class="headline-link" href="https://web.dev/ta-code-coverage/#statement-coverage">#</a></h3>
<p><strong>代码覆盖率：55.55%</strong></p>
<div><pre class="language-text"><code class="language-text"><span class="highlight-line">/* 咖啡.js */</span><br><span class="highlight-line"></span><br><span class="highlight-line">导出函数 calcCoffeeIngredient(coffeeName, cup = 1) {</span><br><span class="highlight-line">让浓缩咖啡、水；</span><br><span class="highlight-line"></span><br><ins class="highlight-line highlight-line-add">if (coffeeName === '浓缩咖啡') {</ins><br><ins class="highlight-line highlight-line-add">浓缩咖啡 = 30 * 杯；</ins><br><ins class="highlight-line highlight-line-add">返回{浓缩咖啡}；</ins><br><span class="highlight-line">}</span><br><span class="highlight-line"></span><br><ins class="highlight-line highlight-line-add">if (coffeeName === '美式咖啡') {</ins><br><del class="highlight-line highlight-line-remove">浓缩咖啡 = 30 * 杯； 水 = 70 * 杯；</del><br><del class="highlight-line highlight-line-remove">返回 { 浓缩咖啡，水 }；</del><br><span class="highlight-line">}</span><br><span class="highlight-line"></span><br><ins class="highlight-line highlight-line-add">返回 {};</ins><br><span class="highlight-line">}</span><br><span class="highlight-line"></span><br><span class="highlight-line">导出函数 isValidCoffee(名称) {</span><br><del class="highlight-line highlight-line-remove">return ['espresso', 'americano', 'mocha'].includes(name);</del><br><span class="highlight-line">}</span></code></pre>
</div><p><em>报表覆盖范围</em>测量测试执行的代码中语句的百分比。 乍一看，你可能会想，“这不是和线路覆盖一样吗？” 事实上，语句覆盖率与行覆盖率类似，但考虑了包含多个语句的单行代码。</p>
<p>在代码示例中，有八行可执行代码，但有九条语句。 你能发现包含两个语句的行吗？</p>
<details>
<summary>
  检查你的答案
</summary>
 这是下面一行：`espresso = 30 * cup; 水 = 70 * 杯；` 
</details>
<p>测试仅覆盖 9 个语句中的 5 个，因此语句覆盖率为 55.55%。</p>
<p>如果您始终每行编写一个语句，则行覆盖率将与语句覆盖率相似。</p>
<h2 id="what-type-of-code-coverage-should-you-choose">您应该选择什么类型的代码覆盖率？<a class="headline-link" href="https://web.dev/ta-code-coverage/#what-type-of-code-coverage-should-you-choose">#</a></h2>
<p>大多数代码覆盖率工具都包含这四种类型的常见代码覆盖率。 选择优先考虑的代码覆盖率指标取决于特定的项目需求、开发实践和测试目标。</p>
<p>一般来说，语句覆盖率是一个很好的起点，因为它是一个简单且易于理解的指标。 与语句覆盖率不同，分支覆盖率和函数覆盖率衡量测试是否调用条件（分支）或函数。 因此，它们是一个自然的进展<em>后</em>声明覆盖范围。</p>
<p>一旦实现了较高的语句覆盖率，您就可以继续进行分支覆盖率和函数覆盖率。</p>
<h2 id="is-test-coverage-the-same-as-code-coverage">测试覆盖率与代码覆盖率相同吗？<a class="headline-link" href="https://web.dev/ta-code-coverage/#is-test-coverage-the-same-as-code-coverage">#</a></h2>
<p>不会。测试覆盖率和代码覆盖率经常被混淆，但它们是不同的：</p>
<ul>
<li><strong>测试覆盖率</strong>：衡量测试套件覆盖软件功能的程度的定性指标。 它有助于确定所涉及的风险级别。</li>
<li><strong>代码覆盖率</strong>：衡量测试期间执行的代码比例的定量指标。 这是关于测试覆盖了多少代码。</li>
</ul>
<p>这是一个简化的类比：将 Web 应用程序想象成一座房子。</p>
<ul>
<li>测试覆盖率衡量测试覆盖房屋内房间的程度。</li>
<li>代码覆盖率衡量测试已经走过了多少房间。</li>
</ul>
<h2 id="100percent-code-coverage-doesnt-mean-no-bugs">100% 代码覆盖率并不意味着没有错误<a class="headline-link" href="https://web.dev/ta-code-coverage/#100percent-code-coverage-doesnt-mean-no-bugs">#</a></h2>
<p>虽然在测试中实现高代码覆盖率当然是可取的，但 100% 的代码覆盖率并不能保证代码中不存在错误或缺陷。</p>
<h3 id="a-meaningless-way-to-achieve-100percent-code-coverage">实现 100% 代码覆盖率的无意义方法<a class="headline-link" href="https://web.dev/ta-code-coverage/#a-meaningless-way-to-achieve-100percent-code-coverage">#</a></h3>
<p>考虑以下测试：</p>
<div><pre class="language-js"><code class="language-js"><span class="token comment">/* 咖啡.test.js */</span><br><br><span class="token comment">// ...</span><br><span class="token function">描述</span><span class="token punctuation">（</span><span class="token string">“警告：不要这样做”</span><span class="token punctuation">,</span> <span class="token punctuation">（</span><span class="token punctuation">）</span> <span class="token operator">=&amp;gt;</span> <span class="token punctuation">{</span><br>  <span class="token function">它</span><span class="token punctuation">（</span><span class="token string">“毫无意义”</span><span class="token punctuation">,</span> <span class="token punctuation">（</span><span class="token punctuation">）</span> <span class="token operator">=&amp;gt;</span> <span class="token punctuation">{</span> <br>    <span class="token function">calc咖啡成分</span><span class="token punctuation">（</span><span class="token string">'浓咖啡'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>    <span class="token function">calc咖啡成分</span><span class="token punctuation">（</span><span class="token string">“美式”</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>    <span class="token function">calc咖啡成分</span><span class="token punctuation">（</span><span class="token string">'未知'</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>    <span class="token function">有效咖啡</span><span class="token punctuation">（</span><span class="token string">'摩卡'</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>    <span class="token function">预计</span><span class="token punctuation">（</span><span class="token boolean">真的</span><span class="token punctuation">）</span><span class="token punctuation">。</span><span class="token function">成为</span><span class="token punctuation">（</span><span class="token boolean">真的</span><span class="token punctuation">）</span><span class="token punctuation">;</span> <span class="token comment">// 无意义的断言</span><br>  <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span></code></pre>
</div><p>该测试实现了 100% 的函数、行、分支和语句覆盖率，但它没有意义，因为它没有实际测试代码。 这<code>期望（真）.toBe（真）</code>无论代码是否正确工作，断言总是会通过。</p>
<h3 id="a-bad-metric-is-worse-than-no-metric">糟糕的指标比没有指标更糟糕<a class="headline-link" href="https://web.dev/ta-code-coverage/#a-bad-metric-is-worse-than-no-metric">#</a></h3>
<p>糟糕的指标会给您一种错误的安全感，这比根本没有指标更糟糕。 例如，如果您有一个实现 100% 代码覆盖率的测试套件，但所有测试都毫无意义，那么您可能会产生一种错误的安全感，认为您的代码经过了良好的测试。 如果您意外删除或破坏了应用程序代码的一部分，即使应用程序不再正常工作，测试仍然会通过。</p>
<p>为了避免这种情况：</p>
<ul>
<li><strong>测试回顾。</strong>编写和审查测试以确保它们有意义，并在各种不同的场景中测试代码。</li>
<li><strong>使用代码覆盖率作为指导</strong>，不能作为测试有效性或代码质量的唯一衡量标准。</li>
</ul>
<h2 id="using-code-coverage-in-different-types-of-testing">在不同类型的测试中使用代码覆盖率<a class="headline-link" href="https://web.dev/ta-code-coverage/#using-code-coverage-in-different-types-of-testing">#</a></h2>
<p>让我们仔细看看如何使用代码覆盖率<a href="https://web.dev/ta-what-to-test/#test-specifics-dos-and-donts">三种常见的测试类型</a>:</p>
<ul>
<li><strong>单元测试。</strong>它们是收集代码覆盖率的最佳测试类型，因为它们旨在覆盖多个小型场景和测试路径。</li>
<li><strong>集成测试。</strong>它们可以帮助收集集成测试的代码覆盖率，但请谨慎使用。 在这种情况下，您计算较大部分源代码的覆盖率，并且可能很难确定哪些测试实际上覆盖了代码的哪些部分。 尽管如此，计算集成测试的代码覆盖率对于没有良好隔离单元的遗留系统可能很有用。</li>
<li><strong>端到端（E2E）测试。</strong>由于这些测试的复杂性，测量 E2E 测试的代码覆盖率是困难且具有挑战性的。 需求覆盖率可能是更好的方法，而不是使用代码覆盖率。 这是因为E2E测试的重点是覆盖测试的需求，而不是关注源代码。</li>
</ul>
<h2 id="conclusion">结论<a class="headline-link" href="https://web.dev/ta-code-coverage/#conclusion">#</a></h2>
<p>代码覆盖率是衡量测试有效性的有用指标。 它可以确保代码中的关键逻辑经过良好的测试，从而帮助您提高应用程序的质量。</p>
<p>但是，请记住，代码覆盖率只是一个指标。 请务必考虑其他因素，例如测试的质量和应用程序要求。</p>
<p>实现 100% 代码覆盖率并不是目标。 相反，您应该使用代码覆盖率以及全面的测试计划，其中包含各种测试方法，包括单元测试、集成测试、端到端测试和手动测试。</p>
<p>查看完整的代码示例和具有良好代码覆盖率的测试。 您还可以用它来运行代码和测试<a href="https://stackblitz.com/edit/vitest-coffee-coverage?file=README.md" rel="noopener">现场演示</a>。</p>
<div><pre class="language-js"><code class="language-js"><span class="token comment">/* Coffee.js - 一个完整的例子 */</span><br><br><span class="token keyword">出口</span> <span class="token keyword">功能</span> <span class="token function">calc咖啡成分</span><span class="token punctuation">（</span><span class="token parameter">咖啡名称<span class="token punctuation">,</span>杯子<span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>  <span class="token keyword">如果</span> <span class="token punctuation">（</span><span class="token operator">！</span><span class="token function">有效咖啡</span><span class="token punctuation">（</span>咖啡名称<span class="token punctuation">）</span><span class="token punctuation">）</span> <span class="token keyword">返回</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">让</span>浓咖啡<span class="token punctuation">,</span>水<span class="token punctuation">;</span><br><br>  <span class="token keyword">如果</span> <span class="token punctuation">（</span>咖啡名称<span class="token operator">===</span> <span class="token string">'浓咖啡'</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>浓咖啡<span class="token operator">=</span> <span class="token number">30</span> <span class="token operator">*</span>杯子<span class="token punctuation">;</span><br>    <span class="token keyword">返回</span> <span class="token punctuation">{</span>浓咖啡<span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">如果</span> <span class="token punctuation">（</span>咖啡名称<span class="token operator">===</span> <span class="token string">“美式”</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>浓咖啡<span class="token operator">=</span> <span class="token number">30</span> <span class="token operator">*</span>杯子<span class="token punctuation">;</span>水<span class="token operator">=</span> <span class="token number">70</span> <span class="token operator">*</span>杯子<span class="token punctuation">;</span><br>    <span class="token keyword">返回</span> <span class="token punctuation">{</span>浓咖啡<span class="token punctuation">,</span>水<span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">扔</span> <span class="token keyword">新的</span> <span class="token class-name">错误</span> <span class="token punctuation">（</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>咖啡名称<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">未找到</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">功能</span> <span class="token function">有效咖啡</span><span class="token punctuation">（</span><span class="token parameter">姓名</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>  <span class="token keyword">返回</span> <span class="token punctuation">[</span><span class="token string">'浓咖啡'</span><span class="token punctuation">,</span> <span class="token string">“美式”</span><span class="token punctuation">,</span> <span class="token string">'摩卡'</span><span class="token punctuation">]</span><span class="token punctuation">。</span><span class="token function">包括</span><span class="token punctuation">（</span>姓名<span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><div><pre class="language-js"><code class="language-js"><span class="token comment">/* Coffee.test.js - 完整的测试套件 */</span><br><br><span class="token keyword">进口</span> <span class="token punctuation">{</span>描述<span class="token punctuation">,</span>预计<span class="token punctuation">,</span>它<span class="token punctuation">}</span> <span class="token keyword">从</span> <span class="token string">'访问'</span><span class="token punctuation">;</span><br><span class="token keyword">进口</span> <span class="token punctuation">{</span>calc咖啡成分<span class="token punctuation">}</span> <span class="token keyword">从</span> <span class="token string">'../src/咖啡完成'</span><span class="token punctuation">;</span><br><br><span class="token function">描述</span><span class="token punctuation">（</span><span class="token string">'咖啡'</span><span class="token punctuation">,</span> <span class="token punctuation">（</span><span class="token punctuation">）</span> <span class="token operator">=&amp;gt;</span> <span class="token punctuation">{</span><br>  <span class="token function">它</span><span class="token punctuation">（</span><span class="token string">“应该喝浓缩咖啡”</span><span class="token punctuation">,</span> <span class="token punctuation">（</span><span class="token punctuation">）</span> <span class="token operator">=&amp;gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">常量</span>结果<span class="token operator">=</span> <span class="token function">calc咖啡成分</span><span class="token punctuation">（</span><span class="token string">'浓咖啡'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>    <span class="token function">预计</span><span class="token punctuation">（</span>结果<span class="token punctuation">）</span><span class="token punctuation">。</span>到<span class="token punctuation">。</span>深的<span class="token punctuation">。</span><span class="token function">平等的</span><span class="token punctuation">（</span><span class="token punctuation">{</span> <span class="token literal-property property">浓咖啡</span><span class="token operator">:</span> <span class="token number">60</span> <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><br>  <span class="token function">它</span><span class="token punctuation">（</span><span class="token string">“应该有美式咖啡”</span><span class="token punctuation">,</span> <span class="token punctuation">（</span><span class="token punctuation">）</span> <span class="token operator">=&amp;gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">常量</span>结果<span class="token operator">=</span> <span class="token function">calc咖啡成分</span><span class="token punctuation">（</span><span class="token string">“美式”</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>    <span class="token function">预计</span><span class="token punctuation">（</span>结果<span class="token punctuation">。</span>浓咖啡<span class="token punctuation">）</span><span class="token punctuation">。</span>到<span class="token punctuation">。</span><span class="token function">平等的</span><span class="token punctuation">（</span><span class="token number">30</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>    <span class="token function">预计</span><span class="token punctuation">（</span>结果<span class="token punctuation">。</span>水<span class="token punctuation">）</span><span class="token punctuation">。</span>到<span class="token punctuation">。</span><span class="token function">平等的</span><span class="token punctuation">（</span><span class="token number">70</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><br>  <span class="token function">它</span><span class="token punctuation">（</span><span class="token string">'应该抛出错误'</span><span class="token punctuation">,</span> <span class="token punctuation">（</span><span class="token punctuation">）</span> <span class="token operator">=&amp;gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">常量</span> <span class="token function-variable function">功能</span> <span class="token operator">=</span> <span class="token punctuation">（</span><span class="token punctuation">）</span> <span class="token operator">=&amp;gt;</span> <span class="token function">calc咖啡成分</span><span class="token punctuation">（</span><span class="token string">'摩卡'</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>    <span class="token function">预计</span><span class="token punctuation">（</span>功能<span class="token punctuation">）</span><span class="token punctuation">。</span><span class="token function">抛出错误</span><span class="token punctuation">（</span><span class="token keyword">新的</span> <span class="token class-name">错误</span><span class="token punctuation">（</span><span class="token string">“找不到摩卡”</span><span class="token punctuation">）</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><br>  <span class="token function">它</span><span class="token punctuation">（</span><span class="token string">“应该什么都没有”</span><span class="token punctuation">,</span> <span class="token punctuation">（</span><span class="token punctuation">）</span> <span class="token operator">=&amp;gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">常量</span>结果<span class="token operator">=</span> <span class="token function">calc咖啡成分</span><span class="token punctuation">（</span><span class="token string">'未知'</span><span class="token punctuation">）</span><br>    <span class="token function">预计</span><span class="token punctuation">（</span>结果<span class="token punctuation">）</span><span class="token punctuation">。</span>到<span class="token punctuation">。</span>深的<span class="token punctuation">。</span><span class="token function">平等的</span><span class="token punctuation">（</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span></code></pre>
</div><aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">这篇博文由雷蒙娜和<a href="https://web.dev/authors/jecelynyeen/">叶洁琳</a>（<a href="https://twitter.com/jecfish">推特</a>），输入和审查来自<a href="https://www.linkedin.com/in/michael-hablich-2128646/">迈克尔·哈布里奇</a>（<a href="https://twitter.com/MHablich">推特</a>),<a href="https://web.dev/authors/rachelandrew/">雷切尔·安德鲁</a>， 和<a href="https://www.linkedin.com/in/sofia-yemelianova/">索菲亚·艾米利亚诺娃</a>。</div></aside>
<hr><p>Have you heard the phrase "code coverage"? In this post, we will explore what code coverage in tests is and four common ways to measure it.</p>
<h2 id="what-is-code-coverage">What is code coverage? <a class="headline-link" href="https://web.dev/ta-code-coverage/#what-is-code-coverage">#</a></h2>
<p>Code coverage is a metric that measures the percentage of source code your tests execute. It helps you identify areas that may lack proper testing.</p>
<p>Often, recording these metrics looks like this:</p>
<style type="text/css">
  .tg {
    border: 1px solid var(--color-stroke);
  }

  .tg tbody {
    background-color: var(--color-mid-bg);
  }
  .tg-zo2y span {
    color: var(--color-state-bad-text);
  }
  .tg-bsyc span {
    color: var(--color-state-good-text);
  }
  .tg-kfug span {
    color: var(--color-state-warn-text);
  }
</style>
<table class="tg">
<thead>
  <tr>
    <th class="tg-1wig"><span>File</span></th>
    <th class="tg-1wig"><span>% Statements</span></th>
    <th class="tg-1wig"><span>% Branch</span></th>
    <th class="tg-1wig"><span>% Functions</span></th>
    <th class="tg-1wig"><span>% Lines</span></th>
    <th class="tg-1wig"><span>Uncovered lines</span></th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0lax"><span>file.js</span></td>
    <td class="tg-bsyc"><span>90%</span></td>
    <td class="tg-bsyc"><span>100%</span></td>
    <td class="tg-bsyc"><span>90%</span></td>
    <td class="tg-bsyc"><span>80%</span></td>
    <td class="tg-zo2y"><span>89,256</span></td>
  </tr>
  <tr>
    <td class="tg-0lax"><span>coffee.js</span></td>
    <td class="tg-kfug"><span>55.55%</span></td>
    <td class="tg-bsyc"><span>80%</span></td>
    <td class="tg-kfug"><span>50%</span></td>
    <td class="tg-kfug"><span>62.5%</span></td>
    <td class="tg-zo2y"><span>10-11, 18</span></td>
  </tr>
</tbody>
</table>
<p>As you add new features and tests, increasing code coverage percentages can give you more confidence that your application has been thoroughly tested. However, there is more to discover.</p>
<h2 id="four-common-types-of-code-coverage">Four common types of code coverage <a class="headline-link" href="https://web.dev/ta-code-coverage/#four-common-types-of-code-coverage">#</a></h2>
<p>There are four common ways to collect and calculate code coverage: function, line, branch, and statement coverage.</p>
<img alt="Four types of text coverage." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/cgSv5bcoysXyAkJiJt0V.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>To see how each type of code coverage calculates its percentage, consider the following code example for calculating coffee ingredients:</p>
<div><pre class="language-js"><code class="language-js"><span class="token comment">/* coffee.js */</span><br><br><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">calcCoffeeIngredient</span><span class="token punctuation">(</span><span class="token parameter">coffeeName<span class="token punctuation">,</span> cup <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">let</span> espresso<span class="token punctuation">,</span> water<span class="token punctuation">;</span><br><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>coffeeName <span class="token operator">===</span> <span class="token string">'espresso'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    espresso <span class="token operator">=</span> <span class="token number">30</span> <span class="token operator">*</span> cup<span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token punctuation">{</span> espresso <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>coffeeName <span class="token operator">===</span> <span class="token string">'americano'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    espresso <span class="token operator">=</span> <span class="token number">30</span> <span class="token operator">*</span> cup<span class="token punctuation">;</span> water <span class="token operator">=</span> <span class="token number">70</span> <span class="token operator">*</span> cup<span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token punctuation">{</span> espresso<span class="token punctuation">,</span> water <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">isValidCoffee</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">'espresso'</span><span class="token punctuation">,</span> <span class="token string">'americano'</span><span class="token punctuation">,</span> <span class="token string">'mocha'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><p>The tests that verify the <code>calcCoffeeIngredient</code> function are:</p>
<div><pre class="language-js"><code class="language-js"><span class="token comment">/* coffee.test.js */</span><br><br><span class="token keyword">import</span> <span class="token punctuation">{</span> describe<span class="token punctuation">,</span> expect<span class="token punctuation">,</span> assert<span class="token punctuation">,</span> it <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vitest'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span> calcCoffeeIngredient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../src/coffee-incomplete'</span><span class="token punctuation">;</span><br><br><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Coffee'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should have espresso'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">calcCoffeeIngredient</span><span class="token punctuation">(</span><span class="token string">'espresso'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>deep<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">espresso</span><span class="token operator">:</span> <span class="token number">60</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should have nothing'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">calcCoffeeIngredient</span><span class="token punctuation">(</span><span class="token string">'unknown'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>deep<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div><p>You can run the code and tests on this <a href="https://stackblitz.com/edit/vitest-coffee-coverage?file=README.md" rel="noopener">live demo</a> or check out the <a href="https://github.com/leichteckig/vitest-coffee-example" rel="noopener">repository</a>.</p>
<h3 id="function-coverage">Function coverage <a class="headline-link" href="https://web.dev/ta-code-coverage/#function-coverage">#</a></h3>
<p><strong>Code coverage: 50%</strong></p>
<style>del {text-decoration: none; !important}</style>
<div><pre class="language-text"><code class="language-text"><span class="highlight-line">/* coffee.js */</span><br><ins class="highlight-line highlight-line-add"></ins><br><ins class="highlight-line highlight-line-add">export function calcCoffeeIngredient(coffeeName, cup = 1) {</ins><br><ins class="highlight-line highlight-line-add">  // ...</ins><br><ins class="highlight-line highlight-line-add">}</ins><br><del class="highlight-line highlight-line-remove"></del><br><del class="highlight-line highlight-line-remove">function isValidCoffee(name) {</del><br><del class="highlight-line highlight-line-remove">  // ...</del><br><del class="highlight-line highlight-line-remove">}</del></code></pre>
</div><p><em>Function coverage</em> is a straightforward metric. It captures the percentage of functions in your code that your tests call.</p>
<p>In the code example, there are two functions: <code>calcCoffeeIngredient</code> and <code>isValidCoffee</code>. The tests only call the <code>calcCoffeeIngredient</code> function, so the function coverage is 50%.</p>
<h3 id="line-coverage">Line coverage <a class="headline-link" href="https://web.dev/ta-code-coverage/#line-coverage">#</a></h3>
<p><strong>Code coverage: 62.5%</strong></p>
<div><pre class="language-text"><code class="language-text"><span class="highlight-line">/* coffee.js */</span><br><span class="highlight-line"></span><br><span class="highlight-line">export function calcCoffeeIngredient(coffeeName, cup = 1) {</span><br><span class="highlight-line">  let espresso, water;</span><br><span class="highlight-line"></span><br><ins class="highlight-line highlight-line-add">  if (coffeeName === 'espresso') {</ins><br><ins class="highlight-line highlight-line-add">    espresso = 30 * cup;</ins><br><ins class="highlight-line highlight-line-add">    return { espresso };</ins><br><span class="highlight-line">  }</span><br><span class="highlight-line"></span><br><ins class="highlight-line highlight-line-add">  if (coffeeName === 'americano') {</ins><br><del class="highlight-line highlight-line-remove">    espresso = 30 * cup; water = 70 * cup;</del><br><del class="highlight-line highlight-line-remove">    return { espresso, water };</del><br><span class="highlight-line">  }</span><br><span class="highlight-line"></span><br><ins class="highlight-line highlight-line-add">  return {};</ins><br><span class="highlight-line">}</span><br><span class="highlight-line"></span><br><span class="highlight-line">export function isValidCoffee(name) {</span><br><del class="highlight-line highlight-line-remove">  return ['espresso', 'americano', 'mocha'].includes(name);</del><br><span class="highlight-line">}</span></code></pre>
</div><p><em>Line coverage</em> measures the percentage of executable code lines that your test suite executed. If a line of code remains unexecuted, it means that some part of the code hasn't been tested.</p>
<p>The code example has eight lines of executable code (highlighted in red and green)  but the tests don’t execute the <code>americano</code> condition (two lines) and the <code>isValidCoffee</code> function (one line). This results in a line coverage of 62.5%.</p>
<p>Note that line coverage doesn’t take into account declaration statements, such as <code>function isValidCoffee(name)</code> and <code>let espresso, water;</code>, because they are not executable.</p>
<h3 id="branch-coverage">Branch coverage <a class="headline-link" href="https://web.dev/ta-code-coverage/#branch-coverage">#</a></h3>
<p><strong>Code coverage: 80%</strong></p>
<div><pre class="language-text"><code class="language-text"><span class="highlight-line">/* coffee.js */</span><br><ins class="highlight-line highlight-line-add"></ins><br><ins class="highlight-line highlight-line-add">export function calcCoffeeIngredient(coffeeName, cup = 1) {</ins><br><span class="highlight-line">  // ...</span><br><span class="highlight-line"></span><br><span class="highlight-line">  if (coffeeName === 'espresso') {</span><br><span class="highlight-line">    // ...</span><br><ins class="highlight-line highlight-line-add">    return { espresso };</ins><br><span class="highlight-line">  }</span><br><span class="highlight-line"></span><br><span class="highlight-line">  if (coffeeName === 'americano') {</span><br><span class="highlight-line">    // ...</span><br><del class="highlight-line highlight-line-remove">    return { espresso, water };</del><br><span class="highlight-line">  }</span><br><span class="highlight-line"></span><br><ins class="highlight-line highlight-line-add">  return {};</ins><br><span class="highlight-line">}</span><br><span class="highlight-line">…</span></code></pre>
</div><p><em>Branch coverage</em> measures the percentage of executed branches or decision points in the code, such as if statements or loops. It determines whether tests examine both the true and false branches of conditional statements.</p>
<p>There are five branches in the code example:</p>
<style type="text/css">
  li img.custom-icon {
    margin-top:0 !important;
    display:inline;
  }
</style>
<ol>
<li>Calling <code>calcCoffeeIngredient</code> with just <code>coffeeName</code> <img alt="Chek mark." class="custom-icon" decoding="async" height="20" loading="lazy" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/CpHz0pF9m750yTrbDveT.svg" width="20"></li>
<li>Calling <code>calcCoffeeIngredient</code> with <code>coffeeName</code> and <code>cup</code> <img alt="Chek mark." class="custom-icon" decoding="async" height="20" loading="lazy" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/CpHz0pF9m750yTrbDveT.svg" width="20"></li>
<li>Coffee is Espresso <img alt="Chek mark." class="custom-icon" decoding="async" height="20" loading="lazy" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/CpHz0pF9m750yTrbDveT.svg" width="20"></li>
<li>Coffee is Americano <img alt="X mark." class="custom-icon" decoding="async" height="20" loading="lazy" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/ufOsI388YJ9gqjrXjZuQ.svg" width="20"></li>
<li>Other coffee <img alt="Chek mark." class="custom-icon" decoding="async" height="20" loading="lazy" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/CpHz0pF9m750yTrbDveT.svg" width="20"></li>
</ol>
<p>The tests cover all branches except the <code>Coffee is Americano</code> condition. So branch coverage is 80%.</p>
<h3 id="statement-coverage">Statement coverage <a class="headline-link" href="https://web.dev/ta-code-coverage/#statement-coverage">#</a></h3>
<p><strong>Code coverage: 55.55%</strong></p>
<div><pre class="language-text"><code class="language-text"><span class="highlight-line">/* coffee.js */</span><br><span class="highlight-line"></span><br><span class="highlight-line">export function calcCoffeeIngredient(coffeeName, cup = 1) {</span><br><span class="highlight-line">  let espresso, water;</span><br><span class="highlight-line"></span><br><ins class="highlight-line highlight-line-add">  if (coffeeName === 'espresso') {</ins><br><ins class="highlight-line highlight-line-add">    espresso = 30 * cup;</ins><br><ins class="highlight-line highlight-line-add">    return { espresso };</ins><br><span class="highlight-line">  }</span><br><span class="highlight-line"></span><br><ins class="highlight-line highlight-line-add">  if (coffeeName === 'americano') {</ins><br><del class="highlight-line highlight-line-remove">    espresso = 30 * cup; water = 70 * cup;</del><br><del class="highlight-line highlight-line-remove">    return { espresso, water };</del><br><span class="highlight-line">  }</span><br><span class="highlight-line"></span><br><ins class="highlight-line highlight-line-add">  return {};</ins><br><span class="highlight-line">}</span><br><span class="highlight-line"></span><br><span class="highlight-line">export function isValidCoffee(name) {</span><br><del class="highlight-line highlight-line-remove">  return ['espresso', 'americano', 'mocha'].includes(name);</del><br><span class="highlight-line">}</span></code></pre>
</div><p><em>Statement coverage</em> measures the percentage of statements in your code that your tests execute. At first glance, you might wonder, “isn’t this the same as line coverage?” Indeed, statement coverage is similar to line coverage but takes into account single lines of code that contain multiple statements.</p>
<p>In the code example, there are eight lines of executable code, but there are nine statements. Can you spot the line containing two statements?</p>
<details>
<summary>
  Check your answer
</summary>
It's the following line: `espresso = 30 * cup; water = 70 * cup;`
</details>
<p>The tests cover only five of the nine statements, therefore the statement coverage is 55.55%.</p>
<p>If you always write one statement per line, your line coverage will be similar to your statement coverage.</p>
<h2 id="what-type-of-code-coverage-should-you-choose">What type of code coverage should you choose? <a class="headline-link" href="https://web.dev/ta-code-coverage/#what-type-of-code-coverage-should-you-choose">#</a></h2>
<p>Most code coverage tools include these four types of common code coverage. Choosing which code coverage metric to prioritize depends on specific project requirements, development practices, and testing goals.</p>
<p>In general, statement coverage is a good starting point because it is a simple and easy-to-understand metric. Unlike statement coverage, branch coverage and function coverage measure whether tests call a condition (branch) or a function. Therefore, they are a natural progression <em>after</em> statement coverage.</p>
<p>Once you have achieved high statement coverage, you can then move on to branch coverage and function coverage.</p>
<h2 id="is-test-coverage-the-same-as-code-coverage">Is test coverage the same as code coverage? <a class="headline-link" href="https://web.dev/ta-code-coverage/#is-test-coverage-the-same-as-code-coverage">#</a></h2>
<p>No. Test coverage and code coverage are often confused but they are different:</p>
<ul>
<li><strong>Test coverage</strong>: Aqualitative metric that measures how well the test suite covers the features of the software. It helps determine the level of risk involved.</li>
<li><strong>Code coverage</strong>: A quantitative metric that measures the proportion of code executed during testing. It is about how much code the tests cover.</li>
</ul>
<p>Here is a simplified analogy: imagine a web application as a house.</p>
<ul>
<li>Test coverage measures how well the tests cover the rooms in the house.</li>
<li>Code coverage measures how much of the house the tests have walked through.</li>
</ul>
<h2 id="100percent-code-coverage-doesnt-mean-no-bugs">100% code coverage doesn’t mean no bugs <a class="headline-link" href="https://web.dev/ta-code-coverage/#100percent-code-coverage-doesnt-mean-no-bugs">#</a></h2>
<p>While it is certainly desirable to achieve high code coverage in testing, 100% code coverage doesn’t guarantee the absence of bugs or flaws in your code.</p>
<h3 id="a-meaningless-way-to-achieve-100percent-code-coverage">A meaningless way to achieve 100% code coverage <a class="headline-link" href="https://web.dev/ta-code-coverage/#a-meaningless-way-to-achieve-100percent-code-coverage">#</a></h3>
<p>Consider the following test:</p>
<div><pre class="language-js"><code class="language-js"><span class="token comment">/* coffee.test.js */</span><br><br><span class="token comment">// ...</span><br><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Warning: Do not do this'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'is meaningless'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <br>    <span class="token function">calcCoffeeIngredient</span><span class="token punctuation">(</span><span class="token string">'espresso'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">calcCoffeeIngredient</span><span class="token punctuation">(</span><span class="token string">'americano'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">calcCoffeeIngredient</span><span class="token punctuation">(</span><span class="token string">'unknown'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">isValidCoffee</span><span class="token punctuation">(</span><span class="token string">'mocha'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// not meaningful assertion</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div><p>This test achieves 100% function, line, branch, and statement coverage, but it doesn’t make sense because it doesn’t actually test the code. The <code>expect(true).toBe(true)</code> assertion will always pass regardless of whether the code works correctly.</p>
<h3 id="a-bad-metric-is-worse-than-no-metric">A bad metric is worse than no metric <a class="headline-link" href="https://web.dev/ta-code-coverage/#a-bad-metric-is-worse-than-no-metric">#</a></h3>
<p>A bad metric can give you a false sense of security, which is worse than having no metric at all. For example, if you have a test suite that achieves 100% code coverage but the tests are all meaningless, then you may get a false sense of security that your code is well tested. If you accidentally delete or break a part of the application code, the tests will still pass, even though the application no longer works correctly.</p>
<p>To avoid this scenario:</p>
<ul>
<li><strong>Test review.</strong> Write and review tests to make sure they are meaningful and test the code in a variety of different scenarios.</li>
<li><strong>Use code coverage as a guideline</strong>, not as the only measure of test effectiveness or code quality.</li>
</ul>
<h2 id="using-code-coverage-in-different-types-of-testing">Using code coverage in different types of testing <a class="headline-link" href="https://web.dev/ta-code-coverage/#using-code-coverage-in-different-types-of-testing">#</a></h2>
<p>Let’s take a closer look at how you can use code coverage with the <a href="https://web.dev/ta-what-to-test/#test-specifics-dos-and-donts">three common types of test</a>:</p>
<ul>
<li><strong>Unit tests.</strong> They are the best test type for gathering code coverage because they are designed to cover multiple small scenarios and testing paths.</li>
<li><strong>Integration tests.</strong> They can help collect code coverage for integration tests, but use them with caution. In this case, you calculate the coverage of a larger portion of the source code, and it can be difficult to determine which tests actually cover which parts of the code. Nonetheless, calculating code coverage of integration tests may be useful for legacy systems that don’t have well-isolated units.</li>
<li><strong>End-to-end (E2E) tests.</strong> Measuring code coverage for E2E tests is difficult and challenging due to the intricate nature of these tests. Instead of using code coverage, requirement coverage might be the better way to go. This is because the focus of E2E tests is to cover the requirements of your test, not to focus on the source code.</li>
</ul>
<h2 id="conclusion">Conclusion <a class="headline-link" href="https://web.dev/ta-code-coverage/#conclusion">#</a></h2>
<p>Code coverage can be a useful metric for measuring the effectiveness of your tests. It can help you to improve the quality of your application by ensuring that the crucial logic in your code is well tested.</p>
<p>However, remember that code coverage is just one metric. Make sure to also consider other factors, such as the quality of your tests and your application requirements.</p>
<p>Aiming for 100% code coverage is not the goal. Instead, you should use code coverage along with a well-rounded testing plan that incorporates a variety of testing methods, including unit tests, integration tests, end-to-end tests, and manual tests.</p>
<p>See the full code example and tests with good code coverage. You can also run the code and tests with this <a href="https://stackblitz.com/edit/vitest-coffee-coverage?file=README.md" rel="noopener">live demo</a>.</p>
<div><pre class="language-js"><code class="language-js"><span class="token comment">/* coffee.js - a complete example */</span><br><br><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">calcCoffeeIngredient</span><span class="token punctuation">(</span><span class="token parameter">coffeeName<span class="token punctuation">,</span> cup <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isValidCoffee</span><span class="token punctuation">(</span>coffeeName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">let</span> espresso<span class="token punctuation">,</span> water<span class="token punctuation">;</span><br><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>coffeeName <span class="token operator">===</span> <span class="token string">'espresso'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    espresso <span class="token operator">=</span> <span class="token number">30</span> <span class="token operator">*</span> cup<span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token punctuation">{</span> espresso <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>coffeeName <span class="token operator">===</span> <span class="token string">'americano'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    espresso <span class="token operator">=</span> <span class="token number">30</span> <span class="token operator">*</span> cup<span class="token punctuation">;</span> water <span class="token operator">=</span> <span class="token number">70</span> <span class="token operator">*</span> cup<span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token punctuation">{</span> espresso<span class="token punctuation">,</span> water <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span> <span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>coffeeName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> not found</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">function</span> <span class="token function">isValidCoffee</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">'espresso'</span><span class="token punctuation">,</span> <span class="token string">'americano'</span><span class="token punctuation">,</span> <span class="token string">'mocha'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><div><pre class="language-js"><code class="language-js"><span class="token comment">/* coffee.test.js - a complete test suite */</span><br><br><span class="token keyword">import</span> <span class="token punctuation">{</span> describe<span class="token punctuation">,</span> expect<span class="token punctuation">,</span> it <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vitest'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span> calcCoffeeIngredient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../src/coffee-complete'</span><span class="token punctuation">;</span><br><br><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Coffee'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should have espresso'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">calcCoffeeIngredient</span><span class="token punctuation">(</span><span class="token string">'espresso'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>deep<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">espresso</span><span class="token operator">:</span> <span class="token number">60</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should have americano'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">calcCoffeeIngredient</span><span class="token punctuation">(</span><span class="token string">'americano'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>espresso<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>water<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should throw error'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">calcCoffeeIngredient</span><span class="token punctuation">(</span><span class="token string">'mocha'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrowError</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'mocha not found'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should have nothing'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">calcCoffeeIngredient</span><span class="token punctuation">(</span><span class="token string">'unknown'</span><span class="token punctuation">)</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>deep<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div><aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> This blog post was written by Ramona and <a href="https://web.dev/authors/jecelynyeen/">Jecelyn Yeen</a> (<a href="https://twitter.com/jecfish">Twitter</a>), with input and review from <a href="https://www.linkedin.com/in/michael-hablich-2128646/">Michael Hablich</a> (<a href="https://twitter.com/MHablich">Twitter</a>), <a href="https://web.dev/authors/rachelandrew/">Rachel Andrew</a>, and <a href="https://www.linkedin.com/in/sofia-yemelianova/">Sofia Emelianova</a>. </div></aside>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[预取如何帮助 Terra 将广告点击率提高 30% 并加快 Largest Contentful Paint 的速度。]]></title>
            <link>https://web.dev/terra-prefetching-case-study/</link>
            <guid>https://web.dev/terra-prefetching-case-study/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>这篇文章介绍了Terra使用预取技术来改善页面加载时间的案例研究。预取是一种通过下载可能在不久的将来需要的资源或整个页面来加快页面加载速度的技术。研究表明，更快的加载时间可以提高转化率和用户体验。

Terra是巴西最大的内容门户之一，每月拥有超过6300万独立访问者。他们与Terra的工程团队合作，通过在网站的特定部分使用预取技术来改善文章的加载时间。

预取策略是通过一些条件来确定是否预取文章。首先，需要检测到包含要预取的文章的部分的可见性。其次，需要满足一些有利于增加数据使用的条件，例如连接速度至少为3G，设备内存至少为4GB，或者设备运行的是iOS系统。最后，还需要检查CPU是否空闲，以便执行额外的工作。

Terra通过遵循这些条件来确保只在必要时预取数据，从而节省带宽和电池寿命，并减少未使用的预取的影响。

通过预取文章，Terra观察到广告指标的整体增加以及LCP和TTFB时间的减少。具体来说，在移动端，广告点击率增加了11%，在桌面端增加了30%；广告可见性分</summary>
    <div>
    <div>OriginTitle: How prefetching helped Terra increase ads click-through rate by 30% and speed up Largest Contentful Paint.</div>

    </div></div><p>预取是一种通过下载近期可能需要的资源（甚至整个页面）来加速页面加载的技术。 研究表明<a href="https://wpostats.com/" rel="noopener">更快的加载时间带来更高的转化率</a>和更好的用户体验。</p>
<p><a href="https://www.terra.com/" rel="noopener">泰拉</a>是巴西最大的内容门户网站之一，提供娱乐、新闻和体育内容，每月独立访问者超过 6300 万。 我们与 Terra 的工程团队合作，通过在其网站的某些部分使用预取技术来缩短文章的加载时间。</p>
<p>此案例研究描述了 Terra 的旅程实施，该实施使移动设备上的广告点击率 (CTR) 提高了 11%，桌面上的广告点击率提高了 30%，并且广告点击率降低了 50%<a href="https://web.dev/lcp/">最大内容涂料 (LCP)</a>次。</p>
<h2 id="prefetching-strategy">预取策略<a class="headline-link" href="https://web.dev/terra-prefetching-case-study/#prefetching-strategy">#</a></h2>
<p>预取已经存在一段时间了，但谨慎使用它很重要，因为它会为并非立即需要的资源消耗额外的带宽。 应谨慎应用此技术，以避免不必要的数据使用。 对于 Terra，如果满足以下条件，则会预取文章：</p>
<ul>
<li><strong>预取文章链接的可见性：</strong>泰拉使用了<a href="https://developer.mozilla.org/docs/Web/API/Intersection_Observer_API" rel="noopener">路口观察器 API</a>检测包含他们想要预取的文章的部分的可见性。</li>
<li><strong>增加数据使用的有利条件：</strong>如前所述，预取是一种推测性性能改进，会消耗额外的数据，并且在每种情况下都可能不是理想的结果。 为了减少浪费带宽的可能性，Terra 使用<a href="https://wicg.github.io/netinfo/" rel="noopener">网络信息API</a>随着<a href="https://developer.chrome.com/blog/device-memory/" rel="noopener">设备内存API</a>判断是否获取下一篇文章。 Terra 仅在以下情况下获取下一篇文章： 
<ul>
<li>连接速度至少为3G，设备内存至少为4GB，</li>
<li>或者如果设备运行的是 iOS。</li>
</ul>
</li>
<li><strong>CPU空闲：</strong>最后，Terra 检查 CPU 是否空闲并且能够通过使用执行额外的工作<a href="https://developer.mozilla.org/docs/Web/API/Window/requestIdleCallback" rel="noopener"><code>请求空闲回调</code></a>，当主线程空闲时或在特定（可选）截止日期之前（以先到者为准），它需要处理回调。</li>
</ul>
<p>遵守这些条件可确保 Terra 仅在必要时获取数据，从而节省带宽和电池寿命，并最大限度地减少最终未使用的预取的影响。</p>
<p>当满足这些条件时，Terra 会预取以下部分中存在的文章：“相关内容”和“为您推荐”，下面以蓝色突出显示。</p>
<figure>
  <img alt="A screenshot of the two sections on the Terra website in which links were prefetched. At left, the 'Related content' section is highlighted, whereas on the right, the 'Recommended for you' section is highlighted." decoding="async" height="494" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<h2 id="business-impact">商业冲击<a class="headline-link" href="https://web.dev/terra-prefetching-case-study/#business-impact">#</a></h2>
<p>为了衡量这项技术的影响，Terra 首先在文章页面的“相关内容”部分推出了这项功能。 UTM 代码帮助他们区分预取的文章和非预取的文章以进行比较。 经过两周成功的 A/B 测试后，Terra 决定将预取功能添加到“为您推荐”部分。</p>
<p>由于预取文章，广告指标总体增加，LCP 和<a href="https://web.dev/ttfb/">第一个字节的时间 (TTFB)</a>观察到的次数：</p>
<div class="table-wrapper scrollbar">
  <table>
    <thead>
      <tr>
        <th>公制</th>
        <th>移动的</th>
        <th>桌面</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>广告点击率</td>
        <td>+11%</td>
        <td>+30%</td>
      </tr>
      <tr>
        <td>广告可见度</td>
        <td>+10.5%</td>
        <td>+6%</td>
      </tr>
      <tr>
        <td>液晶聚合物</td>
        <td>-51%</td>
        <td>-73%</td>
      </tr>
      <tr>
        <td>TTFB</td>
        <td>-83%</td>
        <td>-84%</td>
      </tr>
    </tbody>
  </table>
</div>
<p>谨慎使用预取可以极大地缩短页面加载时间、增加广告指标并减少 LCP 时间。</p>
<h2 id="technical-details">技术细节<a class="headline-link" href="https://web.dev/terra-prefetching-case-study/#technical-details">#</a></h2>
<p>预取可以通过使用资源提示来实现，例如<a href="https://developer.mozilla.org/docs/Glossary/Prefetch" rel="noopener"><code>rel=预取</code></a>或者<a href="https://developer.mozilla.org/docs/Web/HTML/Attributes/rel/preload" rel="noopener"><code>相对=预载</code></a>，通过诸如<a href="https://github.com/GoogleChromeLabs/quicklink" rel="noopener">快速链接</a>或者<a href="https://github.com/guess-js" rel="noopener">猜猜看</a>，或使用较新的推测规则 API。 Terra 选择通过使用来实现这一点<a href="https://developer.mozilla.org/docs/Web/API/Fetch_API" rel="noopener">获取API</a>与一个<a href="https://developer.mozilla.org/docs/Web/API/fetch#:~:text=priority" rel="noopener">低优先级</a>与 Intersection Observer 实例结合使用。 Terra 做出了这个选择，因为它允许他们支持 Safari，而 Safari 还不支持其他预取方法，例如<code>rel=预取</code>或推测规则 API，并且功能齐全的 JavaScript 库对于 Terra 的需求来说并不是必需的。</p>
<p>下面的 JavaScript 大致相当于 Terra 使用的代码：</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">功能</span> <span class="token function">预取</span><span class="token punctuation">（</span><span class="token parameter">节点列表</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br><br>    <span class="token comment">// 排除慢 ECT &amp;lt; 3g</span><br>  <span class="token keyword">如果</span> <span class="token punctuation">（</span>航海家<span class="token punctuation">。</span>联系<span class="token operator">&amp;amp;&amp;amp;</span><br>    <span class="token punctuation">（</span>航海家<span class="token punctuation">。</span>联系<span class="token punctuation">。</span>有效类型<span class="token operator">===</span> <span class="token string">'慢-2g'</span><br>      <span class="token operator">||</span>航海家<span class="token punctuation">。</span>联系<span class="token punctuation">。</span>有效类型<span class="token operator">===</span> <span class="token string">'2克'</span><span class="token punctuation">）</span><br>  <span class="token punctuation">）</span> <span class="token punctuation">{</span><br>    <span class="token keyword">返回</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>    <span class="token comment">// 排除内存 &amp;lt;= 2GB 的低端设备</span><br>  <span class="token keyword">如果</span> <span class="token punctuation">（</span>航海家<span class="token punctuation">。</span>设备内存<span class="token operator">&amp;amp;&amp;amp;</span>航海家<span class="token punctuation">。</span>设备内存<span class="token operator">&amp;lt;=</span> <span class="token number">2</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>    <span class="token keyword">返回</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">常量</span>获取链接列表<span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">常量</span>观察者<span class="token operator">=</span> <span class="token keyword">新的</span> <span class="token class-name">路口观察者</span><span class="token punctuation">（</span><span class="token keyword">功能</span> <span class="token punctuation">（</span><span class="token parameter">条目</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>条目<span class="token punctuation">。</span><span class="token function">对于每个</span><span class="token punctuation">（</span><span class="token keyword">功能</span> <span class="token punctuation">（</span><span class="token parameter">入口</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>      <span class="token keyword">如果</span> <span class="token punctuation">（</span>入口<span class="token punctuation">。</span>相交<span class="token punctuation">）</span> <span class="token punctuation">{</span><br>        <span class="token keyword">如果</span> <span class="token punctuation">（</span><span class="token operator">！</span>获取链接列表<span class="token punctuation">[</span>入口<span class="token punctuation">。</span>目标<span class="token punctuation">。</span>链接地址<span class="token punctuation">]</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>获取链接列表<span class="token punctuation">[</span>入口<span class="token punctuation">。</span>目标<span class="token punctuation">。</span>链接地址<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">真的</span><span class="token punctuation">;</span><br><br>          <span class="token function">拿来</span><span class="token punctuation">（</span>入口<span class="token punctuation">。</span>目标<span class="token punctuation">,</span> <span class="token punctuation">{</span><br>            <span class="token literal-property property">优先事项</span><span class="token operator">:</span> <span class="token string">'低的'</span><br>          <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <br>观察者<span class="token punctuation">。</span><span class="token function">不观察</span><span class="token punctuation">（</span>入口<span class="token operator">=</span>入口<span class="token punctuation">。</span>目标<span class="token punctuation">）</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">常量</span>空闲回调<span class="token operator">=</span>窗户<span class="token punctuation">。</span>请求空闲回调<span class="token operator">||</span> <span class="token keyword">功能</span> <span class="token punctuation">（</span><span class="token parameter">CB</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>  <span class="token keyword">让</span>开始<span class="token operator">=</span>日期<span class="token punctuation">。</span><span class="token function">现在</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">返回</span> <span class="token function">设置超时时间</span><span class="token punctuation">（</span><span class="token keyword">功能</span> <span class="token punctuation">（</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>    <span class="token function">CB</span><span class="token punctuation">（</span><span class="token punctuation">{</span><br>      <span class="token literal-property property">超时</span><span class="token operator">:</span> <span class="token boolean">错误的</span><span class="token punctuation">,</span><br>      <span class="token function-variable function">剩余时间</span><span class="token operator">:</span> <span class="token keyword">功能</span> <span class="token punctuation">（</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>        <span class="token keyword">返回</span>数学<span class="token punctuation">。</span><span class="token function">最大限度</span><span class="token punctuation">（</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span> <span class="token operator">-</span> <span class="token punctuation">（</span>日期<span class="token punctuation">。</span><span class="token function">现在</span><span class="token punctuation">（</span><span class="token punctuation">）</span> <span class="token operator">-</span>开始<span class="token punctuation">）</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token function">空闲回调</span><span class="token punctuation">（</span><span class="token keyword">功能</span> <span class="token punctuation">（</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>  <span class="token function">预取</span><span class="token punctuation">（</span>节点列表<span class="token punctuation">）</span><br><span class="token punctuation">}</span><span class="token punctuation">）</span></code></pre>
</div><ul>
<li>这<code>预取</code>在启动预取之前，函数首先检查最低连接质量和设备内存。</li>
<li>然后它使用一个<code>路口观察者</code>监视元素何时在视口中可见，然后将 URL 添加到列表中以进行预取。</li>
<li>预取过程的安排是<code>请求空闲回调</code>，旨在执行<code>预取</code>当主线程空闲时运行。</li>
</ul>
<h2 id="conclusion">结论<a class="headline-link" href="https://web.dev/terra-prefetching-case-study/#conclusion">#</a></h2>
<p>如果谨慎使用，预取可以显着减少未来导航请求的加载时间，从而减少用户旅程中的摩擦并提高参与度。 预取会导致加载可能不会使用的额外字节，因此 Terra 采取了额外的步骤，仅在良好的网络条件下和可用的设备上进行预取。</p>
<p><em>特别感谢 Gilberto Cocchi、Harry Theodoulou、Miguel Carlos Martínez Díaz、Barry Pollard、Jeremy Wagner 和 Terra 的工程团队对这项工作的贡献。</em></p>
<hr><p>Prefetching is a technique used to speed up page loading by downloading resources—or even entire pages—which are likely to be needed in the near future. Research has shown that <a href="https://wpostats.com/" rel="noopener">faster load times result in higher conversion rates</a> and better user experiences.</p>
<p><a href="https://www.terra.com/" rel="noopener">Terra</a> is one of the largest content portals from Brazil, offering entertainment, news, and sports with more than 63 million unique visitors per month. We’ve collaborated with Terra’s engineering team to improve the loading time of articles by using prefetching techniques on certain sections of their website.</p>
<p>This case study describes Terra’s journey implementation which resulted in a 11% ads click-through rate (CTR) increase on mobile, 30% ads CTR on desktop, and 50% reduction in the <a href="https://web.dev/lcp/">Largest Contentful Paint (LCP)</a> times.</p>
<h2 id="prefetching-strategy">Prefetching strategy <a class="headline-link" href="https://web.dev/terra-prefetching-case-study/#prefetching-strategy">#</a></h2>
<p>Prefetching has been around for a while, but it is important to use it carefully as it consumes extra bandwidth for resources that are not immediately necessary. This technique should be applied thoughtfully to avoid unnecessary data usage. In the case of Terra, articles are prefetched if the following conditions are met:</p>
<ul>
<li><strong>Visibility of links to prefetched articles:</strong> Terra used the <a href="https://developer.mozilla.org/docs/Web/API/Intersection_Observer_API" rel="noopener">Intersection Observer API</a> to detect viewability of the section containing the articles that they wanted to prefetch.</li>
<li><strong>Favorable conditions for increased data usage:</strong> As mentioned previously, prefetching is a speculative performance improvement that consumes extra data, and that may not be a desirable outcome in every situation. To reduce the likelihood of wasting bandwidth, Terra uses the <a href="https://wicg.github.io/netinfo/" rel="noopener">Network Information API</a> along with the <a href="https://developer.chrome.com/blog/device-memory/" rel="noopener">Device Memory API</a> to determine whether to fetch the next article. Terra only fetches the next article when:
<ul>
<li>The connection speed is at least 3G and the device has at least 4GB of memory,</li>
<li>or if the device is running iOS.</li>
</ul>
</li>
<li><strong>CPU idle:</strong> Finally, Terra checks if the CPU is idle and able to perform extra work by using <a href="https://developer.mozilla.org/docs/Web/API/Window/requestIdleCallback" rel="noopener"><code>requestIdleCallback</code></a>, which takes a callback to be processed when the main thread is idle, or by a specific (optional) deadline—whichever comes first.</li>
</ul>
<p>Adhering to these conditions ensures that Terra only fetches data when necessary, which saves bandwidth and battery life, and minimizes the impact of prefetches that end up going unused.</p>
<p>When these conditions are met, Terra prefetches the articles present in the sections: "Related Content" and "Recommended for you" highlighted in blue below.</p>
<figure>
  <img alt="A screenshot of the two sections on the Terra website in which links were prefetched. At left, the 'Related content' section is highlighted, whereas on the right, the 'Recommended for you' section is highlighted." decoding="async" height="494" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/Z5yUqXEgRMMMUqXtYCw1.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<h2 id="business-impact">Business Impact <a class="headline-link" href="https://web.dev/terra-prefetching-case-study/#business-impact">#</a></h2>
<p>In order to measure the impact of this technique, Terra first launched this feature in the "Related content" section of the article page. A UTM code helped them to differentiate between prefetched and non-prefetched articles for comparison purposes. After two weeks of successful A/B testing, Terra decided to add the prefetching functionality to the "Recommended for you" section.</p>
<p>As a result of prefetching articles, an overall increase of ads metrics and a reduction of LCP and <a href="https://web.dev/ttfb/">Time to First Byte (TTFB)</a> times were observed:</p>
<div class="table-wrapper scrollbar">
  <table>
    <thead>
      <tr>
        <th>Metric</th>
        <th>Mobile</th>
        <th>Desktop</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Ads CTR</td>
        <td>+11%</td>
        <td>+30%</td>
      </tr>
      <tr>
        <td>Ads viewability</td>
        <td>+10.5%</td>
        <td>+6%</td>
      </tr>
      <tr>
        <td>LCP</td>
        <td>-51%</td>
        <td>-73%</td>
      </tr>
      <tr>
        <td>TTFB</td>
        <td>-83%</td>
        <td>-84%</td>
      </tr>
    </tbody>
  </table>
</div>
<p>Prefetching—when used with care—greatly improves page load time, increases ads metrics, and reduces LCP time.</p>
<h2 id="technical-details">Technical details <a class="headline-link" href="https://web.dev/terra-prefetching-case-study/#technical-details">#</a></h2>
<p>Prefetching can be achieved through the use of resource hints such as <a href="https://developer.mozilla.org/docs/Glossary/Prefetch" rel="noopener"><code>rel=prefetch</code></a> or <a href="https://developer.mozilla.org/docs/Web/HTML/Attributes/rel/preload" rel="noopener"><code>rel=preload</code></a>, via libraries such as <a href="https://github.com/GoogleChromeLabs/quicklink" rel="noopener">quicklink</a> or <a href="https://github.com/guess-js" rel="noopener">Guess.js</a>, or using the newer Speculation Rules API. Terra has chosen to implement this by using the <a href="https://developer.mozilla.org/docs/Web/API/Fetch_API" rel="noopener">fetch API</a> with a <a href="https://developer.mozilla.org/docs/Web/API/fetch#:~:text=priority" rel="noopener">low priority</a> in combination with an Intersection Observer instance. Terra made this choice as it allows them to support Safari, which doesn't yet support other prefetching methods like <code>rel=prefetch</code> or the Speculation Rules API, and a full-featured JavaScript library wasn't necessary for Terra's needs.</p>
<p>The below JavaScript is approximately equivalent to the code used by Terra:</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">prefetch</span><span class="token punctuation">(</span><span class="token parameter">nodeLists</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br><br>    <span class="token comment">// Exclude slow ECTs &lt; 3g</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>connection <span class="token operator">&amp;&amp;</span><br>    <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>connection<span class="token punctuation">.</span>effectiveType <span class="token operator">===</span> <span class="token string">'slow-2g'</span><br>      <span class="token operator">||</span> navigator<span class="token punctuation">.</span>connection<span class="token punctuation">.</span>effectiveType <span class="token operator">===</span> <span class="token string">'2g'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>    <span class="token comment">// Exclude low end device which is device with memory &lt;= 2GB</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>deviceMemory <span class="token operator">&amp;&amp;</span> navigator<span class="token punctuation">.</span>deviceMemory <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">const</span> fetchLinkList <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntersectionObserver</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">entries</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    entries<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">entry</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>isIntersecting<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fetchLinkList<span class="token punctuation">[</span>entry<span class="token punctuation">.</span>target<span class="token punctuation">.</span>href<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>          fetchLinkList<span class="token punctuation">[</span>entry<span class="token punctuation">.</span>target<span class="token punctuation">.</span>href<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><br><br>          <span class="token function">fetch</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span><br>            <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token string">'low'</span><br>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <br>        observer<span class="token punctuation">.</span><span class="token function">unobserve</span><span class="token punctuation">(</span>entry <span class="token operator">=</span> entry<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">const</span> idleCallback <span class="token operator">=</span> window<span class="token punctuation">.</span>requestIdleCallback <span class="token operator">||</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">let</span> start <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">return</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>      <span class="token literal-property property">didTimeout</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>      <span class="token function-variable function">timeRemaining</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span> <span class="token operator">-</span> <span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token function">idleCallback</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">prefetch</span><span class="token punctuation">(</span>nodeLists<span class="token punctuation">)</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
</div><ul>
<li>The <code>prefetch</code> function first checks for a minimum connection quality and device memory before initiating prefetching.</li>
<li>Then it uses an <code>IntersectionObserver</code> to monitor when elements become visible in the viewport, and subsequently adds URLs to a list for prefetching.</li>
<li>The prefetch process is scheduled with <code>requestIdleCallback</code>, aiming to execute the <code>prefetch</code> function when the main thread is idle.</li>
</ul>
<h2 id="conclusion">Conclusion <a class="headline-link" href="https://web.dev/terra-prefetching-case-study/#conclusion">#</a></h2>
<p>When used with care, prefetching can significantly reduce load times for future navigation requests, thereby reducing friction in the user journey and increasing engagement. Prefetching results in loading of extra bytes that may not be used, so Terra took extra steps to only prefetch under good network conditions and on capable devices, where this information is available.</p>
<p><em>Special thanks to Gilberto Cocchi, Harry Theodoulou, Miguel Carlos Martínez Díaz, Barry Pollard, Jeremy Wagner and Terra's Engineering team for their contribution to this work.</em></p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[八月份网络平台新功能]]></title>
            <link>https://web.dev/web-platform-08-2023/</link>
            <guid>https://web.dev/web-platform-08-2023/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>2023年8月，Firefox 116、Firefox 117、Safari 16.6和Chrome 116发布了稳定版本。这篇文章介绍了这些版本对Web平台的影响。

Firefox 116在除Android外的所有平台上支持音频输出设备API。这个API允许Web应用程序将音频输出重定向到允许的蓝牙耳机、扬声器电话或其他设备，而不是使用浏览器或底层操作系统的默认设置。

Chrome 116包括CSS Motion Path，允许开发人员将任何图形对象沿着指定的路径进行动画化。这使得可以使用极坐标（使用ray()函数）而不是translate()函数使用的标准矩形坐标来定位，或者沿着定义的路径动画化元素。这使得定义复杂而美丽的2D空间过渡更容易。路径可以指定为circle()、ellipse()、rect()、inset()、xywh()、polygon()、ray()和url()。

Chrome 116还包括Document Picture-in-Picture API。这使得可以创建一个始终置顶的窗口，并可以在其中放置任意HTMLElements。这是对现有的HTMLVideoElement API的扩展，该API只允许将HTMLVideoElement放入画中画（PiP）窗口。

Firefox 117支持CSS Nesting和&amp;嵌套选择器。这使得可以将一个样式规则嵌套在另一个样式规则</summary>
    <div>
    <div>OriginTitle: New to the web platform in August</div>

    </div></div><h2 id="stable-browser-releases">稳定的浏览器版本<a class="headline-link" href="https://web.dev/web-platform-08-2023/#stable-browser-releases">#</a></h2>
<p>2023年8月<a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/116" rel="noopener">火狐116</a>,<a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/117" rel="noopener">火狐117</a>,<a href="https://developer.apple.com/documentation/safari-release-notes/safari-16_6-release-notes" rel="noopener">Safari 16.6</a>， 和<a href="https://developer.chrome.com/blog/new-in-chrome-116/" rel="noopener">铬116</a>变得稳定。 这篇文章探讨了这对网络平台意味着什么。</p>
<aside class="aside flow bg-state-bad-bg color-state-bad-text"><p class="cluster color-state-bad-text"><span class="aside__icon box-block "><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Error sign">   <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-2h2v2h-2zm0-10v6h2V7h-2z"></path> </svg></span><strong>警告</strong></p><div class=" flow">我们在这些帖子中包含从 MDN 中提取的浏览器兼容性数据，这些数据对于最新的浏览器版本可能尚未更新。 该帖子一旦出现在帖子中，就会显示正确的信息<a href="https://github.com/mdn/browser-compat-data/releases">浏览器兼容数据发布</a>。</div></aside>
<p>火狐 116 支持<a href="https://developer.mozilla.org/docs/Web/API/Audio_Output_Devices_API" rel="noopener">音频输出设备API</a>在除 Android 之外的所有平台上。 此 API 允许 Web 应用程序将音频输出重定向到允许的蓝牙耳机、扬声器或其他设备，而不必使用浏览器或底层操作系统默认设置。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">铬，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">火狐预览, 预览</span>
</span>
<span class="wdi-browser-compat__version" data-compat="preview" title="Preview" aria-label="Preview"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/API/MediaDevices/selectAudioOutput#browser_compatibility" target="_blank">来源</a>
</div>
<p>Chrome 116 包含 CSS 运动路径，允许任何图形对象沿着开发人员指定的路径进行动画处理。 这允许许多强大的新变换可能性，例如使用极坐标定位（使用<code>射线（）</code>函数）而不是使用的标准直角坐标<code>翻译（）</code>函数，或者沿着定义的路径对元素进行动画处理。 这使得定义复杂而美丽的二维空间过渡变得更加容易。 路径可以指定为<code>圆圈（）</code>,<code>椭圆（）</code>,<code>矩形（）</code>,<code>插图（）</code>,<code>xywh()</code>,<code>多边形（）</code>,<code>射线（）</code>和<code>网址（）</code>。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">铬，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">火狐浏览器，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
</div>
<p>Chrome 116 中还有<a href="https://developer.chrome.com/docs/web-platform/document-picture-in-picture/" rel="noopener">文档画中画 API</a>。 这使得可以使用任意 HTMLElement 填充始终位于顶部的窗口。 这是对现有 HTMLVideoElement API 的扩展，仅允许将 HTMLVideoElement 放入画中画 (PiP) 窗口中。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">铬，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">火狐浏览器，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
</div>
<p>火狐117支持<a href="https://developer.mozilla.org/docs/Web/CSS/CSS_nesting" rel="noopener">CSS 嵌套</a>和<a href="https://developer.mozilla.org/docs/Web/CSS/Nesting_selector" rel="noopener"><code>&amp;amp;</code>嵌套选择器</a>。 这使得一种样式规则可以嵌套在另一种样式规则中。 这使得 CSS 嵌套可以与警告互操作，Safari 和 Chrome 实现了旧版本的规范，该版本不允许嵌套<a href="https://developer.mozilla.org/docs/Web/CSS/Type_selectors" rel="noopener">类型选择器</a>。 Firefox 已经实现了新版本的规范，不需要<code>&amp;amp;</code>嵌套选择器。 您可以在以下位置查看两个版本的示例<a href="https://developer.mozilla.org/docs/Web/CSS/CSS_nesting/Using_CSS_nesting" rel="noopener">使用 CSS 嵌套</a>。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 112，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      112
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐浏览器，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘 112，支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
112
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari 16.5，支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
16.5
</span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/Nesting_selectors#browser_compatibility" target="_blank">来源</a>
</div>
<h2 id="beta-browser-releases">测试版浏览器发布<a class="headline-link" href="https://web.dev/web-platform-08-2023/#beta-browser-releases">#</a></h2>
<p>Beta 浏览器版本可让您预览浏览器下一个稳定版本中的内容。 现在是测试新功能或删除的好时机，这些功能或删除可能会在发布该版本之前影响您的网站。 新的测试版是<a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/118" rel="noopener">火狐118</a>和<a href="https://developer.chrome.com/blog/chrome-117-beta/" rel="noopener">铬117</a>。 这<a href="https://developer.apple.com/documentation/safari-release-notes/safari-17-release-notes" rel="noopener">狩猎17</a>测试版仍在进行中。 这些版本为该平台带来了许多出色的功能。 查看发行说明以了解所有详细信息，这里仅列出一些亮点。</p>
<p>目前还没有关于下一个 Firefox 版本的太多信息。 然而，Chrome 117 承诺提供一些令人兴奋的功能。 例如，一些新的 CSS 功能<a href="https://developer.chrome.com/blog/entry-exit-animations/" rel="noopener">启用进入和退出动画</a>。</p>
<p>这<code>子网格</code>价值<code>网格模板列</code>和<code>网格模板行</code>包含在 Chrome 117 中，使得这一渴望的功能具有可互操作性。</p>
<p>Chrome 117 中还支持 JavaScript 数组分组<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/groupBy" rel="noopener">对象.groupBy</a>和<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map/groupBy" rel="noopener">映射.groupBy</a>静态方法。</p>
<p>Safari 17 测试版包括<code>弹出窗口</code>属性，添加对<a href="https://developer.chrome.com/blog/introducing-popover-api/" rel="noopener">弹出框 API</a>。</p>
<p><em>拍摄者<a href="https://unsplash.com/@courtneymcook" rel="noopener">考特尼·库克</a>。</em></p>
<hr><h2 id="stable-browser-releases">Stable browser releases <a class="headline-link" href="https://web.dev/web-platform-08-2023/#stable-browser-releases">#</a></h2>
<p>In August 2023 <a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/116" rel="noopener">Firefox 116</a>, <a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/117" rel="noopener">Firefox 117</a>, <a href="https://developer.apple.com/documentation/safari-release-notes/safari-16_6-release-notes" rel="noopener">Safari 16.6</a>, and <a href="https://developer.chrome.com/blog/new-in-chrome-116/" rel="noopener">Chrome 116</a> became stable. This post takes a look at what that means for the web platform.</p>
<aside class="aside flow bg-state-bad-bg color-state-bad-text"><p class="cluster color-state-bad-text"><span class="aside__icon box-block "><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Error sign">   <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-2h2v2h-2zm0-10v6h2V7h-2z"></path> </svg></span><strong>Caution</strong></p><div class=" flow"> We include browser compatibility data pulled from MDN in these posts which may not have been updated yet for very recent browser releases. The post will show the correct information as soon as it appears in the <a href="https://github.com/mdn/browser-compat-data/releases">browser-compat-data release</a>. </div></aside>
<p>Firefox 116 supports the <a href="https://developer.mozilla.org/docs/Web/API/Audio_Output_Devices_API" rel="noopener">Audio Output Devices API</a> on all platforms except for Android. This API allows web applications to redirect audio output to a permitted Bluetooth headset, speakerphone, or other device, instead of having to use the browser or underlying OS default.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">Firefox preview, Preview</span>
</span>
<span class="wdi-browser-compat__version" data-compat="preview" title="Preview" aria-label="Preview"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/API/MediaDevices/selectAudioOutput#browser_compatibility" target="_blank">Source</a>
</div>
<p>Chrome 116 includes CSS Motion Path allowing any graphical object to be animated it along a path specified by the developer. This allows a number of powerful new transform possibilities, such as positioning using polar coordinates (with the <code>ray()</code> function) rather than the standard rectangular coordinates used by the <code>translate()</code> function, or animating an element along a defined path. This makes it easier to define complex and beautiful 2d spatial transitions. A path can be specified as <code>circle()</code>, <code>ellipse()</code>, <code>rect()</code>, <code>inset()</code>, <code>xywh()</code>, <code>polygon()</code>, <code>ray()</code> and <code>url()</code>.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">Firefox, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
</div>
<p>Also in Chrome 116 is the <a href="https://developer.chrome.com/docs/web-platform/document-picture-in-picture/" rel="noopener">Document Picture-in-Picture API</a>. This enables an always-on-top window that can be populated with arbitrary HTMLElements. This is an expansion upon the existing HTMLVideoElement API that only allows for an HTMLVideoElement to be put into a Picture-in-Picture (PiP) window.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">Firefox, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
</div>
<p>Firefox 117 supports <a href="https://developer.mozilla.org/docs/Web/CSS/CSS_nesting" rel="noopener">CSS Nesting</a> and the <a href="https://developer.mozilla.org/docs/Web/CSS/Nesting_selector" rel="noopener"><code>&amp;</code> nesting selector</a>. This enables the nesting of one style rule inside another. This makes CSS Nesting interoperable with a caveat, Safari and Chrome implemented an older version of the spec, which did not allow nesting of <a href="https://developer.mozilla.org/docs/Web/CSS/Type_selectors" rel="noopener">type selectors</a>. Firefox has implemented the new version of the spec which does not require the <code>&amp;</code> nesting selector. You can see examples of both versions in <a href="https://developer.mozilla.org/docs/Web/CSS/CSS_nesting/Using_CSS_nesting" rel="noopener">Using CSS Nesting</a>.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 112, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      112
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge 112, Supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
112
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari 16.5, Supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
16.5
</span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/Nesting_selectors#browser_compatibility" target="_blank">Source</a>
</div>
<h2 id="beta-browser-releases">Beta browser releases <a class="headline-link" href="https://web.dev/web-platform-08-2023/#beta-browser-releases">#</a></h2>
<p>Beta browser versions give you a preview of things that will be in the next stable version of the browser. It's a great time to test new features, or removals, that could impact your site before the world gets that release. New betas are <a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/118" rel="noopener">Firefox 118</a> and <a href="https://developer.chrome.com/blog/chrome-117-beta/" rel="noopener">Chrome 117</a>. The <a href="https://developer.apple.com/documentation/safari-release-notes/safari-17-release-notes" rel="noopener">Safari 17</a> beta is still ongoing. These releases bring many great features to the platform. Check out the release notes for all of the details, here are just a few highlights.</p>
<p>There's not a lot of information available as yet for the next Firefox release. However, Chrome 117 promises some exciting features. For example, some new CSS features that <a href="https://developer.chrome.com/blog/entry-exit-animations/" rel="noopener">enable entry and exit animations</a>.</p>
<p>The <code>subgrid</code> value for <code>grid-template-columns</code> and <code>grid-template-rows</code> is included in Chrome 117, making this longed for feature interoperable.</p>
<p>Also in Chrome 117 is JavaScript array grouping with the <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/groupBy" rel="noopener">Object.groupBy</a> and <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map/groupBy" rel="noopener">Map.groupBy</a> static methods.</p>
<p>Safari 17 beta includes the <code>popover</code> attribute, to add support for the <a href="https://developer.chrome.com/blog/introducing-popover-api/" rel="noopener">Popover API</a>.</p>
<p><em>Photo by <a href="https://unsplash.com/@courtneymcook" rel="noopener">Courtney Cook</a>.</em></p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[测试或不测试，技术角度]]></title>
            <link>https://web.dev/ta-what-to-test/</link>
            <guid>https://web.dev/ta-what-to-test/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>这篇文章深入探讨了从技术角度创建测试用例的细节，详细说明了每个测试应该包含什么，以及应该避免什么。从根本上说，你将了解到关于“什么需要测试”或“什么不需要测试”的古老问题的答案。

总体指导原则和模式 #
值得注意的是，无论是进行单元测试、集成测试还是端到端测试，都需要遵循特定的模式和原则。这些原则可以应用于两种类型的测试，因此它们是一个很好的起点。
保持简单 #
在编写测试时，最重要的一点是保持简单。要考虑到大脑的容量。主要的生产代码占据了很大的空间，留下很少的空间来容纳额外的复杂性。这对于测试来说尤其如此。
如果可用的头脑空间较少，你可能会在测试工作中变得更加放松。这就是为什么在测试中优先考虑简单性非常重要。事实上，Yoni Goldberg的JavaScript测试最佳实践强调了黄金法则的重要性——你的测试应该像一个助手，而不是一个复杂的数学公式。换句话说，你应该能够在第一眼就理解你的测试的意图。

无论测试的复杂性如</summary>
    <div>
    <div>OriginTitle: To test or not to test, a technical perspective</div>

    </div></div><p>这<a href="https://web.dev/ta-types/">上一篇文章</a>涵盖了测试用例的基础知识及其应包含的内容。 本文从技术角度深入探讨了测试用例的创建，详细说明了每个测试中应该包含哪些内容以及应该避免哪些内容。 本质上，您将了解“测试什么”或“不测试什么”这些古老问题的答案。</p>
<img alt="What to test or not to test." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=1600 1600w" width="800">
<h2 id="general-guidelines-and-patterns">一般准则和模式<a class="headline-link" href="https://web.dev/ta-what-to-test/#general-guidelines-and-patterns">#</a></h2>
<p>值得注意的是，无论您是进行单元测试、集成测试还是端到端测试，特定的模式和点都至关重要。 这些原则可以而且应该适用于这两种类型的测试，因此它们是一个很好的起点。</p>
<h3 id="keep-it-simple">把事情简单化<a class="headline-link" href="https://web.dev/ta-what-to-test/#keep-it-simple">#</a></h3>
<p>在编写测试时，要记住的最重要的事情之一就是保持简单。 考虑大脑的能力很重要。 主要生产代码占用了大量空间，几乎没有留下额外复杂性的空间。 对于测试来说尤其如此。</p>
<p>如果可用的顶部空间较少，您的测试工作可能会变得更加轻松。 这就是为什么在测试中优先考虑简单性至关重要。 事实上，尤尼·戈德堡<a href="https://github.com/goldbergyoni/javascript-testing-best-practices#%EF%B8%8F-0-the-golden-rule-design-for-lean-testing" rel="noopener">JavaScript 测试最佳实践</a>强调黄金法则的重要性——你的测试应该像一个助手，而不是一个复杂的数学公式。 换句话说，您应该能够第一眼就理解您的测试的意图。</p>
<img alt="Don't make tests complex, they shouldn't feel this way." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>您应该以所有类型的测试的简单性为目标，无论其复杂程度如何。 事实上，测试越复杂，简化它就越重要。 实现这一目标的一种方法是通过扁平测试设计，其中测试尽可能简单，并且仅测试必要的内容。 这意味着每个测试应该只包含一个测试用例，并且该测试用例应该专注于测试单个特定的功能或特性。</p>
<p>从这个角度思考：在阅读失败的测试时应该很容易识别出了什么问题。 这就是为什么保持测试简单且易于理解很重要。 这样做可以让您在出现问题时快速识别并解决问题。</p>
<h3 id="test-whats-worth-it">测试一下什么是值得的<a class="headline-link" href="https://web.dev/ta-what-to-test/#test-whats-worth-it">#</a></h3>
<p>扁平测试设计还可以鼓励集中注意力并有助于确保您的测试有意义。 请记住，您不想仅仅为了覆盖范围而创建测试 - 它们应该始终有一个目的。</p>
<img alt="Don't test all the things." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=1600 1600w" width="800">
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">在我们的<a href="https://web.dev/ta-types/">上一篇文章</a>，我们讨论了在确定测试工作优先级时要记住的三个关键点。 这三个优先事项可以帮助您决定是否应将相关案例包含在您的测试中。</div></aside>
<h3 id="dont-test-implementation-details">不要测试实现细节<a class="headline-link" href="https://web.dev/ta-what-to-test/#dont-test-implementation-details">#</a></h3>
<p>测试中的一个常见问题是测试通常旨在测试实现细节，例如在组件中使用选择器或端到端测试。 实现细节是指代码的用户通常不会使用、看到甚至不知道的事情。 这可能导致测试中的两个主要问题：假阴性和假阳性。</p>
<p>当测试失败时，即使测试的代码是正确的，也会出现漏报。 当由于应用程序代码重构而导致实现细节发生变化时，就会发生这种情况。 另一方面，当测试通过时，即使正在测试的代码不正确，也会出现误报。</p>
<p>此问题的一种解决方案是考虑您拥有的不同类型的用户。 最终用户和开发人员的方法可能不同，他们与代码的交互也可能不同。 在规划测试时，必须考虑用户将看到什么或与之交互，并使测试依赖于这些东西而不是实现细节。</p>
<p>例如，选择不易更改的选择器可以使测试更加可靠：数据属性而不是 CSS 选择器。 欲了解更多详情，请参阅<a href="https://kentcdodds.com/blog/testing-implementation-details" rel="noopener">肯特·C·多兹的文章</a>关于这个主题，或者继续关注——稍后将有一篇关于这个主题的文章。</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">相反，如果您编写得很好，这也会对您的源代码结构产生积极的影响，例如，当您考虑代码的可测试性时。</div></aside>
<h3 id="mocking-dont-lose-control">嘲笑：不要失去控制<a class="headline-link" href="https://web.dev/ta-what-to-test/#mocking-dont-lose-control">#</a></h3>
<p>模拟是一个广泛的概念，用于单元测试，有时也用于集成测试。 它涉及创建虚假数据或组件来模拟对应用程序具有完全控制权的依赖关系。 这允许进行隔离测试。</p>
<p>在测试中使用模拟可以提高可预测性、关注点分离和性能。 而且，如果您需要进行需要人工参与的测试（例如护照验证），则必须使用模拟来隐藏它。 出于所有这些原因，模拟是一个值得考虑的有价值的工具。</p>
<p>同时，模拟可能会影响测试的准确性，因为它们是模拟，而不是真实的用户体验。 因此，在使用模拟和存根时需要小心。</p>
<h4 id="should-you-mock-in-end-to-end-tests">你应该在端到端测试中进行模拟吗？<a class="headline-link" href="https://web.dev/ta-what-to-test/#should-you-mock-in-end-to-end-tests">#</a></h4>
<p>一般来说，没有。 然而，嘲笑有时可以成为救星——所以我们不能完全排除它。</p>
<p>想象一下这样的场景：您正在为涉及第三方支付提供商服务的功能编写测试。 您处于他们提供的沙箱环境中，这意味着没有发生真正的交易。 不幸的是，沙箱出现故障，从而导致您的测试失败。 修复需要由支付提供商完成。 您所能做的就是等待提供商解决问题。</p>
<p>在这种情况下，减少对您无法控制的服务的依赖可能会更有利。 
 仍然建议在集成或端到端测试中谨慎使用模拟，因为它会降低测试的置信度。</p>
<h2 id="test-specifics-dos-and-donts">测试细节：注意事项<a class="headline-link" href="https://web.dev/ta-what-to-test/#test-specifics-dos-and-donts">#</a></h2>
<p>那么，总而言之，测试包含哪些内容？ 测试类型之间是否存在差异？ 让我们仔细看看针对主要测试类型量身定制的一些具体方面。</p>
<h3 id="what-belongs-to-a-good-unit-test">什么属于好的单元测试？<a class="headline-link" href="https://web.dev/ta-what-to-test/#what-belongs-to-a-good-unit-test">#</a></h3>
<p>理想且有效的单元测试应该：</p>
<ul>
<li>专注于具体方面。</li>
<li>独立经营。</li>
<li>涵盖小规模场景。</li>
<li>使用描述性名称。</li>
<li>如果适用，请遵循 AAA 模式。</li>
<li>保证全面的测试覆盖率。</li>
</ul>
<div class="table-wrapper scrollbar">
<table>
<thead>
<tr>
<th>做 ✅</th>
<th>不要❌</th>
</tr>
</thead>
<tbody>
<tr>
<td>保持测试尽可能小。 每个测试用例测试一件事。</td>
<td>对大型单元编写测试。</td>
</tr>
<tr>
<td>始终保持测试隔离并模拟您单元之外所需的东西。</td>
<td>包括其他组件或服务。</td>
</tr>
<tr>
<td>保持测试独立。</td>
<td>依赖以前的测试或共享测试数据。</td>
</tr>
<tr>
<td>覆盖<a href="https://web.dev/ta-test-cases/#test-paths-typical-kinds-of-test-cases">不同的场景和路径</a>。</td>
<td>将自己限制在最大的快乐路径或负面测试中。</td>
</tr>
<tr>
<td>使用描述性测试标题，以便您可以立即了解测试的内容。</td>
<td>仅通过函数名称进行测试，因此描述性不够：<code>测试构建Foo()</code>或者<code>测试获取Id()</code>。</td>
</tr>
<tr>
<td>以良好的代码覆盖率或更广泛的测试用例为目标，尤其是在这个阶段。</td>
<td>从每个类一直到数据库 (I/O) 级别进行测试。</td>
</tr>
</tbody>
</table>
</div><h3 id="what-belongs-to-a-good-integration-test">什么属于好的集成测试？<a class="headline-link" href="https://web.dev/ta-what-to-test/#what-belongs-to-a-good-integration-test">#</a></h3>
<p>理想的集成测试也与单元测试共享一些标准。 但是，您还需要考虑其他几点。 一个好的集成测试应该：</p>
<ul>
<li>模拟组件之间的交互。</li>
<li>涵盖现实世界的场景，并使用模拟或存根。</li>
<li>考虑性能。</li>
</ul>
<div class="table-wrapper scrollbar">
<table>
<thead>
<tr>
<th>做 ✅</th>
<th>不要❌</th>
</tr>
</thead>
<tbody>
<tr>
<td>测试集成点：验证每个单元在相互集成时是否能够正常工作。</td>
<td>单独测试每个单元——这就是单元测试的目的。</td>
</tr>
<tr>
<td>测试真实场景：使用源自真实数据的测试数据。</td>
<td>使用重复的自动生成的测试数据或其他不反映真实用例的数据。</td>
</tr>
<tr>
<td>使用模拟和存根作为外部依赖项来保持对完整测试的控制。</td>
<td>创建对第三方服务的依赖关系，例如对外部服务的网络请求。</td>
</tr>
<tr>
<td>每次测试之前和之后进行清理程序。</td>
<td>忘记在测试中使用清理措施，否则由于缺乏适当的测试隔离，可能会导致测试失败或误报。</td>
</tr>
</tbody>
</table>
</div><h3 id="what-belongs-to-a-good-end-to-end-test">什么属于良好的端到端测试？<a class="headline-link" href="https://web.dev/ta-what-to-test/#what-belongs-to-a-good-end-to-end-test">#</a></h3>
<p>全面的端到端测试应该：</p>
<ul>
<li>复制用户交互。</li>
<li>涵盖重要场景。</li>
<li>跨越多个层。</li>
<li>管理异步操作。</li>
<li>验证结果。</li>
<li>考虑绩效。</li>
</ul>
<div class="table-wrapper scrollbar">
<table>
<thead>
<tr>
<th>做 ✅</th>
<th>不要❌</th>
</tr>
</thead>
<tbody>
<tr>
<td>使用 API 驱动的快捷方式。<a href="https://docs.cypress.io/guides/references/best-practices#Organizing-Tests-Logging-In-Controlling-State" rel="noopener">了解更多</a>。</td>
<td>对每个步骤使用 UI 交互，包括<code>在每个之前</code>钩。</td>
</tr>
<tr>
<td>每次测试前进行清理程序。 与单元测试和集成测试相比，要更加注意测试隔离，因为这里出现副作用的风险更高。</td>
<td>每次测试后忘记清理。 如果不清理剩余的状态、数据或副作用，它们将影响稍后执行的其他测试。</td>
</tr>
<tr>
<td>将端到端测试视为系统测试。 这意味着您需要测试整个应用程序堆栈。</td>
<td>单独测试每个单元——这就是单元测试的目的。</td>
</tr>
<tr>
<td>在测试中使用最少的模拟或不使用模拟。 如果您想模拟外部依赖项，请仔细考虑。</td>
<td>严重依赖模拟。</td>
</tr>
<tr>
<td>考虑性能和工作负载，例如，不要在同一测试中过度测试大型场景。</td>
<td>无需使用快捷方式即可覆盖大型工作流程。</td>
</tr>
</tbody>
</table>
</div><aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">这篇博文由 Ramona 撰写，并接受了以下人士的意见和评论<a href="https://web.dev/authors/jecelynyeen/">叶洁琳</a>（<a href="https://twitter.com/jecfish">推特</a>),<a href="https://www.linkedin.com/in/michael-hablich-2128646/">迈克尔·哈布里奇</a>（<a href="https://twitter.com/MHablich">推特</a>),<a href="https://web.dev/authors/rachelandrew/">雷切尔·安德鲁</a>， 和<a href="https://www.linkedin.com/in/sofia-yemelianova/">索菲亚·艾米利亚诺娃</a>。</div></aside>
<hr><p>The <a href="https://web.dev/ta-types/">previous article</a> covered the basics of test cases and what they should contain. This article delves deeper into the creation of test cases from a technical perspective, detailing what should be included in each test and what to avoid. Essentially, you'll learn the answer to the age-old questions of "What to test" or "What not to test".</p>
<img alt="What to test or not to test." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/lwKU8pzIWPZiDg8ss7ad.jpeg?auto=format&amp;w=1600 1600w" width="800">
<h2 id="general-guidelines-and-patterns">General guidelines and patterns <a class="headline-link" href="https://web.dev/ta-what-to-test/#general-guidelines-and-patterns">#</a></h2>
<p>It's worth noting that specific patterns and points are crucial, regardless of whether you're conducting unit, integration, or end-to-end tests. These principles can and should be applied to both types of testing, so they are a good place to start.</p>
<h3 id="keep-it-simple">Keep it simple <a class="headline-link" href="https://web.dev/ta-what-to-test/#keep-it-simple">#</a></h3>
<p>When it comes to writing tests, one of the most important things to remember is to keep it simple. It's important to consider the brain's capacity. The main production code takes up significant space, leaving little room for additional complexity. This is especially true for testing.</p>
<p>If there's less headspace available, you may become more relaxed in your testing efforts. That's why it's crucial to prioritize simplicity in testing. In fact, Yoni Goldberg's <a href="https://github.com/goldbergyoni/javascript-testing-best-practices#%EF%B8%8F-0-the-golden-rule-design-for-lean-testing" rel="noopener">JavaScript testing best practices</a> emphasize the importance of the Golden Rule—your test should feel like an assistant and not like a complex mathematical formula. In other words, you should be able to understand your test's intent at first glance.</p>
<img alt="Don't make tests complex, they shouldn't feel this way." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/3r1qa9Ai1EMhb47Yiuuq.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>You should aim for simplicity in all types of tests, regardless of their complexity. In fact, the more complex a test is, the more critical it is to simplify it. One way to achieve this is through a flat test design, where tests are kept as simple as possible, and to only test what is necessary. This means each test should contain only one test case, and the test case should be focused on testing a single, specific functionality or feature.</p>
<p>Think about it from this perspective: it should be easy to identify what went wrong when reading a failing test. This is why keeping tests simple and easy to understand is important. Doing so lets you quickly identify and fix issues when they arise.</p>
<h3 id="test-whats-worth-it">Test what's worth it <a class="headline-link" href="https://web.dev/ta-what-to-test/#test-whats-worth-it">#</a></h3>
<p>The flat test design also encourages focus and helps ensure your tests are meaningful. Remember, you don't want to create tests just for the sake of coverage—they should always have a purpose.</p>
<img alt="Don't test all the things." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/halb4R8zvaEdr85qhIIT.jpeg?auto=format&amp;w=1600 1600w" width="800">
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> In our <a href="https://web.dev/ta-types/">previous article</a>, we discussed three key points to remember when prioritizing your testing efforts. These three priorities may help you decide whether the case in question should be included in your test. </div></aside>
<h3 id="dont-test-implementation-details">Don't test implementation details <a class="headline-link" href="https://web.dev/ta-what-to-test/#dont-test-implementation-details">#</a></h3>
<p>One common problem in testing is that tests are often designed to test implementation details, such as using selectors in components or end-to-end tests. Implementation details refer to things that users of your code will not typically use, see, or even know about. This can lead to two major problems in tests: false negatives and false positives.</p>
<p>False negatives occur when a test fails, even though the tested code is correct. This can happen when the implementation details change due to a refactoring of the application code. On the other hand, false positives occur when a test passes, even though the code being tested is incorrect.</p>
<p>One solution to this problem is to consider the different types of users you have. End users and developers can differ in their approach, and they may interact with the code differently. When planning tests, it is essential to consider what users will see or interact with, and make the tests dependent on those things instead of the implementation details.</p>
<p>For example, choosing selectors that are less prone to change can make tests more reliable: data-attributes instead of CSS selectors. For more details, refer to <a href="https://kentcdodds.com/blog/testing-implementation-details" rel="noopener">Kent C. Dodds' article</a> on this topic, or stay tuned—an article on this topic is coming later.</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> On the contrary, if you write tests well, this can also have positive implications on your source code structure, for example, when you consider the testability of your code. </div></aside>
<h3 id="mocking-dont-lose-control">Mocking: Don't lose control <a class="headline-link" href="https://web.dev/ta-what-to-test/#mocking-dont-lose-control">#</a></h3>
<p>Mocking is a broad concept used in unit testing and sometimes in integration testing. It involves creating fake data or components to simulate dependencies that have complete control over the application. This allows for isolated testing.</p>
<p>Using mocks in your tests can improve predictability, separation of concerns, and performance. And, if you need to conduct a test that requires human involvement (such as passport verification), you'll have to conceal it using a mock. For all these reasons, mocks are a valuable tool to consider.</p>
<p>At the same time, mocking may affect the accuracy of the test because they are mocks, not the real user experiences. So you need to be mindful when using mocks and stubs.</p>
<h4 id="should-you-mock-in-end-to-end-tests">Should you mock in end-to-end tests? <a class="headline-link" href="https://web.dev/ta-what-to-test/#should-you-mock-in-end-to-end-tests">#</a></h4>
<p>In general, no. However, mocking can be a lifesaver sometimes—so let's not rule it out completely.</p>
<p>Imagine this scenario: you're writing a test for a feature involving a third-party payment provider service. You're in a sandbox environment that they have provided, meaning no real transactions are taking place. Unfortunately, the sandbox is malfunctioning, thereby causing your tests to fail. The fix needs to be done by the payment provider. All you can do is wait for the issue to be resolved by the provider.</p>
<p>In this case, it might be more beneficial to lessen the dependency on services you cannot control.
It's still advisable to use mocking carefully in integration or end-to-end tests as it decreases the confidence level of your tests.</p>
<h2 id="test-specifics-dos-and-donts">Test specifics: Dos and don'ts <a class="headline-link" href="https://web.dev/ta-what-to-test/#test-specifics-dos-and-donts">#</a></h2>
<p>So, all in all, what does a test contain? And are there differences between the testing types? Let's take a closer look at some specific aspects tailored to the main testing types.</p>
<h3 id="what-belongs-to-a-good-unit-test">What belongs to a good unit test? <a class="headline-link" href="https://web.dev/ta-what-to-test/#what-belongs-to-a-good-unit-test">#</a></h3>
<p>An ideal and effective unit test should:</p>
<ul>
<li>Concentrate on specific aspects.</li>
<li>Operate independently.</li>
<li>Encompass small-scale scenarios.</li>
<li>Use descriptive names.</li>
<li>Follow the AAA pattern if applicable.</li>
<li>Guarantee comprehensive test coverage.</li>
</ul>
<div class="table-wrapper scrollbar">
<table>
<thead>
<tr>
<th>Do ✅</th>
<th>Don't ❌</th>
</tr>
</thead>
<tbody>
<tr>
<td>Keep the tests as small as possible. Test one thing per test case.</td>
<td>Write tests over large units.</td>
</tr>
<tr>
<td>Always keep tests isolated and mock the things you need which are outside your unit.</td>
<td>Include other components or services.</td>
</tr>
<tr>
<td>Keep tests independent.</td>
<td>Rely on previous tests or share test data.</td>
</tr>
<tr>
<td>Cover <a href="https://web.dev/ta-test-cases/#test-paths-typical-kinds-of-test-cases">different scenarios and paths</a>.</td>
<td>Limit yourself to the happy path or negative tests at maximum.</td>
</tr>
<tr>
<td>Use descriptive test titles, so you can immediately see what your test is about.</td>
<td>Test by function name only, not being descriptive enough as a result: <code>testBuildFoo()</code> or <code>testGetId()</code>.</td>
</tr>
<tr>
<td>Aim for good code coverage or a broader range of test cases, especially at this stage.</td>
<td>Test from every class down to database (I/O) level.</td>
</tr>
</tbody>
</table>
</div><h3 id="what-belongs-to-a-good-integration-test">What belongs to a good integration test? <a class="headline-link" href="https://web.dev/ta-what-to-test/#what-belongs-to-a-good-integration-test">#</a></h3>
<p>An ideal integration test shares some criteria with unit tests, too. However, there are a couple of additional points that you need to consider. A great integration test should:</p>
<ul>
<li>Simulate interactions between components.</li>
<li>Cover real-world scenarios, and use mocks or stubs.</li>
<li>Consider performance.</li>
</ul>
<div class="table-wrapper scrollbar">
<table>
<thead>
<tr>
<th>Do ✅</th>
<th>Don't ❌</th>
</tr>
</thead>
<tbody>
<tr>
<td>Test the integration points: verify that each unit works together gracefully when integrated with each other.</td>
<td>Test each unit in isolation—that's what unit tests are for.</td>
</tr>
<tr>
<td>Test real-world scenarios: use test data derived from real-world data.</td>
<td>Use repetitive auto-generated test data or other data which doesn't reflect real-world use cases.</td>
</tr>
<tr>
<td>Use mocks and stubs for external dependencies to maintain control of your complete test.</td>
<td>Create dependencies on third-party services, for example, network requests to outside services.</td>
</tr>
<tr>
<td>Use a clean-up routine before and after each test.</td>
<td>Forget to use clean-up measures inside your tests, otherwise this can lead to test failures or false positives, due to lack of proper test isolation.</td>
</tr>
</tbody>
</table>
</div><h3 id="what-belongs-to-a-good-end-to-end-test">What belongs to a good end-to-end test? <a class="headline-link" href="https://web.dev/ta-what-to-test/#what-belongs-to-a-good-end-to-end-test">#</a></h3>
<p>A comprehensive end-to-end test should:</p>
<ul>
<li>Replicate user interactions.</li>
<li>Encompass vital scenarios.</li>
<li>Span multiple layers.</li>
<li>Manage asynchronous operations.</li>
<li>Verify results.</li>
<li>Account for performance.</li>
</ul>
<div class="table-wrapper scrollbar">
<table>
<thead>
<tr>
<th>Do ✅</th>
<th>Don't ❌</th>
</tr>
</thead>
<tbody>
<tr>
<td>Use API-driven shortcuts. <a href="https://docs.cypress.io/guides/references/best-practices#Organizing-Tests-Logging-In-Controlling-State" rel="noopener">Learn more</a>.</td>
<td>Use UI interactions for every step, including the <code>beforeEach</code> hook.</td>
</tr>
<tr>
<td>Use a clean-up routine before each test. Take even more care of test isolation than you do in unit and integration tests because there's a higher risk of side effects here.</td>
<td>Forget to clean up after each test. If you don't clean up the leftover state, data or side effects, they will affect other tests executed later.</td>
</tr>
<tr>
<td>Regard end-to-end tests as system tests. This means you need to test the whole application stack.</td>
<td>Test each unit in isolation—that's what unit tests are for.</td>
</tr>
<tr>
<td>Use minimal or no mocking inside the test. Consider carefully if you want to mock external dependencies.</td>
<td>Rely heavily on mocks.</td>
</tr>
<tr>
<td>Consider performance and workload by, for example, not over-testing large scenarios in the same test.</td>
<td>Cover large workflows without using shortcuts.</td>
</tr>
</tbody>
</table>
</div><aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> This blog post was written by Ramona, with input and review from <a href="https://web.dev/authors/jecelynyeen/">Jecelyn Yeen</a> (<a href="https://twitter.com/jecfish">Twitter</a>), <a href="https://www.linkedin.com/in/michael-hablich-2128646/">Michael Hablich</a> (<a href="https://twitter.com/MHablich">Twitter</a>), <a href="https://web.dev/authors/rachelandrew/">Rachel Andrew</a>, and <a href="https://www.linkedin.com/in/sofia-yemelianova/">Sofia Emelianova</a>. </div></aside>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[定义测试用例和优先级]]></title>
            <link>https://web.dev/ta-test-cases/</link>
            <guid>https://web.dev/ta-test-cases/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>本文介绍了测试策略、测试所需的测试数量以及如何找到最合适的测试方法来获得最高的结果可信度，同时考虑资源限制。然而，这只是告诉我们需要测试多少的一个概念，你仍然需要确定具体要测试什么。

以下三个标准有助于理解测试中的期望结果，以及确定最适合的测试类型和详细程度：

1. 关注正常路径。这是应用程序的最常见或主要用户故事，用户会很快注意到错误。

2. 仔细决定详细程度。如果你的用例容易受到攻击或错误会造成严重损害，就需要更详细的测试。

3. 尽可能优先选择低级别的测试，如单元测试和集成测试，而不是高级别的端到端测试。

本文的其余部分探讨了这些标准，并介绍了如何定义测试用例。

测试用例是什么？

在软件开发中，测试用例是一系列行动或情况，旨在确认软件程序或应用程序的有效性。

测试用例旨在确保软件按计划运行，并且所有功能都能正确执行。软件测试人员或开发人员通常创建这些测试用例，以确保软件满足指定的要求和规范。

当运行测试用例时，软件会执行一系列检查，</summary>
    <div>
    <div>OriginTitle: Defining test cases and priorities</div>

    </div></div><p>在里面<a href="https://web.dev/ta-strategies/">上一篇文章</a>中，您了解了测试策略、测试应用程序所需的测试数量，以及如何找到最适合的测试以获得对结果的最大信心，同时牢记您的资源。 然而，这只是让我们知道要测试多少。 您仍然需要准确确定要测试的内容。 
 以下三个标准有助于了解测试中的预期内容以及了解哪种测试类型和详细程度最适合：</p>
<ol>
<li><strong>守护你的幸福之路</strong>。 这是应用程序最通用或主要的用户故事，用户很快就会注意到错误。</li>
<li><strong>仔细决定详细程度</strong>。 如果您的用例容易受到攻击或者错误会导致严重损害，请详细了解。</li>
<li><strong>优先考虑较低级别的测试</strong>，例如单元和集成测试，尽可能高于更高级别的端到端测试。</li>
</ol>
<p>本文的其余部分将探讨这些标准，以及它们在定义测试用例时如何应用。</p>
<h2 id="what-is-a-test-case">什么是测试用例？<a class="headline-link" href="https://web.dev/ta-test-cases/#what-is-a-test-case">#</a></h2>
<p>在软件开发中，测试用例是旨在确认软件程序或应用程序有效性的一系列操作或环境。 
 测试用例旨在确保软件按计划运行以及其所有特性和功能正确运行。 软件测试人员或开发人员通常创建这些测试用例以保证软件满足指定的要求和规范。</p>
<img alt="Test case is verifying." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>运行测试用例时，软件会执行一系列检查以确保产生所需的结果。 在此过程中，测试将完成以下任务：</p>
<ul>
<li><strong>确认</strong>。 彻底检查软件以确保其正常运行的过程。 确定所创建的产品是否满足所有必要的非功能性要求并成功实现其预期目的至关重要。 它回答的问题是：“我们构建的产品正确吗？”</li>
<li><strong>验证</strong>。 确保软件产品满足必要标准或高级要求的过程。 它涉及检查实际产品是否与预期产品相符。 本质上，我们正在回答这个问题：“我们是否正在根据用户的需求构建正确的产品？”</li>
</ul>
<p>假设该程序未能提供预期结果。 在这种情况下，测试用例将成为信使，从而报告不成功的结果，开发人员或测试人员将需要调查问题并找到解决方案。 
 将检查和操作视为计算机遵循的路径，无论测试类型如何。 用于检查的输入数据或条件组称为“等价类”。 他们应该从被测系统中获得类似的行为或结果。 测试中执行的特定路径可能会有所不同，但应与测试中完成的活动和断言相匹配。</p>
<h2 id="test-paths-typical-kinds-of-test-cases">测试路径：典型的测试用例类型<a class="headline-link" href="https://web.dev/ta-test-cases/#test-paths-typical-kinds-of-test-cases">#</a></h2>
<p>在软件开发中，一个<a href="https://en.wikipedia.org/wiki/Happy_path" rel="noopener">测试用例</a>是预期并测试特定行为的代码执行场景。 通常，可以从三种场景中形成测试用例。</p>
<img alt="The happy path." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>第一个是最著名的，您可能已经在使用它。 这是<em>幸福之路</em>，也称为“快乐日场景”或“黄金路径”。 它定义了您的功能、应用程序或变更的最常见用例——它应该为客户提供的方式。</p>
<img alt="The scary path." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>测试用例中要涵盖的第二个最重要的测试路径通常会被忽略，因为它不舒服——正如它的名字所暗示的那样。 这是“可怕的道路”，或者换句话说，<em>阴性测试</em>。 此路径针对导致代码行为不当或进入错误状态的场景。 如果您的用例非常脆弱，给利益相关者或用户带来了高风险，那么测试这些场景就尤其重要。</p>
<p>您可能想了解并考虑使用其他一些路径，但通常它们不太常用。 下表总结了它们：</p>
<div class="table-wrapper scrollbar">
<table>
<thead>
<tr>
<th>测试路径</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>愤怒的路径</td>
<td>这会导致错误，但却是预料之中的错误； 例如，如果您想确保错误处理正确进行。</td>
</tr>
<tr>
<td>不良路径</td>
<td>此路径负责您的应用程序需要满足的任何与安全相关的场景。</td>
</tr>
<tr>
<td>荒凉的小路</td>
<td>在应用程序中测试场景的路径没有获得足够的数据来运行，例如测试空值。</td>
</tr>
<tr>
<td>健忘之路</td>
<td>在资源不足的情况下测试应用程序的行为，例如触发数据丢失。</td>
</tr>
<tr>
<td>犹豫不决的道路</td>
<td>与尝试在应用程序中执行操作或关注用户故事但尚未完成这些工作流程的用户进行测试。 例如，当用户中断其工作流程时可能会出现这种情况。</td>
</tr>
<tr>
<td>贪心路径</td>
<td>尝试使用大量输入或数据进行测试。</td>
</tr>
<tr>
<td>充满压力的道路</td>
<td>尝试以任何必要的方式对您的应用程序施加负载，直到它不再起作用（类似于负载测试）。</td>
</tr>
</tbody>
</table>
</div><p>有多种方法可以对这些路径进行分类。 两种常见的方法是：</p>
<ul>
<li><strong>等价划分</strong>。 一种将测试用例分类为组或分区的测试方法，从而帮助创建等价类。 这是基于这样的想法：如果分区中的一个测试用例发现了缺陷，则同一分区中的其他测试用例可能会发现类似的缺陷。 由于特定等价类中的所有输入应表现出相同的行为，因此您可以减少测试用例的数量。<a href="https://en.wikipedia.org/wiki/Equivalence_partitioning" rel="noopener">了解有关等价划分的更多信息</a>。</li>
<li><strong>极限分析</strong>。 一种测试方法，也称为<a href="https://en.wikipedia.org/wiki/Boundary-value_analysis" rel="noopener">边值分析</a>，它检查输入值的限制或极端，以查找在系统功能或约束限制下可能出现的任何潜在问题或错误。</li>
</ul>
<h2 id="best-practice-writing-test-cases">最佳实践：编写测试用例<a class="headline-link" href="https://web.dev/ta-test-cases/#best-practice-writing-test-cases">#</a></h2>
<p>测试人员编写的经典测试用例将包含特定的数据，以帮助您掌握要进行的测试的内容，当然还有执行测试。 典型的测试人员会在表格中记录他们的测试工作。 在这个阶段，我们可以使用两种模式，帮助我们构建测试用例，以及稍后构建我们的测试本身：</p>
<ul>
<li><strong>安排、行动、断言</strong>图案。 “安排、行动、断言”（也称为“AAA”或“Triple A”）测试模式是一种将测试组织为三个不同步骤的方法：安排测试，然后执行测试，最后但并非最不重要的一点是，得出结论。</li>
<li><strong>给定，何时，然后</strong>图案。 此模式与 AAA 模式类似，但有一些根源<a href="https://en.wikipedia.org/wiki/Behavior-driven_development" rel="noopener">行为驱动的发展</a>。</li>
</ul>
<p>一旦我们介绍了测试本身的结构，未来的文章将详细介绍这些模式。 如果您想在这个阶段深入了解这些模式，请查看这两篇文章：<a href="https://automationpanda.com/2020/07/07/arrange-act-assert-a-pattern-for-writing-good-tests/" rel="noopener">Arrange-Act-Assert：编写良好测试的模式</a>和<a href="https://martinfowler.com/bliki/GivenWhenThen.html" rel="noopener">给定-何时-然后</a>。</p>
<p>根据本文的所有知识，下表总结了一个经典示例：</p>
<div class="table-wrapper scrollbar">
<table>
<thead>
<tr>
<th>信息</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>先决条件</td>
<td>在编写测试之前需要完成的所有事情。</td>
</tr>
<tr>
<td>被测物体</td>
<td>需要验证什么？</td>
</tr>
<tr>
<td>输入数据</td>
<td>变量及其值。</td>
</tr>
<tr>
<td>需要执行的步骤</td>
<td>您为使测试变为现实而要做的所有事情：您在测试中所做的所有操作或交互。</td>
</tr>
<tr>
<td>预期结果</td>
<td>应该发生什么以及要满足哪些期望。</td>
</tr>
<tr>
<td>实际结果</td>
<td>实际发生了什么。</td>
</tr>
</tbody>
</table>
</div><p>在自动化测试中，您不需要以测试人员需要的方式记录所有这些测试用例，尽管这样做无疑是有帮助的。 如果您细心的话，您可以在测试中找到所有这些信息。 那么让我们将这个经典的测试用例转化为自动化测试。</p>
<div class="table-wrapper scrollbar">
<table>
<thead>
<tr>
<th>信息</th>
<th>转化为测试自动化</th>
</tr>
</thead>
<tbody>
<tr>
<td>先决条件</td>
<td>您需要的所有东西，安排测试，并考虑为实现测试场景而提供的内容。</td>
</tr>
<tr>
<td>被测物体</td>
<td>这个“对象”可以是各种东西：被测试的应用程序、流程、单元或组件。</td>
</tr>
<tr>
<td>输入数据</td>
<td>参数值。</td>
</tr>
<tr>
<td>需要执行的步骤</td>
<td>测试中执行的所有操作和命令、您执行的操作以及了解当您执行某些操作时会发生什么。</td>
</tr>
<tr>
<td>预期结果</td>
<td>您用于验证应用程序的断言，即您在应用程序中断言的内容。</td>
</tr>
<tr>
<td>实际结果</td>
<td>自动化测试的结果。</td>
</tr>
</tbody>
</table>
</div><aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">这篇博文由 Ramona 撰写，并接受了以下人士的意见和评论<a href="https://web.dev/authors/jecelynyeen/">叶洁琳</a>（<a href="https://twitter.com/jecfish">推特</a>),<a href="https://www.linkedin.com/in/michael-hablich-2128646/">迈克尔·哈布里奇</a>（<a href="https://twitter.com/MHablich">推特</a>）， 和<a href="https://web.dev/authors/rachelandrew/">雷切尔·安德鲁</a>。 特别感谢<a href="https://www.linkedin.com/in/sofia-yemelianova/">索菲亚·艾米利亚诺娃</a>用于支持出版过程。</div></aside>
<hr><p>In the <a href="https://web.dev/ta-strategies/">previous post</a>, you learned about testing strategies, the number of tests needed to test an application, and how to find the best fit to gain the most confidence in the results while bearing in mind your resources. However, this only gives us an idea of how much to test. You still need to determine exactly what to test.
The following three criteria can be helpful in understanding what to expect in a test and to see what testing type and level of detail might fit best:</p>
<ol>
<li><strong>Take care of your happy path</strong>. This is the most generic or primary user story of your application, where your user will notice an error very quickly.</li>
<li><strong>Decide carefully on the level of detail</strong>. Get into more detail if your use case is vulnerable or where an error would cause high damage.</li>
<li><strong>Prioritize lower-level tests</strong>, such as unit and integration tests, over higher-level end-to-end tests whenever possible.</li>
</ol>
<p>The rest of this article explores these criteria, and how they apply as you define test cases.</p>
<h2 id="what-is-a-test-case">What is a test case? <a class="headline-link" href="https://web.dev/ta-test-cases/#what-is-a-test-case">#</a></h2>
<p>In software development, a test case is a sequence of actions or circumstances that are devised to confirm the effectiveness of a software program or application.
A test case aims to ensure that the software operates as planned and that all its features and functions perform correctly. Software testers or developers typically create these test cases to guarantee that the software meets the specified requirements and specifications.</p>
<img alt="Test case is verifying." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/Am7IXUF5DVMprZQsSA5p.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>When a test case is run, the software performs a series of checks to ensure it produces the desired results. While doing that, a test fulfills the following tasks:</p>
<ul>
<li><strong>Verification</strong>. The process of thoroughly checking software to ensure it functions without errors. Determining whether the created product meets all the necessary non-functional requirements and successfully achieves its intended purpose is crucial. The question it answers is: “Are we building the product right?”</li>
<li><strong>Validation</strong>. The process of ensuring that the software product meets the necessary standards or high-level requirements. It involves checking whether the actual product aligns with the expected product. Essentially, we’re answering the question: “Are we building the right product for the user’s requirements?”</li>
</ul>
<p>Suppose the program fails to deliver the expected outcome. In that case, the test case will be the messenger—thus reporting an unsuccessful result, and the developer or tester will need to investigate the issue and find a solution.
Think of the checks and actions as paths the computer follows, regardless of the testing type.  Groups of input data or conditions used for checking are called "equivalence classes". They should get similar behavior or results from the system under test. The specific paths executed inside a test may vary but should match the activities and assertions done in your test.</p>
<h2 id="test-paths-typical-kinds-of-test-cases">Test paths: Typical kinds of test cases <a class="headline-link" href="https://web.dev/ta-test-cases/#test-paths-typical-kinds-of-test-cases">#</a></h2>
<p>In software development, a <a href="https://en.wikipedia.org/wiki/Happy_path" rel="noopener">test case</a> is a code execution scenario from which a certain behavior is expected and tested. Typically, there are three scenarios to form test cases from.</p>
<img alt="The happy path." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/SyLaoC8VQymTbBwIUd11.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>The first one is the most well known, which you are probably already using. It’s the <em>happy path</em>, also known as the “happy day scenario” or “golden path”. It defines the most common use case of your feature, application, or change—the way it should work out for the customer.</p>
<img alt="The scary path." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/NJdAV9UgKuN8AhoaPBquL7giZQo1/7F0MGozRfVyyi3vn65No.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>The second most crucial test path to cover in your test cases is often left out as it’s uncomfortable—as its name may imply. It’s the “scary path” or, in other words, the <em>negative test</em>. This path targets scenarios that cause the code to misbehave or enter an error state. Testing these scenarios is especially important if you have highly vulnerable use cases imposing a high risk on the stakeholders or users.</p>
<p>There are some other paths you might want to know about and consider using, but typically they are less commonly used. The following table summarizes them:</p>
<div class="table-wrapper scrollbar">
<table>
<thead>
<tr>
<th>Test path</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Angry path</td>
<td>This leads to an error, but an expected one; for example, if you want to ensure error handling works correctly.</td>
</tr>
<tr>
<td>Delinquent path</td>
<td>This path takes care of any security-related scenarios your application needs to fulfill.</td>
</tr>
<tr>
<td>Desolate path</td>
<td>The path testing the scenario in your application doesn’t get enough data to function, for example, testing null values.</td>
</tr>
<tr>
<td>Forgetful path</td>
<td>Testing the behavior of your application with insufficient resources, for example, triggering a data loss.</td>
</tr>
<tr>
<td>Indecisive path</td>
<td>Testing with a user who is trying to do actions or following user stories in your application but hasn’t completed those workflows. This could be the case, for example, when the user interrupts their workflow.</td>
</tr>
<tr>
<td>Greedy path</td>
<td>Trying to test using vast amounts of inputs or data.</td>
</tr>
<tr>
<td>Stressful path</td>
<td>Trying to put a load on your application by any means necessary until it no longer functions (similar to a load test).</td>
</tr>
</tbody>
</table>
</div><p>There are several methods to categorize those paths. Two common approaches are:</p>
<ul>
<li><strong>Equivalence partitioning</strong>. A testing method that categorizes test cases into groups or partitions and, as a result, helps create equivalence classes. This is based on the idea that if one test case in a partition uncovers a defect, other test cases in the same partition will likely reveal similar defects. As all inputs within a specific equivalence class should exhibit identical behavior, you can decrease the number of test cases. <a href="https://en.wikipedia.org/wiki/Equivalence_partitioning" rel="noopener">Learn more about equivalence partitioning</a>.</li>
<li><strong>Limit analysis</strong>. A testing method, also known as <a href="https://en.wikipedia.org/wiki/Boundary-value_analysis" rel="noopener">boundary-value analysis</a>, that examines the limits or extremes of input values to find any potential issues or errors that might arise at the system's limits of capabilities or constraints.</li>
</ul>
<h2 id="best-practice-writing-test-cases">Best practice: Writing test cases <a class="headline-link" href="https://web.dev/ta-test-cases/#best-practice-writing-test-cases">#</a></h2>
<p>A classical test case written by a tester will contain specific data to help you grasp the content of the test you want to conduct and, of course, execute the test. A typical tester would document their testing efforts in a table. There are two patterns we can use at this stage, helping us to structure our test cases and later, our tests themselves, too:</p>
<ul>
<li><strong>Arrange, act, assert</strong> pattern. The "arrange, act, assert" (also known as the "AAA" or "Triple A") testing pattern is a way of organizing tests into three distinct steps: arranging the test, then performing the test, and last but not least, drawing conclusions.</li>
<li><strong>Given, when, then</strong> pattern. This pattern is similar to the AAA pattern but has some roots in <a href="https://en.wikipedia.org/wiki/Behavior-driven_development" rel="noopener">behavior-driven development</a>.</li>
</ul>
<p>Future articles will go into more details on these patterns, as soon as we cover the structure of a test itself. If you want to go deeper into these patterns at this stage, check out these two articles: <a href="https://automationpanda.com/2020/07/07/arrange-act-assert-a-pattern-for-writing-good-tests/" rel="noopener">Arrange-Act-Assert: A pattern for writing good tests</a> and <a href="https://martinfowler.com/bliki/GivenWhenThen.html" rel="noopener">Given-When-Then</a>.</p>
<p>According to all the learnings from this article, the following table summarizes a classic example:</p>
<div class="table-wrapper scrollbar">
<table>
<thead>
<tr>
<th>Information</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Prerequisites</td>
<td>Everything which needs to be done before writing the test.</td>
</tr>
<tr>
<td>Object under test</td>
<td>What needs to be verified?</td>
</tr>
<tr>
<td>Input data</td>
<td>Variables and their values.</td>
</tr>
<tr>
<td>Steps to be executed</td>
<td>All the things you will do to bring your test to life: all actions or interactions you do in your tests.</td>
</tr>
<tr>
<td>Expected result</td>
<td>What should happen and which expectations are to be fulfilled.</td>
</tr>
<tr>
<td>Actual result</td>
<td>What actually happens.</td>
</tr>
</tbody>
</table>
</div><p>In automated testing, you don’t need to document all these test cases in the way that a tester needs to, even though it’s undoubtedly helpful to do so. You can find all this information in your test if you pay attention. So let’s translate this classical test case into an automated test.</p>
<div class="table-wrapper scrollbar">
<table>
<thead>
<tr>
<th>Information</th>
<th>Translation into test automation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Prerequisites</td>
<td>All the things you need, arranging the test, and thinking about what is given to make your test’s scenario happen.</td>
</tr>
<tr>
<td>Object under test</td>
<td>This “object” can be various things: an application, flow, unit, or component under test.</td>
</tr>
<tr>
<td>Input data</td>
<td>Parameter values.</td>
</tr>
<tr>
<td>Steps to be executed</td>
<td>All the actions and commands executed inside your test, the things you act upon, and finding out what happens when you do certain things.</td>
</tr>
<tr>
<td>Expected result</td>
<td>The assertion you use to validate your application, the things you assert upon in your application.</td>
</tr>
<tr>
<td>Actual result</td>
<td>The result of your automated test.</td>
</tr>
</tbody>
</table>
</div><aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> This blog post was written by Ramona, with input and review from <a href="https://web.dev/authors/jecelynyeen/">Jecelyn Yeen</a> (<a href="https://twitter.com/jecfish">Twitter</a>), <a href="https://www.linkedin.com/in/michael-hablich-2128646/">Michael Hablich</a> (<a href="https://twitter.com/MHablich">Twitter</a>), and <a href="https://web.dev/authors/rachelandrew/">Rachel Andrew</a>. Special thanks to <a href="https://www.linkedin.com/in/sofia-yemelianova/">Sofia Emelianova</a> for supporting the publication process. </div></aside>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[七月网络平台新功能]]></title>
            <link>https://web.dev/web-platform-07-2023/</link>
            <guid>https://web.dev/web-platform-07-2023/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>2023年7月，Firefox 115和Chrome 115发布了稳定版本。这篇文章介绍了这对于Web平台意味着什么。

Chrome 115中包含了CSS display属性的多个值。这意味着display: flex变成了display: block flex，display: block变成了display: block flow。单个值作为传统关键字保留，这些值现在在三个主要引擎中都可用。

Chrome 115还引入了ScrollTimeline和ViewTimeline扩展，用于Web动画规范。这使得可以通过CSS和JavaScript实现滚动驱动的动画。

Chrome 115还引入了Privacy Sandbox相关性和测量API。这包括Topics、Protected Audience、Attribution Reporting、Private Aggregation、Shared Storage和Fenced Frames API。

Firefox 115支持CSS animation-composition属性，使得animation-composition在所有三个主要引擎中都得到支持。

Firefox 115还引入了一组Array和TypedArray的方法，包括Array.toReversed()、Array.toSorted()、Array.toSpliced()、Array.with()、TypedArrays.toReversed()、TypedArrays.toSorted()和TypedArrays.with()。

Beta版本的浏览器提供了下一个稳定版本的预览。Firefox 116和Chrome 116是新的beta版本。这些版本带来了许多优秀的功能。例如，Firefox 116在除Android外的所有平台上支持Audio Output Devices API，允许将音频输出重定向到允许的蓝牙耳机、扬声器或</summary>
    <div>
    <div>OriginTitle: New to the web platform in July</div>

    </div></div><h2 id="stable-browser-releases">稳定的浏览器版本<a class="headline-link" href="https://web.dev/web-platform-07-2023/#stable-browser-releases">#</a></h2>
<p>2023年7月<a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/115" rel="noopener">火狐115</a>和<a href="https://developer.chrome.com/blog/new-in-chrome-115/" rel="noopener">铬115</a>变得稳定。 这篇文章探讨了这对网络平台意味着什么。</p>
<aside class="aside flow bg-state-bad-bg color-state-bad-text"><p class="cluster color-state-bad-text"><span class="aside__icon box-block "><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Error sign">   <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-2h2v2h-2zm0-10v6h2V7h-2z"></path> </svg></span><strong>警告</strong></p><div class=" flow">我们在这些帖子中包含从 MDN 中提取的浏览器兼容性数据，这些数据对于最新的浏览器版本可能尚未更新。 该帖子一旦出现在帖子中，就会显示正确的信息<a href="https://github.com/mdn/browser-compat-data/releases">浏览器兼容数据发布</a>。</div></aside>
<h3 id="multiple-values-for-the-css-display-property">CSS 的多个值<code>展示</code>财产<a class="headline-link" href="https://web.dev/web-platform-07-2023/#multiple-values-for-the-css-display-property">#</a></h3>
<p>Chrome 115 包含多个 CSS 值<code>展示</code>财产。 这意味着<code>显示： 柔性</code>变成<code>显示：块柔性</code>和<code>显示：块</code>变成<code>显示：块流</code>。 单个值作为旧关键字维护，这些值现在可在三个主要引擎中使用。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 115，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      115
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐 70，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      70
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">边缘 115，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      115
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 15，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      15
    </span>
    </li>
  </ul>
</div>
<h3 id="scroll-driven-animations">滚动驱动的动画<a class="headline-link" href="https://web.dev/web-platform-07-2023/#scroll-driven-animations">#</a></h3>
<p>Chrome 115 中还有<code>滚动时间轴</code>和<code>查看时间线</code>Web 动画规范的扩展。 这些使<a href="https://developer.chrome.com/articles/scroll-driven-animations/" rel="noopener">滚动驱动的动画</a>通过 CSS 和 JavaScript。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 115，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      115
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐浏览器，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘 115，支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
115
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/API/ScrollTimeline#browser_compatibility" target="_blank">来源</a>
</div>
<h3 id="privacy-sandbox-apis">隐私沙箱 API<a class="headline-link" href="https://web.dev/web-platform-07-2023/#privacy-sandbox-apis">#</a></h3>
<p>隐私沙箱<a href="https://developer.chrome.com/blog/privacy-sandbox-launch/" rel="noopener">相关性和测量 API</a>Chrome 115 中提供。这包括主题、受保护的受众、归因报告、私有聚合、共享存储和 Fenced Frames API。</p>
<p>要了解有关这些 API 的更多信息，请查看<a href="https://developer.chrome.com/blog/privacy-sandbox-demos/" rel="noopener">隐私沙盒演示</a>。</p>
<h3 id="the-animation-composition-property">这<code>动画合成</code>财产<a class="headline-link" href="https://web.dev/web-platform-07-2023/#the-animation-composition-property">#</a></h3>
<p>火狐115支持CSS<a href="https://developer.mozilla.org/docs/Web/CSS/animation-composition" rel="noopener"><code>动画合成</code></a>财产。 制作<code>动画合成</code>所有三个主要引擎均受支持。 在文章中了解更多信息<a href="https://developer.chrome.com/articles/css-animation-composition/" rel="noopener">指定多个动画效果如何与animation-composition合成</a>。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 112，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      112
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐 115，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      115
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">边缘 112，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      112
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 16，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      16
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/animation-composition#browser_compatibility" target="_blank">来源</a>
</div>
<h3 id="array-methods">数组方法<a class="headline-link" href="https://web.dev/web-platform-07-2023/#array-methods">#</a></h3>
<p>与 Firefox 115 实现互操作性的还有一组方法<code>大批</code>和<code>类型数组</code>。<code>Array.toReversed()</code>,<code>Array.toSorted()</code>,<code>Array.toSpliced()</code>,<code>数组.with()</code>,<code>TypedArrays.toReversed()</code>,<code>TypedArrays.toSorted()</code>， 和<code>TypedArrays.with()</code>返回一个新数组，其中包含已浅复制的元素。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 110，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      110
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐 115，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      115
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">边缘 110，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      110
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 16，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      16
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/toReversed#browser_compatibility" target="_blank">来源</a>
</div>
<h2 id="beta-browser-releases">测试版浏览器发布<a class="headline-link" href="https://web.dev/web-platform-07-2023/#beta-browser-releases">#</a></h2>
<p>Beta 浏览器版本可让您预览浏览器下一个稳定版本中的内容。 现在是测试新功能或删除的好时机，这些功能或删除可能会在发布该版本之前影响您的网站。 新的测试版是<a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/116" rel="noopener">火狐116</a>和<a href="https://developer.chrome.com/blog/chrome-116-beta/" rel="noopener">铬116</a>。 这<a href="https://developer.apple.com/documentation/safari-release-notes/safari-16_6-release-notes" rel="noopener">狩猎17</a>和<a href="https://developer.apple.com/documentation/safari-release-notes/safari-16_6-release-notes" rel="noopener">Safari 16.6</a>测试版仍在进行中。 这些版本为该平台带来了许多出色的功能。 查看发行说明以了解所有详细信息，这里仅列出一些亮点。</p>
<p>火狐 116 支持<a href="https://developer.mozilla.org/docs/Web/API/Audio_Output_Devices_API" rel="noopener">音频输出设备 API</a>在除 Android 之外的所有平台上。 此 API 允许 Web 应用程序将音频输出重定向到允许的蓝牙耳机、扬声器或其他设备，而不必使用浏览器或底层操作系统默认设置。</p>
<p>Chrome 116 包含 CSS 运动路径，允许任何图形对象沿着开发人员指定的路径进行动画处理。 这允许许多强大的新变换可能性，例如使用极坐标定位（使用<code>射线（）</code>函数）而不是使用的标准直角坐标<code>翻译（）</code>函数，或者沿着定义的路径对元素进行动画处理。 这使得定义复杂而美丽的二维空间过渡变得更加容易。 路径可以指定为<code>圆圈（）</code>,<code>椭圆（）</code>,<code>矩形（）</code>,<code>插图（）</code>,<code>xywh()</code>,<code>多边形（）</code>,<code>射线（）</code>和<code>网址（）</code>。</p>
<p>Chrome 116 中还有<a href="https://developer.chrome.com/docs/web-platform/document-picture-in-picture/" rel="noopener">文档画中画 API</a>。 这使得可以使用任意 HTMLElement 填充始终位于顶部的窗口。 这是对现有 HTMLVideoElement API 的扩展，仅允许将 HTMLVideoElement 放入画中画 (PiP) 窗口中。</p>
<p><em>拍摄者<a href="https://unsplash.com/@ninjason" rel="noopener">梁杰森</a>。</em></p>
<hr><h2 id="stable-browser-releases">Stable browser releases <a class="headline-link" href="https://web.dev/web-platform-07-2023/#stable-browser-releases">#</a></h2>
<p>In July 2023 <a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/115" rel="noopener">Firefox 115</a> and <a href="https://developer.chrome.com/blog/new-in-chrome-115/" rel="noopener">Chrome 115</a> became stable. This post takes a look at what that means for the web platform.</p>
<aside class="aside flow bg-state-bad-bg color-state-bad-text"><p class="cluster color-state-bad-text"><span class="aside__icon box-block "><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Error sign">   <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-2h2v2h-2zm0-10v6h2V7h-2z"></path> </svg></span><strong>Caution</strong></p><div class=" flow"> We include browser compatibility data pulled from MDN in these posts which may not have been updated yet for very recent browser releases. The post will show the correct information as soon as it appears in the <a href="https://github.com/mdn/browser-compat-data/releases">browser-compat-data release</a>. </div></aside>
<h3 id="multiple-values-for-the-css-display-property">Multiple values for the CSS <code>display</code> property <a class="headline-link" href="https://web.dev/web-platform-07-2023/#multiple-values-for-the-css-display-property">#</a></h3>
<p>Chrome 115 includes multiple values for the CSS <code>display</code> property. This means that <code>display: flex</code> becomes <code>display: block flex</code> and <code>display: block</code> becomes <code>display: block flow</code>. The single values are maintained as legacy keywords, these values are now available in the three major engines.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 115, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      115
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 70, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      70
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">Edge 115, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      115
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 15, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      15
    </span>
    </li>
  </ul>
</div>
<h3 id="scroll-driven-animations">Scroll-driven animations <a class="headline-link" href="https://web.dev/web-platform-07-2023/#scroll-driven-animations">#</a></h3>
<p>Also in Chrome 115 are the <code>ScrollTimeline</code> and <code>ViewTimeline</code> extensions to the Web Animations specification. These enable <a href="https://developer.chrome.com/articles/scroll-driven-animations/" rel="noopener">scroll-driven animations</a> via CSS and JavaScript.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 115, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      115
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge 115, Supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
115
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/API/ScrollTimeline#browser_compatibility" target="_blank">Source</a>
</div>
<h3 id="privacy-sandbox-apis">Privacy Sandbox APIs <a class="headline-link" href="https://web.dev/web-platform-07-2023/#privacy-sandbox-apis">#</a></h3>
<p>The Privacy Sandbox <a href="https://developer.chrome.com/blog/privacy-sandbox-launch/" rel="noopener">relevance and measurement APIs</a> shipped in Chrome 115. This includes the Topics, Protected Audience, Attribution Reporting, Private Aggregation, Shared Storage, and Fenced Frames APIs.</p>
<p>To understand more about these APIs check out the <a href="https://developer.chrome.com/blog/privacy-sandbox-demos/" rel="noopener">Privacy Sandbox demos</a>.</p>
<h3 id="the-animation-composition-property">The <code>animation-composition</code> property <a class="headline-link" href="https://web.dev/web-platform-07-2023/#the-animation-composition-property">#</a></h3>
<p>Firefox 115 supports the CSS <a href="https://developer.mozilla.org/docs/Web/CSS/animation-composition" rel="noopener"><code>animation-composition</code></a> property. Making <code>animation-composition</code> supported in all three major engines. Learn more in the article <a href="https://developer.chrome.com/articles/css-animation-composition/" rel="noopener">Specify how multiple animation effects should composite with animation-composition</a>.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 112, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      112
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 115, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      115
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">Edge 112, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      112
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 16, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      16
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/animation-composition#browser_compatibility" target="_blank">Source</a>
</div>
<h3 id="array-methods">Array methods <a class="headline-link" href="https://web.dev/web-platform-07-2023/#array-methods">#</a></h3>
<p>Also reaching interoperability with Firefox 115 are a set of methods for <code>Array</code> and <code>TypedArray</code>.  <code>Array.toReversed()</code>, <code>Array.toSorted()</code>, <code>Array.toSpliced()</code>, <code>Array.with()</code>, <code>TypedArrays.toReversed()</code>, <code>TypedArrays.toSorted()</code>, and <code>TypedArrays.with()</code> return a new array with elements that have been shallow copied.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 110, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      110
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 115, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      115
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">Edge 110, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      110
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 16, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      16
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/toReversed#browser_compatibility" target="_blank">Source</a>
</div>
<h2 id="beta-browser-releases">Beta browser releases <a class="headline-link" href="https://web.dev/web-platform-07-2023/#beta-browser-releases">#</a></h2>
<p>Beta browser versions give you a preview of things that will be in the next stable version of the browser. It's a great time to test new features, or removals, that could impact your site before the world gets that release. New betas are <a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/116" rel="noopener">Firefox 116</a> and <a href="https://developer.chrome.com/blog/chrome-116-beta/" rel="noopener">Chrome 116</a>. The <a href="https://developer.apple.com/documentation/safari-release-notes/safari-16_6-release-notes" rel="noopener">Safari 17</a>  and <a href="https://developer.apple.com/documentation/safari-release-notes/safari-16_6-release-notes" rel="noopener">Safari 16.6</a> betas are still ongoing. These releases bring many great features to the platform. Check out the release notes for all of the details, here are just a few highlights.</p>
<p>Firefox 116 supports the <a href="https://developer.mozilla.org/docs/Web/API/Audio_Output_Devices_API" rel="noopener">Audio Output Devices API</a> on all platforms except for Android. This API allows web applications to redirect audio output to a permitted Bluetooth headset, speakerphone, or other device, instead of having to use the browser or underlying OS default.</p>
<p>Chrome 116 includes CSS Motion Path allowing any graphical object to be animated it along a path specified by the developer. This allows a number of powerful new transform possibilities, such as positioning using polar coordinates (with the <code>ray()</code> function) rather than the standard rectangular coordinates used by the <code>translate()</code> function, or animating an element along a defined path. This makes it easier to define complex and beautiful 2d spatial transitions. A path can be specified as <code>circle()</code>, <code>ellipse()</code>, <code>rect()</code>, <code>inset()</code>, <code>xywh()</code>, <code>polygon()</code>, <code>ray()</code> and <code>url()</code>.</p>
<p>Also in Chrome 116 is the <a href="https://developer.chrome.com/docs/web-platform/document-picture-in-picture/" rel="noopener">Document Picture-in-Picture API</a>. This enables an always-on-top window that can be populated with arbitrary HTMLElements. This is an expansion upon the existing HTMLVideoElement API that only allows for an HTMLVideoElement to be put into a Picture-in-Picture (PiP) window.</p>
<p><em>Photo by <a href="https://unsplash.com/@ninjason" rel="noopener">Jason Leung</a>.</em></p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[使用 CSS 使版式适应用户偏好]]></title>
            <link>https://web.dev/adapting-typography-to-user-preferences-with-css/</link>
            <guid>https://web.dev/adapting-typography-to-user-preferences-with-css/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>这篇文章介绍了如何通过使用CSS媒体查询和可变字体来定制阅读体验。通过使用字体变体设置，可以根据用户的偏好和上下文（如暗模式或高对比度）来自定义字体的等级和粗细。文章还提到了使用@font-face API加载可变字体，并使用CSS自定义属性和媒体查询来适应用户的偏好。根据用户的对比度偏好，字体的粗细会有所不同，而根据用户的颜色方案偏好，字体的亮度也会有所调整。通过这种方式，可以根据用户的偏好来定制字体，提供更好的阅读体验。</summary>
    <div>
    <div>OriginTitle: Adapting typography to user preferences with CSS</div>

    </div></div><p>让用户参与设计过程对于用户来说是一个激动人心的时刻， 
 设计师和开发人员。 用户可以登陆您的体验并无缝开始 
 消费内容时，他们的偏好充分融入到设计结果中。</p>
<p>这篇博文探讨了使用 CSS 媒体查询和可变字体来定制 
 阅读体验更进一步。 字体等级和粗细可定制 
 和<code>字体变化设置</code>，允许根据不同的偏好进行微调 
 和上下文，例如对深色模式或高对比度的偏好。 我们可以采取 
 这些偏好并为该用户体验定制可变字体。</p>
<ul>
<li>深色模式的渐变程度略有降低。</li>
<li>高对比度使字体更粗。</li>
<li>低对比度使字体更细。</li>
</ul>
<figure data-size="full">
  <video autoplay="" controls="" loop="" muted="">      <source src="https://storage.googleapis.com/web-dev-uploads/video/vS06HQ1YTsbMKSFTIPl2iogUQP73/cgGryLwncKVnBUQ8iQOF.mp4" type="video/mp4">    </video>
  <figcaption>
    <a href="https://codepen.io/argyleink/pen/mdQrqvj">https://codepen.io/argyleink/pen/mdQrqvj</a>
  </figcaption>
</figure>
<p>请继续了解 CSS 和可变字体的每个部分 
 这个有意义的时刻！</p>
<h2 id="getting-setup">进行设置<a class="headline-link" href="https://web.dev/adapting-typography-to-user-preferences-with-css/#getting-setup">#</a></h2>
<p>为了帮助关注 CSS 和字体变化设置值，还给我们 
 一些值得阅读和查看的内容，这里是您可以用来预览作品的标记：</p>
<div><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&amp;lt;</span>h1</span><span class="token punctuation">&amp;gt;</span></span>基于对比度偏好的可变字体粗细<span class="token tag"><span class="token tag"><span class="token punctuation"></span>h1</span><span class="token punctuation">&amp;gt;</span></span><br><br><span class="token tag"><span class="token tag"><span class="token punctuation">&amp;lt;</span>p</span><span class="token punctuation">&amp;gt;</span></span><br>Lorem ipsum dolor sat amet consectetur adipisicing elit。<br>官方，怎么样？ Quidem、nemo aliquam、magnam rerum 区别<br>itaque nisi nam，cupiditate dolorum ad sint。 索鲁塔尼莫<br>Labore aliquid ex， dicta corporis。<br><span class="token tag"><span class="token tag"><span class="token punctuation"></span>p</span><span class="token punctuation">&amp;gt;</span></span></code></pre>
</div><p>无需添加任何 CSS，字体大小就已经能够适应用户的喜好。 
 这是另一个演示的视频，展示了如何设置<code>字体大小</code>以像素为单位将 
 压缩任何用户偏好，以及为什么你应该以 rems 设置字体大小：</p>
<p><video autoplay="" controls="" loop="" muted="">      <source src="https://storage.googleapis.com/web-dev-uploads/video/vS06HQ1YTsbMKSFTIPl2iogUQP73/8mxSKsYmv6K7zoqDor0F.mp4" type="video/mp4">    </video></p>
<p>最后，为了集中和支持演示，需要一些 CSS：</p>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@层</span>演示支持</span> <span class="token punctuation">{</span><br>  <span class="token selector">身体</span> <span class="token punctuation">{</span><br>    <span class="token property">展示</span><span class="token punctuation">:</span>网格<span class="token punctuation">;</span><br>    <span class="token property">地点内容</span><span class="token punctuation">:</span>中心<span class="token punctuation">;</span><br>    <span class="token property">填充</span><span class="token punctuation">:</span> <span class="token function">变量</span><span class="token punctuation">（</span>--尺寸-5<span class="token punctuation">）</span><span class="token punctuation">;</span><br>    <span class="token property">差距</span><span class="token punctuation">:</span> <span class="token function">变量</span><span class="token punctuation">（</span>--尺寸-5<span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token selector">h1</span> <span class="token punctuation">{</span><br>    <span class="token property">文本换行</span><span class="token punctuation">:</span>平衡<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><img alt="A screenshot preview of the demo so far, in both dark and light themes." decoding="async" height="327" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=1600 1600w" width="800">
<p>此演示设置可让您开始测试和实现这种简洁的排版用户体验 
 特征。</p>
<h2 id="loading-the-roboto-flex-variable-font">加载 Roboto Flex 可变字体<a class="headline-link" href="https://web.dev/adapting-typography-to-user-preferences-with-css/#loading-the-roboto-flex-variable-font">#</a></h2>
<p>自适应策略取决于具有有意义的轴的可变字体 
 定制，特别是您需要的<code>研究生毕业证书</code>和<code>重量</code>。 目标自适应用户 
 本文中的偏好是配色方案和对比度，两者 
 将定制这些轴以匹配用户所需的偏好。</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">不需要可变字体来实现这种符合偏好的用户体验，但是，使用可变字体无需加载多种粗细或版本的字体即可实现效果。 看<a href="https://codepen.io/web-dot-dev/pen/zYMmevQ">这个演示</a>有关此 UX 的示例，不依赖于可变字体。</div></aside>
<p>使用以下命令加载可变字体<code>@字体脸</code>CSS的API：</p>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@字体脸</span></span> <span class="token punctuation">{</span><br>  <span class="token property">字体系列</span><span class="token punctuation">:</span> <span class="token string">“机器人柔性”</span><span class="token punctuation">;</span><br>  <span class="token property">源代码</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">网址</span><span class="token punctuation">（</span><span class="token string url">'https://assets.codepen.io/2585/RobotoFlex'</span><span class="token punctuation">）</span></span> <span class="token function">格式</span><span class="token punctuation">（</span><span class="token string">'真实类型'</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><p>接下来，将字体应用于某些内容。 以下 CSS 将其应用于 
 一切：</p>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@层</span>演示支持</span> <span class="token punctuation">{</span><br>  <span class="token selector">身体</span> <span class="token punctuation">{</span><br>    <span class="token property">字体系列</span><span class="token punctuation">:</span>机器人柔性<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><img alt="A screenshot preview of the demo so far, with the font now in Roboto Flex in both dark and light themes." decoding="async" height="327" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=1600 1600w" width="800">
<h2 id="css-custom-properties-and-media-queries-for-the-win">CSS 自定义属性和媒体查询获胜<a class="headline-link" href="https://web.dev/adapting-typography-to-user-preferences-with-css/#css-custom-properties-and-media-queries-for-the-win">#</a></h2>
<p>加载字体后，您可以查询用户首选项并调整变量 
 字体设置要匹配。</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">如果您需要对其中一些样式进行评论，请查看<a href="https://web.dev/learn/css/">学习 CSS</a>模块开启<a href="https://web.dev/learn/design/media-queries/">媒体查询</a>或这篇文章<a href="https://web.dev/building-a-color-scheme/">使用自定义属性构建自适应配色方案</a>。</div></aside>
<h3 id="settings-when-theres-no-preferences-default">没有首选项时的设置（默认）<a class="headline-link" href="https://web.dev/adapting-typography-to-user-preferences-with-css/#settings-when-theres-no-preferences-default">#</a></h3>
<p>以下初始样式将是默认样式，或者另一种查看方式 
 在这里，用户的样式没有任何偏好。</p>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@层</span>演示</span> <span class="token punctuation">{</span><br>  <span class="token selector">身体</span> <span class="token punctuation">{</span><br>    <span class="token property">--基础重量</span><span class="token punctuation">:</span>400<span class="token punctuation">;</span><br>    <span class="token property">--基础等级</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span><br><br>    <span class="token property">字体变化设置</span><span class="token punctuation">:</span><br>      <span class="token string">“重量”</span> <span class="token function">变量</span><span class="token punctuation">（</span>--基础重量<span class="token punctuation">）</span><span class="token punctuation">,</span><br>      <span class="token string">“毕业”</span> <span class="token function">变量</span><span class="token punctuation">（</span>--基础等级<span class="token punctuation">）</span><br>    <span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><h3 id="settings-when-the-preference-is-for-high-contrast">偏好高对比度时的设置<a class="headline-link" href="https://web.dev/adapting-typography-to-user-preferences-with-css/#settings-when-the-preference-is-for-high-contrast">#</a></h3>
<p>对于在系统中表示偏好高对比度的用户 
 设置，增加<code>--基础重量</code>价值来自<code>400</code>到<code>700</code>:</p>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@层</span>演示</span> <span class="token punctuation">{</span><br>  <span class="token atrule"><span class="token rule">@媒体</span> <span class="token punctuation">（</span><span class="token property">喜欢对比</span><span class="token punctuation">:</span>更多的<span class="token punctuation">）</span></span> <span class="token punctuation">{</span><br>    <span class="token selector">身体</span> <span class="token punctuation">{</span><br>      <span class="token property">--基础重量</span><span class="token punctuation">:</span>700<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><p>现在阅读时对比更多。</p>
<h3 id="settings-when-the-preference-is-for-low-contrast">优先选择低对比度时的设置<a class="headline-link" href="https://web.dev/adapting-typography-to-user-preferences-with-css/#settings-when-the-preference-is-for-low-contrast">#</a></h3>
<p>对于在系统中表示偏好低对比度的用户 
 设置，减少<code>--基础重量</code>价值来自<code>400</code>到<code>200</code>:</p>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@层</span>演示</span> <span class="token punctuation">{</span><br>  <span class="token atrule"><span class="token rule">@媒体</span> <span class="token punctuation">（</span><span class="token property">喜欢对比</span><span class="token punctuation">:</span>较少的<span class="token punctuation">）</span></span> <span class="token punctuation">{</span><br>    <span class="token selector">身体</span> <span class="token punctuation">{</span><br>      <span class="token property">--基础重量</span><span class="token punctuation">:</span>200<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><p>现在阅读时对比度减少了。</p>
<h3 id="settings-when-the-preference-is-for-dark-mode">偏好为深色模式时的设置<a class="headline-link" href="https://web.dev/adapting-typography-to-user-preferences-with-css/#settings-when-the-preference-is-for-dark-mode">#</a></h3>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@层</span>演示</span> <span class="token punctuation">{</span><br>  <span class="token atrule"><span class="token rule">@媒体</span> <span class="token punctuation">（</span><span class="token property">偏好配色方案</span><span class="token punctuation">:</span>黑暗的<span class="token punctuation">）</span></span> <span class="token punctuation">{</span><br>    <span class="token selector">身体</span> <span class="token punctuation">{</span><br>      <span class="token property">--基础等级</span><span class="token punctuation">:</span>-25<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><p>现在，亮对暗与暗对亮的感知差异已经是 
 占。</p>
<h3 id="all-together-now">现在都在一起了<a class="headline-link" href="https://web.dev/adapting-typography-to-user-preferences-with-css/#all-together-now">#</a></h3>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@层</span>演示</span> <span class="token punctuation">{</span><br>  <span class="token selector">身体</span> <span class="token punctuation">{</span><br>    <span class="token property">--基础重量</span><span class="token punctuation">:</span>400<span class="token punctuation">;</span><br>    <span class="token property">--基础等级</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span><br><br>    <span class="token property">字体变化设置</span><span class="token punctuation">:</span><br>      <span class="token string">“重量”</span> <span class="token function">变量</span><span class="token punctuation">（</span>--基础重量<span class="token punctuation">）</span><span class="token punctuation">,</span><br>      <span class="token string">“毕业”</span> <span class="token function">变量</span><span class="token punctuation">（</span>--基础等级<span class="token punctuation">）</span><br>    <span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token atrule"><span class="token rule">@媒体</span> <span class="token punctuation">（</span><span class="token property">喜欢对比</span><span class="token punctuation">:</span>更多的<span class="token punctuation">）</span></span> <span class="token punctuation">{</span><br>    <span class="token selector">身体</span> <span class="token punctuation">{</span><br>      <span class="token property">--基础重量</span><span class="token punctuation">:</span>700<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token atrule"><span class="token rule">@媒体</span> <span class="token punctuation">（</span><span class="token property">喜欢对比</span><span class="token punctuation">:</span>较少的<span class="token punctuation">）</span></span> <span class="token punctuation">{</span><br>    <span class="token selector">身体</span> <span class="token punctuation">{</span><br>      <span class="token property">--基础重量</span><span class="token punctuation">:</span>200<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token atrule"><span class="token rule">@媒体</span> <span class="token punctuation">（</span><span class="token property">偏好配色方案</span><span class="token punctuation">:</span>黑暗的<span class="token punctuation">）</span></span> <span class="token punctuation">{</span><br>    <span class="token selector">身体</span> <span class="token punctuation">{</span><br>      <span class="token property">--基础等级</span><span class="token punctuation">:</span>-25<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><p>或者，为了好玩，一起<a href="https://developer.chrome.com/articles/css-nesting/" rel="noopener">CSS 嵌套</a>:</p>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@层</span>演示</span> <span class="token punctuation">{</span><br>  <span class="token selector">身体</span> <span class="token punctuation">{</span><br>    <span class="token property">--基础重量</span><span class="token punctuation">:</span>400<span class="token punctuation">;</span><br>    <span class="token property">--基础等级</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span><br><br>    <span class="token property">字体变化设置</span><span class="token punctuation">:</span><br>      <span class="token string">“重量”</span> <span class="token function">变量</span><span class="token punctuation">（</span>--基础重量<span class="token punctuation">）</span><span class="token punctuation">,</span><br>      <span class="token string">“毕业”</span> <span class="token function">变量</span><span class="token punctuation">（</span>--基础等级<span class="token punctuation">）</span><br>    <span class="token punctuation">;</span><br><br>    <span class="token atrule"><span class="token rule">@媒体</span> <span class="token punctuation">（</span><span class="token property">喜欢对比</span><span class="token punctuation">:</span>更多的<span class="token punctuation">）</span></span>     <span class="token punctuation">{</span> <span class="token property">--基础重量</span><span class="token punctuation">:</span>700<span class="token punctuation">}</span><br>    <span class="token atrule"><span class="token rule">@媒体</span> <span class="token punctuation">（</span><span class="token property">喜欢对比</span><span class="token punctuation">:</span>较少的<span class="token punctuation">）</span></span>     <span class="token punctuation">{</span> <span class="token property">--基础重量</span><span class="token punctuation">:</span>200<span class="token punctuation">}</span><br>    <span class="token atrule"><span class="token rule">@媒体</span> <span class="token punctuation">（</span><span class="token property">偏好配色方案</span><span class="token punctuation">:</span>黑暗的<span class="token punctuation">）</span></span> <span class="token punctuation">{</span> <span class="token property">--基础等级</span><span class="token punctuation">:</span>-25<span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><p>结果是一种调整字体以匹配用户的阅读体验 
 优先。 完整的源代码可在下面的 Codepen 中找到。</p>
<div class="codepen-embed-wrap" style="height: 500px; width: 100%">
<iframe allow="camera; clipboard-read; clipboard-write; encrypted-media; geolocation; microphone; midi;" loading="lazy" src="https://codepen.io/web-dot-dev/embed/rNQZMzo?height=500&amp;theme-id=light&amp;default-tab=result&amp;editable=true" style="height: 100%; width: 100%; border: 0;" title="Pen rNQZMzo by web-dot-dev on Codepen">Codepen 上 web-dot-dev 的 Pen</iframe></div>
<hr><p>Bringing the user into the design process has been an exciting time for users,
designers and developers. Users can land on your experience and seamlessly begin
consuming content, their preferences richly integrated into the design result.</p>
<p>This blog post explores using CSS media queries with a variable font to tailor
the reading experience even further. Font grade and weight can be customized
with <code>font-variation-settings</code>, allowing microtuning given various preferences
and contexts, like a preference for dark mode or high contrast. We can take
these preferences and tailor a variable font for that user experience.</p>
<ul>
<li>Dark mode gets a slightly reduced gradation.</li>
<li>High contrast gets a bolder font.</li>
<li>Low contrast gets a thinner font.</li>
</ul>
<figure data-size="full">
  <video autoplay="" controls="" loop="" muted="">      <source src="https://storage.googleapis.com/web-dev-uploads/video/vS06HQ1YTsbMKSFTIPl2iogUQP73/cgGryLwncKVnBUQ8iQOF.mp4" type="video/mp4">    </video>
  <figcaption>
    <a href="https://codepen.io/argyleink/pen/mdQrqvj">https://codepen.io/argyleink/pen/mdQrqvj</a>
  </figcaption>
</figure>
<p>Follow along to understand each portion of the CSS and variable font that enable
this meaningful moment!</p>
<h2 id="getting-setup">Getting setup <a class="headline-link" href="https://web.dev/adapting-typography-to-user-preferences-with-css/#getting-setup">#</a></h2>
<p>To help focus on the CSS and font variation setting values, but also give us
something to read and see, here's the markup you can use to preview the work:</p>
<div><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Variable font weight based on contrast preference<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><br><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><br>  Lorem ipsum dolor sit amet consectetur adipisicing elit.<br>  Officia, quod? Quidem, nemo aliquam, magnam rerum distinctio<br>  itaque nisi nam, cupiditate dolorum ad sint. Soluta nemo<br>  labore aliquid ex, dicta corporis.<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
</div><p>Without adding any CSS, the font size is already adaptive to user preferences.
Here's a video from another demo showing how setting <code>font-size</code> in pixels will
squash any user preferences, and why you should set your font size in rems:</p>
<p><video autoplay="" controls="" loop="" muted="">      <source src="https://storage.googleapis.com/web-dev-uploads/video/vS06HQ1YTsbMKSFTIPl2iogUQP73/8mxSKsYmv6K7zoqDor0F.mp4" type="video/mp4">    </video></p>
<p>Lastly, to center and support the demo, a little CSS:</p>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> demo.support</span> <span class="token punctuation">{</span><br>  <span class="token selector">body</span> <span class="token punctuation">{</span><br>    <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span><br>    <span class="token property">place-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><br>    <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--size-5<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token property">gap</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--size-5<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token selector">h1</span> <span class="token punctuation">{</span><br>    <span class="token property">text-wrap</span><span class="token punctuation">:</span> balance<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><img alt="A screenshot preview of the demo so far, in both dark and light themes." decoding="async" height="327" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/upVZBhu250ETgmczvTeh.png?auto=format&amp;w=1600 1600w" width="800">
<p>This demo setup lets you begin testing and implementing this neat typography UX
feature.</p>
<h2 id="loading-the-roboto-flex-variable-font">Loading the Roboto Flex variable font <a class="headline-link" href="https://web.dev/adapting-typography-to-user-preferences-with-css/#loading-the-roboto-flex-variable-font">#</a></h2>
<p>The adaptive strategy depends on a variable font with meaningful axes for
customization, specifically you need <code>GRAD</code> and <code>wght</code>. The target adaptive user
preferences in this article are for color scheme and contrast, both of which
will tailor these axes to match the user's desired preference.</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> A variable font is not required to achieve this user experience that matches preferences, however, using one achieves the effect without loading multiple weights or versions of a font. See <a href="https://codepen.io/web-dot-dev/pen/zYMmevQ">this demo</a> for an example of this UX without a dependency on a variable font. </div></aside>
<p>Load the variable font using the <code>@font-face</code> API of CSS:</p>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span><br>  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"Roboto Flex"</span><span class="token punctuation">;</span><br>  <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'https://assets.codepen.io/2585/RobotoFlex'</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'truetype'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><p>Next, apply the font to some content. The following CSS applies it to
everything:</p>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> demo.support</span> <span class="token punctuation">{</span><br>  <span class="token selector">body</span> <span class="token punctuation">{</span><br>    <span class="token property">font-family</span><span class="token punctuation">:</span> Roboto Flex<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><img alt="A screenshot preview of the demo so far, with the font now in Roboto Flex in both dark and light themes." decoding="async" height="327" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format" srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/hfdJqPvkp2v8HvsH7x4o.png?auto=format&amp;w=1600 1600w" width="800">
<h2 id="css-custom-properties-and-media-queries-for-the-win">CSS custom properties and media queries for the win <a class="headline-link" href="https://web.dev/adapting-typography-to-user-preferences-with-css/#css-custom-properties-and-media-queries-for-the-win">#</a></h2>
<p>With the font loaded, you can query for user preferences and adapt the variable
font settings to match.</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> If you need a review on some of these styles, check out the <a href="https://web.dev/learn/css/">Learn CSS</a> module on <a href="https://web.dev/learn/design/media-queries/">media queries</a> or this post on <a href="https://web.dev/building-a-color-scheme/">building an adaptive color scheme with custom properties</a>. </div></aside>
<h3 id="settings-when-theres-no-preferences-default">Settings when there's no preferences (default) <a class="headline-link" href="https://web.dev/adapting-typography-to-user-preferences-with-css/#settings-when-theres-no-preferences-default">#</a></h3>
<p>The following initial styles will be the default styles, or another way to look
at it, the styles for users without any preferences.</p>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> demo</span> <span class="token punctuation">{</span><br>  <span class="token selector">body</span> <span class="token punctuation">{</span><br>    <span class="token property">--base-weight</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span><br>    <span class="token property">--base-grade</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><br><br>    <span class="token property">font-variation-settings</span><span class="token punctuation">:</span><br>      <span class="token string">"wght"</span> <span class="token function">var</span><span class="token punctuation">(</span>--base-weight<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token string">"GRAD"</span> <span class="token function">var</span><span class="token punctuation">(</span>--base-grade<span class="token punctuation">)</span><br>    <span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><h3 id="settings-when-the-preference-is-for-high-contrast">Settings when the preference is for high contrast <a class="headline-link" href="https://web.dev/adapting-typography-to-user-preferences-with-css/#settings-when-the-preference-is-for-high-contrast">#</a></h3>
<p>For users who have indicated a preference for high contrast in their system
settings, increase the <code>--base-weight</code> value from <code>400</code> to <code>700</code>:</p>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> demo</span> <span class="token punctuation">{</span><br>  <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-contrast</span><span class="token punctuation">:</span> more<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>    <span class="token selector">body</span> <span class="token punctuation">{</span><br>      <span class="token property">--base-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><p>Now there's more contrast while reading.</p>
<h3 id="settings-when-the-preference-is-for-low-contrast">Settings when the preference is for low contrast <a class="headline-link" href="https://web.dev/adapting-typography-to-user-preferences-with-css/#settings-when-the-preference-is-for-low-contrast">#</a></h3>
<p>For users who have indicated a preference for low contrast in their system
settings, decrease the <code>--base-weight</code> value from <code>400</code> to <code>200</code>:</p>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> demo</span> <span class="token punctuation">{</span><br>  <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-contrast</span><span class="token punctuation">:</span> less<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>    <span class="token selector">body</span> <span class="token punctuation">{</span><br>      <span class="token property">--base-weight</span><span class="token punctuation">:</span> 200<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><p>Now there's less contrast while reading.</p>
<h3 id="settings-when-the-preference-is-for-dark-mode">Settings when the preference is for dark mode <a class="headline-link" href="https://web.dev/adapting-typography-to-user-preferences-with-css/#settings-when-the-preference-is-for-dark-mode">#</a></h3>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> demo</span> <span class="token punctuation">{</span><br>  <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-color-scheme</span><span class="token punctuation">:</span> dark<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>    <span class="token selector">body</span> <span class="token punctuation">{</span><br>      <span class="token property">--base-grade</span><span class="token punctuation">:</span> -25<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><p>Now the perceptual differences of light on dark vs dark on light have been
accounted for.</p>
<h3 id="all-together-now">All together now <a class="headline-link" href="https://web.dev/adapting-typography-to-user-preferences-with-css/#all-together-now">#</a></h3>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> demo</span> <span class="token punctuation">{</span><br>  <span class="token selector">body</span> <span class="token punctuation">{</span><br>    <span class="token property">--base-weight</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span><br>    <span class="token property">--base-grade</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><br><br>    <span class="token property">font-variation-settings</span><span class="token punctuation">:</span><br>      <span class="token string">"wght"</span> <span class="token function">var</span><span class="token punctuation">(</span>--base-weight<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token string">"GRAD"</span> <span class="token function">var</span><span class="token punctuation">(</span>--base-grade<span class="token punctuation">)</span><br>    <span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-contrast</span><span class="token punctuation">:</span> more<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>    <span class="token selector">body</span> <span class="token punctuation">{</span><br>      <span class="token property">--base-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-contrast</span><span class="token punctuation">:</span> less<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>    <span class="token selector">body</span> <span class="token punctuation">{</span><br>      <span class="token property">--base-weight</span><span class="token punctuation">:</span> 200<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-color-scheme</span><span class="token punctuation">:</span> dark<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>    <span class="token selector">body</span> <span class="token punctuation">{</span><br>      <span class="token property">--base-grade</span><span class="token punctuation">:</span> -25<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><p>Or, for fun, all together with <a href="https://developer.chrome.com/articles/css-nesting/" rel="noopener">CSS nesting</a>:</p>
<div><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@layer</span> demo</span> <span class="token punctuation">{</span><br>  <span class="token selector">body</span> <span class="token punctuation">{</span><br>    <span class="token property">--base-weight</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span><br>    <span class="token property">--base-grade</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><br><br>    <span class="token property">font-variation-settings</span><span class="token punctuation">:</span><br>      <span class="token string">"wght"</span> <span class="token function">var</span><span class="token punctuation">(</span>--base-weight<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token string">"GRAD"</span> <span class="token function">var</span><span class="token punctuation">(</span>--base-grade<span class="token punctuation">)</span><br>    <span class="token punctuation">;</span><br><br>    <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-contrast</span><span class="token punctuation">:</span> more<span class="token punctuation">)</span></span>     <span class="token punctuation">{</span> <span class="token property">--base-weight</span><span class="token punctuation">:</span> 700 <span class="token punctuation">}</span><br>    <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-contrast</span><span class="token punctuation">:</span> less<span class="token punctuation">)</span></span>     <span class="token punctuation">{</span> <span class="token property">--base-weight</span><span class="token punctuation">:</span> 200 <span class="token punctuation">}</span><br>    <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-color-scheme</span><span class="token punctuation">:</span> dark<span class="token punctuation">)</span></span> <span class="token punctuation">{</span> <span class="token property">--base-grade</span><span class="token punctuation">:</span> -25 <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><p>The result is a reading experience that adapts the font to match the user's
preferences. Full source code is available below in the Codepen.</p>
<div class="codepen-embed-wrap" style="height: 500px; width: 100%">
<iframe allow="camera; clipboard-read; clipboard-write; encrypted-media; geolocation; microphone; midi;" loading="lazy" src="https://codepen.io/web-dot-dev/embed/rNQZMzo?height=500&amp;theme-id=light&amp;default-tab=result&amp;editable=true" style="height: 100%; width: 100%; border: 0;" title="Pen rNQZMzo by web-dot-dev on Codepen">See the Pen <a href="https://codepen.io/web-dot-dev/embed/rNQZMzo">Pen rNQZMzo by web-dot-dev on Codepen</a></iframe></div>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[设计 Google 帐户上的密钥的用户体验]]></title>
            <link>https://web.dev/passkey-google-ux/</link>
            <guid>https://web.dev/passkey-google-ux/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>这篇文章介绍了Google推出的一种新的身份验证技术——Passkeys。Passkeys是一种简单而安全的跨设备身份验证技术，可以在不输入密码的情况下创建在线账户并登录。用户只需使用设备上的屏幕锁，如指纹传感器，即可登录账户。Google与FIDO联盟合作多年，与苹果和微软一起推广Passkeys。2022年，Google为Android和Chrome用户提供了Passkeys的平台支持，使他们可以在所有设备上无缝登录应用和网站。2023年5月，Google启用了使用Passkeys登录Google账户的功能，为用户带来了安全和便利。Google作为一家同时致力于Passkeys基础设施的开发和最大的Passkeys服务提供商之一，正在谨慎而有计划地推出Passkeys，以便通过用户反馈不断改进Passkeys基础设施和Google账户体验。

文章还介绍了如何引导用户过渡到Passkeys。研究表明，用户最看重的是便利性。他们希望能够顺利快速地过渡到真正的体验，而这需要在登录之后进行。Passkeys的过渡需要改变用户的肌肉记忆，并且需要说服用户这个转变是值得的。因此，Google在设计Passkeys的用户体验时，强调了易用性和安</summary>
    <div>
    <div>OriginTitle: Designing the user experience of passkeys on Google accounts</div>

    </div></div><p>万能钥匙是一个简单且<a href="https://security.googleblog.com/2023/05/so-long-passwords-thanks-for-all-phish.html" rel="noopener">安全的跨设备身份验证 
 技术</a>
 允许创建在线帐户并登录，而无需输入 
 密码。 要登录帐户，系统只会提示用户使用 
 设备上的屏幕锁定，例如触摸指纹传感器。</p>
<p>谷歌多年来一直与 FIDO 联盟合作，与苹果和 
 微软，将密钥带给世界。 2022 年我们推出平台 
 支持密钥，以便 
<a href="https://android-developers.googleblog.com/2022/10/bringing-passkeys-to-android-and-chrome.html" rel="noopener">安卓</a>
和
<a href="https://blog.chromium.org/2022/12/introducing-passkeys-in-chrome.html" rel="noopener">铬合金</a>
 用户可以在所有设备上无缝登录应用程序和网站。 在 
 2023 年 5 月，我们启用了登录<a href="https://blog.google/technology/safety-security/the-beginning-of-the-end-of-the-password/" rel="noopener">Google 帐户 
 万能钥匙</a>, 
 为我们的用户带来密钥的安全性和便利性。</p>
<p>谷歌处于独特的地位，因为我们都致力于基础设施建设 
 密钥，是使用密钥的最大服务之一。 我们正在推出 
 仔细而谨慎地设置 Google 帐户的密钥，以便我们能够衡量 
 结果并使用该反馈来继续改进密钥基础设施 
 以及 Google 帐户体验。</p>
<h2 id="transitioning-users-to-passkeys">将用户转换为密钥<a class="headline-link" href="https://web.dev/passkey-google-ux/#transitioning-users-to-passkeys">#</a></h2>
<p>自个性化出现以来，密码一直是标准登录方法 
 在线体验。 我们如何引入passkey的无密码体验？</p>
<p>研究表明，在身份验证方面，用户重视 
 最方便。 他们希望平稳快速地过渡到真正的 
 体验，只有在登录后才能获得。</p>
<p>尽管如此，向万能钥匙的过渡需要改变肌肉记忆，并且用户需要 
 确信改变是值得的。</p>
<p>密钥的用户体验<a href="http://google.com/" rel="noopener">谷歌网站</a>已经 
 战略性设计旨在强调每一步的两个原则 
 身份验证过程：易用性和安全性。</p>
<h3 id="leading-with-convenience">以便利为先导<a class="headline-link" href="https://web.dev/passkey-google-ux/#leading-with-convenience">#</a></h3>
<figure>
<img alt="For most users, this will be the first time they see passkeys" decoding="async" height="600" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format" srcset="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>对于大多数用户来说，这将是他们第一次看到密钥。</figcaption>
</figure>
<p>用户看到的第一个万能钥匙屏幕很轻且易于理解。 标题是 
 关注用户利益，说“简化您的登录”。</p>
<p>正文解释说“通过密钥，您现在可以使用指纹、面部或 
 屏幕锁定以验证确实是您”。</p>
<p>插图旨在将信息扎根于所提出的价值主张中 
 按页面。 大的蓝色主要操作邀请用户继续。 “不是 
 now”作为次要操作包含在内，以允许用户选择是否 
 此时选择加入，让用户掌控。 并提供“了解更多” 
 对于那些想更好地了解密钥的好奇用户 
 进行中。</p>
<p>我们探索了用于向用户介绍万能钥匙的页面的多次迭代 
 登录期间。这包括尝试强调安全性的内容， 
 技术以及万能钥匙的其他方面——但真正重要的是便利性 
 最引起共鸣。 Google 的内容策略、插图和交互设计 
 演示了我们实施密钥的核心原则。</p>
<h3 id="associating-the-term-passkeys-with-familiar-security-experiences">将术语“密钥”与熟悉的安全体验相关联<a class="headline-link" href="https://web.dev/passkey-google-ux/#associating-the-term-passkeys-with-familiar-security-experiences">#</a></h3>
<p>对于大多数用户来说，万能钥匙是一个新术语，因此我们有意温和地公开 
 用户对该术语建立熟悉度。 在内部研究的指导下，我们 
 策略性地将密钥与安全性关联起来。</p>
<p>“密钥”一词包含在整个登录流程中不太显眼的位置 
 正文复制位置。 它始终坐落在熟悉的安全环境之中 
 支持密钥使用的体验：指纹、面部扫描或其他设备 
 屏幕锁。</p>
<p>我们的研究表明，许多用户将生物识别技术与安全联系起来。 尽管 
 密钥不需要生物识别（密钥可以与设备 PIN 一起使用，例如 
 例如），我们倾向于将万能钥匙与生物识别技术联系起来 
 提高用户对密钥安全优势的认识。</p>
<p>“了解更多”后面的附加内容有很多有价值的信息 
 对于用户来说，包括让用户放心他们的敏感生物识别数据 
 保留在他们的个人设备上，并且在创建或共享时绝不会存储或共享 
 使用密钥。 我们采取这种方法是因为大多数用户发现这种方法很方便 
 密钥方面很有吸引力，但只有少数考虑到生物识别 
 测试期间的元素。</p>
<h3 id="introducing-passkeys-when-its-relevant-to-the-user">当与用户相关时引入密钥<a class="headline-link" href="https://web.dev/passkey-google-ux/#introducing-passkeys-when-its-relevant-to-the-user">#</a></h3>
<p>Google 的启发式方法会仔细确定谁将看到介绍性屏幕。 
 其中一些因素是用户是否启用了两步验证以及 
 他们是否定期从同一设备访问该帐户。</p>
<p>首先选择最有可能成功使用密钥的用户，然后再选择 
 届时将引入更多用户（不过，任何人都可以从 
<a href="http://g.co/passkeys" rel="noopener">g.co/密码</a>今天）。</p>
<p>使用用户名登录后，系统会提示选择用户创建密码 
 和密码。 我们在用户旅程中选择这一点有几个原因：</p>
<ul>
<li>用户刚刚登录，他们知道自己的凭据，然后 
 步。</li>
<li>我们确信用户正在使用他们的设备 - 他们刚刚登录，因此 
 他们不太可能走开或放下设备。</li>
<li>据统计，第一次登录并不总是成功，因此一条消息 
 让下次变得更容易具有有形的价值。</li>
</ul>
<h3 id="positioning-passkeys-as-an-alternative-to-passwords-and-not-yet-a-replacement">将万能钥匙定位为密码的替代品，但尚未取代<a class="headline-link" href="https://web.dev/passkey-google-ux/#positioning-passkeys-as-an-alternative-to-passwords-and-not-yet-a-replacement">#</a></h3>
<p>初步用户研究表明，许多用户仍然希望密码作为备份 
 登录方法。 并非所有用户都会拥有<a href="https://support.google.com/accounts/answer/13548313?hl=en&amp;sjid=17510595681178318776-NA" rel="noopener">必须采用的技术 
 万能钥匙</a>。</p>
<p>因此，尽管包括谷歌在内的整个行业正在走向“无密码” 
 未来”，谷歌有意将密钥定位为一种简单而安全的方式 
<strong>选择</strong>到密码。 Google 的 UI 重点关注万能钥匙的好处 
 并避免使用暗示删除密码的语言。</p>
<h2 id="the-creation-moment">创作时刻<a class="headline-link" href="https://web.dev/passkey-google-ux/#the-creation-moment">#</a></h2>
<p>当用户选择注册时，他们将看到特定于浏览器的 UI 模式 
 使他们能够创建密钥。</p>
<p>密钥本身显示有行业一致的图标和信息 
 用于创建它。 这包括显示名称（您的友好名称） 
 密钥（例如您用户的真实姓名）和用户名（您的帐户上的唯一名称） 
 服务——电子邮件地址在这里可以发挥很大作用）。 当谈到与 
 密钥图标，<a href="https://media.fidoalliance.org/wp-content/uploads/2023/05/FIDO-Alliance-UX-Guidelines-for-Passkey-Creation-and-Sign-ins.pdf" rel="noopener">FIDO 联盟建议使用经过验证的密钥 
 图标</a>-和 
 鼓励通过定制使其成为您自己的。</p>
<p>在整个用户旅程中一致显示万能钥匙图标，以创建 
 熟悉用户在使用或管理密钥时将看到的内容。 这 
 如果没有上下文或支持材料，万能钥匙图标永远不会显示。</p>
<figure>
<img alt="When users create their passkey, they'll see this page" decoding="async" height="600" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format" srcset="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>当用户创建密钥时，他们将看到此页面。</figcaption>
</figure>
<p>上面，我们概述了用户和平台如何共同创建一个 
 密钥。 当用户单击“继续”时，他们将看到一个独特的 UI 
 取决于平台。</p>
<p>考虑到这一点，我们通过内部研究了解到，确认 
 创建密钥后的屏幕对于理解非常有帮助 
 并在流程的这一步结束。</p>
<figure>
<img alt="Once the passkey has been created, users will see this page" decoding="async" height="600" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format" srcset="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>创建密钥后，用户将看到此页面。</figcaption>
</figure>
<p>确认屏幕是一个故意的“暂停”，以结束旅程 
 向用户介绍密钥并完成创建其中之一的过程 
 他们自己的。 由于这是（可能）用户第一次使用密钥， 
 此页面旨在为旅程提供明确的结束。 我们选择了独立的 
 尝试其他一些工具（例如较小的通知，甚至是 
 创建后电子邮件——只是为了提供结构化、稳定的端到端 
 经验。</p>
<p>一旦用户点击此处的“继续”，他们就会被带到目的地。</p>
<figure>
<img alt="When users sign in again, they'll likely see this page" decoding="async" height="600" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format" srcset="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>当用户再次登录时，他们可能会看到此页面。</figcaption>
</figure>
<h2 id="signing-in">登录中<a class="headline-link" href="https://web.dev/passkey-google-ux/#signing-in">#</a></h2>
<p>下次用户尝试登录时，他们将看到此页面。 这使用 
 相同的布局、插图和主要号召性用语来唤起第一反应 
 上面概述的“创造”体验。 一旦用户选择注册 
 在密钥中，此页面应该感觉熟悉，并且他们会识别哪些步骤 
 他们需要携带才能登录。</p>
<figure>
<img alt="The user will use this WebAuthn UI to sign in" decoding="async" height="600" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format" srcset="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>用户将使用此 WebAuthn UI 登录。</figcaption>
</figure>
<p>同样的熟悉原则也适用于此。 有意地，这使用了 
 相同的图像、插图、布局和文本。 WebAuthn UI 中的文本 
 保持简短、广泛且可重复使用——因此每个人都可以将其用于 
 身份验证和重新身份验证。</p>
<h2 id="passkeys-management">密钥管理<a class="headline-link" href="https://web.dev/passkey-google-ux/#passkeys-management">#</a></h2>
<p>需要在 Google 帐户设置页面中引入全新页面 
 仔细考虑以确保用户有凝聚力、直观且一致 
 经验。</p>
<p>为了实现这一目标，我们分析了有关导航、内容、 
 整个组织中存在的等级制度、结构和既定期望 
 谷歌帐户。</p>
<figure>
<img alt="Passkeys management page in the Google Account" decoding="async" height="655" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format" srcset="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>Google 帐户中的密钥管理页面。</figcaption>
</figure>
<h3 id="describe-passkeys-by-ecosystem">按生态系统描述密钥<a class="headline-link" href="https://web.dev/passkey-google-ux/#describe-passkeys-by-ecosystem">#</a></h3>
<p>创建一个高级类别系统，使我们能够逻辑地理解 
 决定通过描述密钥 
<a href="https://developers.google.com/identity/passkeys/supported-environments" rel="noopener">生态系统</a>。 
 这样，用户就可以识别密钥的创建位置和所在位置 
 用过的。 每个身份提供商（Google、Apple 和 Microsoft）都有一个名称 
 生态系统，所以我们选择使用这些（Google 密码管理器、iCloud 钥匙串、 
 和 Windows Hello）。</p>
<p>为了支持这一点，我们添加了额外的元数据，例如它何时创建、何时创建 
 最后一次使用它，以及使用它的特定操作系统。 从用户角度来说 
 管理操作，API仅支持重命名、撤销和创建。</p>
<p>重命名允许用户为密钥分配个人有意义的名称，这 
 可以帮助特定的用户群体跟踪并更多地了解他们 
 容易地。</p>
<p>撤销密钥不会将其从用户的个人凭证管理器中删除 
 （如 Google 密码管理器），但在设置之前使其无法使用 
 再次。 这就是为什么我们选择十字，而不是垃圾桶或删除图标， 
 代表撤销密钥的操作。</p>
<p>在描述向其帐户添加密钥的操作时，短语 
 与“添加密钥”相比，“创建密钥”更能引起用户的共鸣。 这 
 是一种微妙的语言选择，用于区分密钥和有形硬件 
 安全密钥（尽管应该注意的是<a href="https://support.google.com/accounts/answer/13548313?hl=en&amp;sjid=17510595681178318776-NA" rel="noopener">密钥可以存储在某些 
 硬件安全 
 键</a>）。</p>
<h3 id="providing-additional-content">提供额外内容<a class="headline-link" href="https://web.dev/passkey-google-ux/#providing-additional-content">#</a></h3>
<p>内部研究表明，使用密钥是一种相对无缝且可靠的方法。 
 熟悉的经历。 然而，与任何新技术一样，也存在一些挥之不去的问题 
 一些用户会出现的问题和疑虑。</p>
<p>屏幕锁背后的技术如何运作，什么使它更安全，以及 
 解决了 Google 在测试中遇到的最常见的“假设”场景 
 在<a href="https://support.google.com/accounts/answer/13548313?hl=en&amp;sjid=17510595681178318776-NA" rel="noopener">Google 的万能钥匙帮助中心 
 内容</a>。 
 准备好支持内容并启动密钥对于轻松启动至关重要 
 任何网站上的用户的过渡。</p>
<h3 id="falling-back-from-passkeys">从万能钥匙中恢复过来<a class="headline-link" href="https://web.dev/passkey-google-ux/#falling-back-from-passkeys">#</a></h3>
<p>恢复到旧系统就像在出现错误时单击“尝试其他方式”一样简单 
 要求用户使用密钥进行身份验证。 此外，退出 WebAuthn 
 UI 将启动用户再次尝试其密码或登录其帐户的路径 
 以传统方式使用 Google 帐户。</p>
<h2 id="conclusion">结论<a class="headline-link" href="https://web.dev/passkey-google-ux/#conclusion">#</a></h2>
<p>我们仍处于密钥的早期阶段，因此在设计用户时 
 经验牢记几个原则：</p>
<ul>
<li>当与用户相关时引入密钥。</li>
<li>强调万能钥匙的好处。</li>
<li>利用机会熟悉万能钥匙的概念。</li>
<li>将密钥定位为密码的替代品，而不是替代品。</li>
</ul>
<p>我们为 Google 帐户的密钥所做的选择是由最佳人员告知的 
 实践和内部研究，我们将继续改进用户体验 
 当我们从现实世界的用户那里获得新的见解时。</p>
<hr><p>Passkeys are a simple and <a href="https://security.googleblog.com/2023/05/so-long-passwords-thanks-for-all-phish.html" rel="noopener">secure cross-device authentication
technology</a>
that enables creating online accounts and signing in to them without entering a
password. To log in to an account, users are simply shown a prompt to to use the
screen lock on their device, such as touching the fingerprint sensor.</p>
<p>Google has been working with the FIDO Alliance for years, alongside Apple and
Microsoft, to bring passkeys to the world. In 2022 we rolled out platform
support for passkeys so that
<a href="https://android-developers.googleblog.com/2022/10/bringing-passkeys-to-android-and-chrome.html" rel="noopener">Android</a>
and
<a href="https://blog.chromium.org/2022/12/introducing-passkeys-in-chrome.html" rel="noopener">Chrome</a>
users can seamlessly sign in to apps and websites across all their devices. In
May 2023, we enabled signing in to <a href="https://blog.google/technology/safety-security/the-beginning-of-the-end-of-the-password/" rel="noopener">Google Accounts with
passkeys</a>,
bringing the security and convenience of passkeys to our users.</p>
<p>Google is in a unique position, as we are both working on the infrastructure for
passkeys and are one of the largest services using them. We are rolling out
passkeys for Google Accounts carefully and deliberately, so we can measure the
results and use that feedback to continue to improve the passkey infrastructure
and the Google account experience.</p>
<h2 id="transitioning-users-to-passkeys">Transitioning users to passkeys <a class="headline-link" href="https://web.dev/passkey-google-ux/#transitioning-users-to-passkeys">#</a></h2>
<p>Passwords have been the standard sign-in method since the advent of personalized
online experiences. How do we introduce the passwordless experience of passkeys?</p>
<p>Research indicates that when it comes to authentication, users value the
convenience the most. They want a smooth and fast transition to the real
experience, which only comes after signing in.</p>
<p>Still, the transition to passkeys requires changing muscle memory and users need
to be convinced it's worth making a switch.</p>
<p>The user experience of passkeys for <a href="http://google.com/" rel="noopener">Google.com</a> has been
strategically designed to emphasize two principles at every step of the
authentication process: ease of use and security.</p>
<h3 id="leading-with-convenience">Leading with convenience <a class="headline-link" href="https://web.dev/passkey-google-ux/#leading-with-convenience">#</a></h3>
<figure>
<img alt="For most users, this will be the first time they see passkeys" decoding="async" height="600" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format" srcset="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/UI5EioUkpDiMtUAdARnw.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>For most users, this will be the first time they see passkeys.</figcaption>
</figure>
<p>The first passkey screen users see is light and easy-to-digest.  The header is
focusing on the user benefit, saying "Simplify your sign in."</p>
<p>The body copy explains "With passkeys you can now use your fingerprint, face or
screen lock to verify it's really you".</p>
<p>The illustration is intended to ground the message in the value proposition made
by the page. The large blue primary action invites the user to proceed. "Not
now" is included as a secondary action to allow users to choose whether or not
to opt in at this time, leaving the user in control. And "Learn more" is offered
for the most curious users who would like to understand passkeys better before
proceeding.</p>
<p>We explored many iterations of the pages used to introduce users to passkeys
during sign in. This included trying content that emphasized the security,
technology, and other aspects of passkeys—yet convenience was really what
resonated most. Google's content strategy, illustration, and interaction design
demonstrates this core principle for our implementation of passkeys.</p>
<h3 id="associating-the-term-passkeys-with-familiar-security-experiences">Associating the term "passkeys" with familiar security experiences <a class="headline-link" href="https://web.dev/passkey-google-ux/#associating-the-term-passkeys-with-familiar-security-experiences">#</a></h3>
<p>Passkeys are a new term for most users so we are intentionally gently exposing
the users to the term to build familiarity. Guided by internal research, we are
strategically associating passkeys with security.</p>
<p>The word "passkey" is included throughout the sign-in flow in the less-prominent
body copy position.  It's consistently nestled amongst the familiar security
experiences that enable passkey use: fingerprint, face scan, or other device
screen lock.</p>
<p>Our research has shown that many users associate biometrics with security. While
passkeys don't require biometrics (a passkey can be used with a device PIN, for
example), we are leaning into the association of passkeys with biometrics to
boost user perception of passkeys' security benefits.</p>
<p>The additional content behind the "Learn more" has lots of valuable information
for users, including reassurance for users that their sensitive, biometric data
stays on their personal device and is never stored or shared when creating or
using passkeys. We took this approach because most users found the convenience
aspect of passkeys appealing, but only a few took into account the biometric
element during testing.</p>
<h3 id="introducing-passkeys-when-its-relevant-to-the-user">Introducing passkeys when it's relevant to the user <a class="headline-link" href="https://web.dev/passkey-google-ux/#introducing-passkeys-when-its-relevant-to-the-user">#</a></h3>
<p>Google's heuristics carefully determine who will see the introductory screen.
Some of the factors are whether a user has two-step verification enabled and
whether they access that account regularly from the same device.</p>
<p>Users who are most likely to succeed with passkeys are selected first, and over
time more users will be introduced (though, anyone can get started at
<a href="http://g.co/passkeys" rel="noopener">g.co/passkeys</a> today).</p>
<p>Select users are prompted to create a passkey after signing in with a username
and password. There are a few reasons we chose this point in the user journey:</p>
<ul>
<li>The user has just signed in, they're aware of their credentials and second
step.</li>
<li>We are confident that the user is on their device–they just signed in, so it's
unlikely they walked away or put their device down.</li>
<li>Statistically, signing in isn't always successful the first time–so a message
around making it easier next time has tangible value.</li>
</ul>
<h3 id="positioning-passkeys-as-an-alternative-to-passwords-and-not-yet-a-replacement">Positioning passkeys as an alternative to passwords and not yet a replacement <a class="headline-link" href="https://web.dev/passkey-google-ux/#positioning-passkeys-as-an-alternative-to-passwords-and-not-yet-a-replacement">#</a></h3>
<p>Initial user research shows that many users still want passwords as a backup
sign-in method. And not all users will have the <a href="https://support.google.com/accounts/answer/13548313?hl=en&amp;sjid=17510595681178318776-NA" rel="noopener">technology necessary to adopt
passkeys</a>.</p>
<p>So while the industry, Google included, is moving towards a "passwordless
future", Google is intentionally positioning passkeys as a simple and secure
<strong>alternative</strong> to passwords. Google's UI focuses on the benefits of passkeys
and avoids language that implies getting rid of passwords.</p>
<h2 id="the-creation-moment">The creation moment <a class="headline-link" href="https://web.dev/passkey-google-ux/#the-creation-moment">#</a></h2>
<p>When users choose to enroll, they'll see a browser-specific UI modal that
enables them to create a passkey.</p>
<p>The passkey itself is shown with the industry-aligned icon and the information
used to create it. This includes the display name (a friendly name for your
passkey, like your user's real name) and the username (a unique name on your
service–an email address can work great here). When it comes to working with the
passkeys icon, <a href="https://media.fidoalliance.org/wp-content/uploads/2023/05/FIDO-Alliance-UX-Guidelines-for-Passkey-Creation-and-Sign-ins.pdf" rel="noopener">the FIDO alliance recommends using the proven passkeys
icon</a>–and
encourages making it your own with customizations.</p>
<p>Passkeys icon is shown consistently across the user journey to create a
familiarity with what the user will see when using or managing the passkey. The
passkey icon is never presented without context or supporting material.</p>
<figure>
<img alt="When users create their passkey, they'll see this page" decoding="async" height="600" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format" srcset="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>When users create their passkey, they'll see this page.</figcaption>
</figure>
<p>Above, we outlined how the user and the platform work together to create a
passkey. When the user clicks "Continue" they'll be presented with a unique UI
depending on the platform.</p>
<p>With that in mind, we learned through internal research that a confirmation
screen once the passkey is created can be very helpful in terms of comprehension
and closure at this step of the process.</p>
<figure>
<img alt="Once the passkey has been created, users will see this page" decoding="async" height="600" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format" srcset="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/sNqODRG8qqaGQc8ygbjO.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>Once the passkey has been created, users will see this page.</figcaption>
</figure>
<p>The confirmation screen is a deliberate ‘pause' to bookend the journey of
introducing a user to passkeys and going through the process of creating one of
their own. As it is (likely) the first time a user has engaged with passkeys,
this page aims to provide clear closure to the journey. We chose a standalone
page after trying some other tools like smaller notifications, and even a
post-creation email–simply to provide a structured, stable end to end
experience.</p>
<p>Once the user clicks "Continue" here, they're brought to their destination.</p>
<figure>
<img alt="When users sign in again, they'll likely see this page" decoding="async" height="600" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format" srcset="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/u7ugXsWYbGcylhCWZ21M.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>When users sign in again, they'll likely see this page.</figcaption>
</figure>
<h2 id="signing-in">Signing in <a class="headline-link" href="https://web.dev/passkey-google-ux/#signing-in">#</a></h2>
<p>Next time a user tries to sign in, they'll be greeted with this page. This uses
the same layout, illustration, and primary call to action to evoke the first
‘creation' experience outlined above. Once the user has made a choice to enroll
in passkeys, this page should feel familiar and they will recognize what steps
they need to take to sign in.</p>
<figure>
<img alt="The user will use this WebAuthn UI to sign in" decoding="async" height="600" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format" srcset="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/kPbCZqaBDx5AFTZyi54a.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>The user will use this WebAuthn UI to sign in.</figcaption>
</figure>
<p>The same principle of familiarity applies here. Intentionally, this uses the
same iconography, illustration, layout and text. The text within the WebAuthn UI
is kept brief, broad, and re-usable–so everyone can use this both for
authentication and reauthentication.</p>
<h2 id="passkeys-management">Passkeys management <a class="headline-link" href="https://web.dev/passkey-google-ux/#passkeys-management">#</a></h2>
<p>Introducing a whole new page within the Google Account settings pages required
careful consideration to ensure a cohesive, intuitive, and consistent user
experience.</p>
<p>To achieve this, we analyzed the patterns regarding navigation, content,
hierarchy, structure, and established expectations that existed across the
Google Account.</p>
<figure>
<img alt="Passkeys management page in the Google Account" decoding="async" height="655" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format" srcset="https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/YLflGBAPWecgtKJLqCJHSzHqe2J2/C0xuS6j8vd98Y17jckE3.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>Passkeys management page in the Google Account.</figcaption>
</figure>
<h3 id="describe-passkeys-by-ecosystem">Describe passkeys by ecosystem <a class="headline-link" href="https://web.dev/passkey-google-ux/#describe-passkeys-by-ecosystem">#</a></h3>
<p>To create a high level category system that would be logical to understand we
settled on describing passkeys by
<a href="https://developers.google.com/identity/passkeys/supported-environments" rel="noopener">ecosystem</a>.
This way, a user could recognize where a passkey was created and where it is
used. Each identity provider (Google, Apple, and Microsoft) has a name for their
ecosystem, so we chose to use those (Google Password Manager, iCloud keychain,
and Windows Hello respectively).</p>
<p>To support this, we added additional metadata, such as when it was created, when
it was last used, and the specific OS that it was used on. In terms of user
management actions, the API only supports renaming, revoking, and creating.</p>
<p>Renaming allows users to assign personally meaningful names to passkeys, which
could help particular cohorts of users keep track and understand them more
easily.</p>
<p>Revoking a passkey doesn't delete it from the user's personal credential manager
(like Google Password Manager), but renders it unusable until it is set up
again. That's why we chose a cross, instead of a trash or delete icon, to
represent the action of revoking a passkey.</p>
<p>When describing the action of adding a passkey to their account, the phrase
"Create passkey" resonated better with users compared to "Add a passkey." This
is a subtle language choice to distinguish passkeys from tangible, hardware
security keys (though it should be noted that <a href="https://support.google.com/accounts/answer/13548313?hl=en&amp;sjid=17510595681178318776-NA" rel="noopener">passkeys can be stored on some
hardware security
keys</a>).</p>
<h3 id="providing-additional-content">Providing additional content <a class="headline-link" href="https://web.dev/passkey-google-ux/#providing-additional-content">#</a></h3>
<p>Internal research showed that using passkeys is a relatively seamless and
familiar experience. However as with any new technology, there are lingering
questions and concerns that will come up for some users.</p>
<p>How the technology works behind the screen lock, what makes it more secure, and
the most common "what if" scenarios Google came across in testing are addressed
in <a href="https://support.google.com/accounts/answer/13548313?hl=en&amp;sjid=17510595681178318776-NA" rel="noopener">Google's passkey Help Center
content</a>.
Having support content ready with launch of passkeys is critical for an easy
transition for users on any site.</p>
<h3 id="falling-back-from-passkeys">Falling back from passkeys <a class="headline-link" href="https://web.dev/passkey-google-ux/#falling-back-from-passkeys">#</a></h3>
<p>Reverting to the old system is as simple as clicking "try another way" when a
user is asked to authenticate with a passkey. Additionally, exiting the WebAuthn
UI will start users on a path to try their passkey again, or sign into their
Google Account in traditional ways.</p>
<h2 id="conclusion">Conclusion <a class="headline-link" href="https://web.dev/passkey-google-ux/#conclusion">#</a></h2>
<p>We are still in the early days of passkeys, so when designing the user
experience keep a few principles in mind:</p>
<ul>
<li>Introduce passkeys when it's relevant to the user.</li>
<li>Highlight the benefits of passkeys.</li>
<li>Use opportunities to build familiarity the concept of passkeys.</li>
<li>Position passkeys as an alternative to passwords and not a replacement.</li>
</ul>
<p>The choices we made for passkeys for Google Accounts were informed by best
practices and internal research and we'll continue to evolve the user experience
as we gain new insights from users in the real world.</p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[金字塔还是螃蟹？ 找到适合的测试策略]]></title>
            <link>https://web.dev/ta-strategies/</link>
            <guid>https://web.dev/ta-strategies/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>本文介绍了如何将不同的测试类型结合起来形成合理的测试策略，并选择适合项目的策略。文章列举了几种常见的测试策略，并解释了它们的含义。首先介绍了测试目标的确定，即通过测试达到什么目的。然后介绍了测试策略的选择，包括经典的测试金字塔、测试钻石、测试蜂窝和测试奖杯等不同的策略。最后强调了测试的目标是为了服务用户，而不仅仅是为了达到100%的覆盖率。文章还提到了测试冰锥和测试螃蟹这两种更注重UI测试的策略。最后，文章指出选择适合项目的测试策略取决于应用程序的架构、需求和用户需求，重点是为了服务用户而设计测试。</summary>
    <div>
    <div>OriginTitle: Pyramid or Crab? Find a testing strategy that fits</div>

    </div></div><p>欢迎回来！ 这<a href="https://web.dev/ta-types">上一篇文章</a>为如何处理不同的测试类型及其包含的内容奠定了许多基础，并阐明了测试类型的定义。 记住这一点<a href="https://web.dev/ta-types/#testing-in-all-shapes-how-does-this-all-work-together">小模因图像</a>？ 您可能想知道您学到的所有这些测试类型如何协同工作。</p>
<img alt="A cupboard with two drawers you can open at the same time." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>接下来，您将确切地了解到这一点。 本文介绍如何将这些测试类型组合成合理的策略，并选择适合您的项目的测试类型。</p>
<p>您可以将这些策略与许多形状进行比较，以更好地理解它们的含义。 以下是具有各自规模和发展范围的战略列表。</p>
<div class="table-wrapper scrollbar">
  <table>
    <thead>
      <tr>
        <th>
          应用尺寸
        </th>
        <th>
          团队构成
        </th>
        <th>
          依赖手动测试
        </th>
        <th>
          测试策略
        </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>小的</td>
        <td>仅限开发者</td>
        <td>高的</td>
        <td>测试冰锥<br>测试蟹</td>
      </tr>
      <tr>
        <td>小的</td>
        <td>开发人员和 QA 工程师</td>
        <td>高的</td>
        <td>测试冰锥<br>测试蟹</td>
      </tr>
      <tr>
        <td>小的</td>
        <td>仅限开发者</td>
        <td>低的</td>
        <td>测试金字塔</td>
      </tr>
      <tr>
        <td>大的</td>
        <td>仅限开发者</td>
        <td>高的</td>
        <td>测试奖杯<br>测试钻石</td>
      </tr>
      <tr>
        <td>大的</td>
        <td>开发人员和 QA 工程师</td>
        <td>高的</td>
        <td>测试奖杯<br>测试蟹</td>
      </tr>
      <tr>
        <td>大的</td>
        <td>仅限开发者</td>
        <td>低的</td>
        <td>测试奖杯<br>测试蜂窝</td>
      </tr>
    </tbody>
  </table>
</div>
<p>让我们仔细看看这些策略并了解它们名称背后的含义。</p>
<h2 id="determine-testing-goals-what-do-you-want-to-achieve-with-these-tests">确定测试目标：您希望通过这些测试实现什么目标？<a class="headline-link" href="https://web.dev/ta-strategies/#determine-testing-goals-what-do-you-want-to-achieve-with-these-tests">#</a></h2>
<p>在开始制定良好的策略之前，请先确定您的测试目标。 您什么时候认为您的应用程序已经经过充分测试？</p>
<p>在测试方面，实现高测试覆盖率通常被视为开发人员的最终目标。 但这总是最好的方法吗？ 在决定测试策略时，可能还需要考虑另一个关键因素——满足用户的需求。</p>
<p>作为开发人员，您还使用许多其他应用程序和设备。 在这方面，您是依赖所有这些系统“正常工作”的用户。 反过来，您依赖无数开发人员尽最大努力使他们的应用程序和设备正常运行。 为了扭转这种局面，作为一名开发者，你也要努力不辜负这种信任。 因此，您的首要目标应该始终是交付可工作的软件并为您的用户提供服务。 这扩展到您为确保应用程序质量而编写的测试。<a href="https://kentcdodds.com/about" rel="noopener">肯特·C·多兹</a>他的总结得很好<a href="https://kentcdodds.com/blog/static-vs-unit-vs-integration-vs-e2e-tests" rel="noopener">前端应用程序的静态、单元、集成、E2E 测试</a>邮政：</p>
<blockquote>
  <p>
    您的测试越接近软件的使用方式，它们就越能给您带来信心。
  </p>
  <cite>
    作者：肯特·C·多兹
  </cite>
</blockquote>
<p>肯特将其描述为对测试的信心增强。 通过选择合适的测试类型，您与用户的距离越近，您就越能相信您的测试会产生有效的结果。 换句话说，你爬到金字塔越高，你就越自信。 但是等等，金字塔是什么？</p>
<h2 id="determining-test-strategies-how-to-choose-a-testing-strategy">确定测试策略：如何选择测试策略<a class="headline-link" href="https://web.dev/ta-strategies/#determining-test-strategies-how-to-choose-a-testing-strategy">#</a></h2>
<p>第一步，确定需要检查要求的哪些部分以确保满足它们。 了解要使用哪些测试类型以及在何种详细程度下您可以最有信心地实现同时保持高效的成本结构。 许多开发人员通过类比来处理这个主题。 以下是最常见的，从众所周知的经典开始。</p>
<img alt="A lot of shapes like pyramid, diamonds, ice cone, honeycombs and a trophy; representing test strategies." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=1600 1600w" width="800">
<h3 id="the-classic-the-test-pyramid">经典：测试金字塔<a class="headline-link" href="https://web.dev/ta-strategies/#the-classic-the-test-pyramid">#</a></h3>
<p>一旦您开始寻找测试策略，您可能会遇到第一个类比测试自动化金字塔。 Mike Cohn 在他的《Succeeding with Agile》一书中引入了这个概念。 后来，马丁·福勒 (Martin Fowler) 在他的著作中扩展了这个概念。<a href="https://martinfowler.com/articles/practical-test-pyramid.html" rel="noopener">实际测试金字塔</a>文章。 您可以将金字塔形象地表示如下：</p>
<img alt="The test pyramid." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>如此图所示，测试金字塔由三层组成：</p>
<ol>
<li>
<p><strong>单元</strong>。 您可以在金字塔的基础层找到这些测试，因为它们执行速度快且易于维护。 它们是孤立的并针对最小的测试单元。 例如，看一个典型的<a href="https://github.com/leichteckig/phpmagazin-jest-example/blob/main/product.test.js" rel="noopener">单元测试</a>对于一个非常小的产品。</p>
</li>
<li>
<p><strong>一体化</strong>。 这些测试位于金字塔的中间，因为它们具有可接受的执行速度，但比单元测试更接近用户。 集成测试的一个例子是<a href="https://github.com/cypress-io/cypress-realworld-app/blob/develop/cypress/tests/api/api-users.spec.ts" rel="noopener">API测试</a>。 还可以分类<a href="https://github.com/leichteckig/nuxt-leichteckig/blob/main/test/components/MediaGrid.spec.js" rel="noopener">组件测试</a>作为这种类型。</p>
</li>
<li>
<p><strong>端到端测试</strong>（也叫<strong>用户界面测试</strong>）。 这些测试模拟真实的用户及其交互。 此类测试需要更多时间来执行，因此成本更高。 他们位于金字塔的顶端。</p>
</li>
</ol>
<h3 id="confidence-versus-resources">信心与资源<a class="headline-link" href="https://web.dev/ta-strategies/#confidence-versus-resources">#</a></h3>
<p>正如之前简要介绍的，各层的顺序并非巧合。 它们显示了优先级和相应的成本。 这可以让您清楚地了解应该为每一层编写多少测试。 您已经在测试类型的定义中看到了这一点。</p>
<p>由于 E2E 测试最接近您的用户，因此它们让您最有信心您的应用程序按预期运行。 然而，它们需要完整的应用程序堆栈和模拟用户，因此，它们也可能是最昂贵的。 因此，信心与执行测试所需的资源直接竞争。</p>
<img alt="The test pyramid with arrows showing the direction of confidence and resources required for different testing types." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>金字塔试图通过让你更多地关注单元测试并严格优先考虑端到端测试覆盖的案例来解决这个问题。 例如，最重要的用户旅程或最容易出现缺陷的地方。 正如马丁·福勒所强调的，科恩金字塔中最本质的两点如下：</p>
<ol>
<li>编写不同粒度的测试。</li>
<li>你获得的级别越高，你应该进行的测试就越少。</li>
</ol>
<h2 id="pyramid-evolved-adaptations-of-the-test-pyramids">金字塔进化了！ 测试金字塔的调整<a class="headline-link" href="https://web.dev/ta-strategies/#pyramid-evolved-adaptations-of-the-test-pyramids">#</a></h2>
<p>多年来，讨论一直围绕着金字塔展开。 金字塔似乎过于简化了测试策略，遗漏了很多测试类型，并且不再适合所有现实世界的项目。 因此，它可能会产生误导。 金字塔变形了吗？ 
<a href="https://rauchg.com/about" rel="noopener">吉列尔莫·劳赫</a>对此有自己的看法：</p>
<blockquote>
  <p>
     编写测试。 不是很多。 主要是整合。 
  </p>
  <cite>
    作者：吉列尔莫·劳赫
  </cite>
</blockquote>
<p>这是关于这个主题最常被引用的引文之一，所以让我们来分解一下：</p>
<ul>
<li>“编写测试”。 不仅因为它建立了信任，还因为它节省了维护时间。</li>
<li>“不是很多”。 100% 的覆盖率并不总是好的，因为这样您的测试就不会被优先考虑，并且会有大量的维护工作。</li>
<li>“主要是整合”。 这里再次强调集成测试：它们具有最大的商业价值，为您提供每日的高置信度，同时保持合理的执行时间。</li>
</ul>
<p>这让您重新思考测试金字塔，并将您的注意力转移到集成测试上。 在过去的几年里，已经提出了许多适应措施，所以让我们看看最常见的适应措施。</p>
<h3 id="test-diamond">测试钻石<a class="headline-link" href="https://web.dev/ta-strategies/#test-diamond">#</a></h3>
<p>第一次调整消除了对单元测试的过分强调，如测试金字塔所示。 想象一下您的单元测试覆盖率已达到 100%。 但是，下次重构时，您将必须更新其中许多单元测试，并且您可能会想跳过它们。 所以它们会被侵蚀。</p>
<p>因此，再加上对集成测试的高度关注，可能会出现以下情况：</p>
<img alt="The test diamond." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>金字塔演变成钻石。 您可以看到前三层，但大小不同，并且单元层已被剪切：</p>
<ul>
<li><strong>单元</strong>。 按照之前定义的方式编写单元测试。 然而，因为它们往往会侵蚀、优先考虑并仅涵盖最关键的情况。</li>
<li><strong>一体化</strong>。 您知道的集成测试，测试单个单元的组合。</li>
<li><strong>端到端</strong>。 该层处理类似于测试金字塔的 UI 测试。 请注意只为最关键的测试用例编写 E2E 测试。</li>
</ul>
<h3 id="testing-honeycomb">测试蜂窝<a class="headline-link" href="https://web.dev/ta-strategies/#testing-honeycomb">#</a></h3>
<p>还有另一种改编，由<a href="https://engineering.atspotify.com/2018/01/testing-of-microservices/" rel="noopener">Spotify</a>，类似于测试钻石，但进一步专门用于基于微服务的软件系统。 测试蜂窝是为测试编写的粒度、范围和数量的另一个直观类比。<a href="https://notes.paulswail.com/public/Testing+microservices" rel="noopener">基于微服务的软件系统</a>。 由于其规模较小，微服务中最重要的复杂性并不在于服务本身，而是在于它与其他服务的交互方式。 因此，微服务的测试策略应该主要关注集成测试。</p>
<img alt="The testing honeycomb." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>这种形状让我们想起蜂窝，因此得名。 它有以下几层：</p>
<ul>
<li><strong>综合测试</strong>。 Spotify 的文章引用了<a href="https://blog.thecodewhisperer.com/permalink/integrated-tests-are-a-scam" rel="noopener">JB雷恩斯伯格</a>定义这一层：“根据另一个系统的正确性来通过或失败的测试。” 此类测试具有您需要考虑的外部依赖性，相反，您的系统可能是破坏其他系统的依赖性。 与其他类比中的 E2E 测试类似，请谨慎使用这些测试，仅适用于最重要的情况。</li>
<li><strong>集成测试</strong>。 与其他适配类似，您应该关注这一层。 它包含以更独立的方式验证服务正确性的测试，但仍与其他服务结合使用。 这意味着测试也将包括一些其他系统，并重点关注交互点，例如通过 API 测试。</li>
<li><strong>实施细节测试</strong>。 这些测试类似于单元测试，测试重点关注自然隔离的代码部分，因此具有自己的内部复杂性。</li>
</ul>
<p>如果您想了解有关此测试策略的更多信息，请参阅<a href="https://martinfowler.com/articles/2021-test-shapes.html" rel="noopener">将测试金字塔与蜂窝进行比较的帖子</a>马丁·福勒和<a href="https://engineering.atspotify.com/2018/01/testing-of-microservices/" rel="noopener">原创文章来自 Spotify</a>。</p>
<h3 id="testing-trophy">测试奖杯<a class="headline-link" href="https://web.dev/ta-strategies/#testing-trophy">#</a></h3>
<p>您已经可以看到对集成测试的重复关注。 然而，您在上一篇文章中遇到的另一种类型在理论上并不是测试，但仍然是您在测试策略中应该考虑的一个重要方面。 测试金字塔和您迄今为止看到的大多数改编中都缺少静态分析。 测试奖杯适应考虑了静态分析，同时保持对集成测试的关注。 测试奖杯源自 Guillermo Rauch 早期的引用，由 Kent C. Dodds 开发：</p>
<img alt="The testing trophy." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>测试奖杯是一个类比，以略有不同的方式描述测试的粒度。 它有四层：</p>
<ul>
<li><strong>静态分析</strong>。 它在这个类比中起着至关重要的作用，让您只需运行已经概述的调试步骤即可发现拼写错误、样式错误和其他错误。</li>
<li><strong>单元测试</strong>。 它们确保您的最小单元得到适当的测试，但测试奖杯不会像测试金字塔那样强调它们。</li>
<li><strong>一体化</strong>。 这是主要焦点，因为它以最佳方式平衡成本和更高的置信度，与其他适应一样。</li>
<li><strong>用户界面测试</strong>。 包括E2E和视觉测试，它们位于测试奖杯的顶端，类似于它们在测试金字塔中的角色。</li>
</ul>
<p>要了解有关测试奖杯的更多信息，请参阅<a href="https://kentcdodds.com/blog/static-vs-unit-vs-integration-vs-e2e-tests" rel="noopener">肯特·C·多兹 (Kent C. Dodds) 的博客文章</a>关于这个话题。</p>
<h2 id="some-more-ui-focused-approaches">一些更注重 UI 的方法<a class="headline-link" href="https://web.dev/ta-strategies/#some-more-ui-focused-approaches">#</a></h2>
<p>这一切都很好，但无论你如何称呼你的策略，“金字塔”、“蜂窝”或“钻石”，仍然缺少一些东西。 虽然测试自动化很有价值，但重要的是要记住手动测试仍然是必不可少的。 自动化测试应该减轻日常任务，并使质量保证工程师能够专注于关键领域。 自动化不应取代手动测试，而应对其进行补充。 有没有办法将手动测试与自动化集成以获得最佳结果？</p>
<h3 id="testing-ice-cone-and-testing-crab">测试冰锥和测试螃蟹<a class="headline-link" href="https://web.dev/ta-strategies/#testing-ice-cone-and-testing-crab">#</a></h3>
<p>测试金字塔确实有两种改编，它们更多地关注这些以 UI 为中心的测试方式。 两者都具有高置信度的优势，但由于测试执行速度较慢，成本自然更高。</p>
<p>第一个是测试冰锥，看起来像倒过来的金字塔。 没有手动测试步骤，也称为测试披萨。</p>
<img alt="The testing ice cone." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>Ice Cone 更注重手动或 UI 测试，而最少注重单元测试。 它通常在开发人员开始工作时只对测试策略有一些想法的项目中形成。 Ice 代码被认为是一种反模式，这是理所当然的。 就资源和手工工作而言，这是昂贵的。</p>
<p>测试螃蟹与测试冰锥类似，但更强调E2E和视觉测试：</p>
<img alt="The testing crab." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>该测试策略还包括一个方面：它验证您的应用程序功能和外观是否良好。 测试螃蟹凸显了以下的重要性<a href="https://docs.cypress.io/guides/tooling/visual-testing" rel="noopener">视觉测试</a>，定义在<a href="https://web.dev/ta-types/#visual-ui-testing">上一篇文章</a>。 集成测试分为组件测试和 API 测试，进一步进入后台，单元测试在这里扮演更次要的角色。 您可以在此处找到有关此测试策略的更多详细信息<a href="https://changelog.com/posts/the-testing-pyramid-should-look-more-like-a-crab" rel="noopener">关于测试螃蟹的文章</a>。</p>
<p>虽然成本较高，但这两种测试策略都有其用处：例如，在需要较少测试或需要覆盖的复杂性较低的较小项目中。 在这种情况下，专注于集成测试的全面测试策略可能会被过度设计。</p>
<p>尽管这两种测试策略成本较高，但它们有其用武之地，例如，在需要较少测试且不需要涵盖大量复杂性的较小项目中。 在这种情况下，专注于集成测试的全面测试策略可能会变得不必要的复杂。</p>
<h2 id="practical-advice-lets-strategize">实用建议：让我们制定策略！<a class="headline-link" href="https://web.dev/ta-strategies/#practical-advice-lets-strategize">#</a></h2>
<p>您现在已经了解了最常见的测试策略。 您从经典的测试金字塔开始，并了解了它的许多改编版本。 现在您需要评估它们是否适合您的产品，并决定哪一个最适合您的项目。 这个问题的答案应该从大家最喜欢的“<strong>这取决于</strong>“。但这并不会降低它的准确性。</p>
<img alt="It depends." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>从所描述的策略（甚至是遗漏的策略）中选择最合适的测试策略取决于您的应用程序。 它应该满足您的架构、您的需求，最后但并非最不重要的一点是，您的用户及其需求。 所有这些可能因应用程序而异。 这是完全正常的。 请记住，您最重要的目标是为用户服务，而不是教科书定义。</p>
<p>通常，现实世界的测试很难单独分离和定义。 甚至马丁·福勒本人也强调<a href="https://martinfowler.com/articles/2021-test-shapes.html" rel="noopener">不同定义的积极方面</a>，例如单元测试的情况。 作为<a href="https://justin.searls.co/about/" rel="noopener">贾斯汀·西尔斯</a>正确地陈述<a href="https://twitter.com/searls/status/1393385209089990659" rel="noopener">他的推文</a>:</p>
<blockquote>
  <p>
    […] 编写富有表现力的测试，建立清晰的边界，快速可靠地运行，并且仅因有用的原因而失败。
  </p>
  <cite>
    通过贾斯汀·塞尔斯
  </cite>
</blockquote>
<p>专注于报告用户可能遇到的实际错误的测试，不要分散您的目标。 测试的设计应该使用户受益，而不仅仅是提供 100% 的覆盖率或争论要编写哪种测试类型的百分比。</p>
<p>专注于报告用户可能遇到的现实生活中的错误的测试，并且不要分散您的目标。 测试的设计应该让用户受益，而不仅仅是提供 100% 的覆盖率或引发关于您应该编写多少百分比的特定测试类型的争论。</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">这篇博文由 Ramona 撰写，并接受了以下人士的意见和评论<a href="https://web.dev/authors/jecelynyeen/">叶洁琳</a>（<a href="https://twitter.com/jecfish">推特</a>),<a href="https://www.linkedin.com/in/michael-hablich-2128646/">迈克尔·哈布里奇</a>（<a href="https://twitter.com/MHablich">推特</a>）， 和<a href="https://www.linkedin.com/in/sofia-yemelianova/">索菲亚·艾米利亚诺娃</a>。</div></aside>
<hr><p>Welcome back! The <a href="https://web.dev/ta-types">last article</a> laid down lots of groundwork about how to approach the different testing types and what they contain, and clarified the testing type definitions. Remember this <a href="https://web.dev/ta-types/#testing-in-all-shapes-how-does-this-all-work-together">little meme image</a>? You might have wondered how all those testing types you learned about could work together.</p>
<img alt="A cupboard with two drawers you can open at the same time." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/n3LPuwApNcCRT5S3zaoq.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>Next, you will learn exactly that. This article gives an introduction on how to combine these testing types into reasonable strategies and choose one that matches your project.</p>
<p>You can compare the strategies to a number of shapes to better grasp their meaning. Here's a list of strategies with respective sizes and development scopes.</p>
<div class="table-wrapper scrollbar">
  <table>
    <thead>
      <tr>
        <th>
          Application size
        </th>
        <th>
          Team composition
        </th>
        <th>
          Reliance on manual testing
        </th>
        <th>
          Testing strategy
        </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Small</td>
        <td>Developers only</td>
        <td>High</td>
        <td>Testing Ice Cone<br>Testing Crab</td>
      </tr>
      <tr>
        <td>Small</td>
        <td>Developers &amp; QA engineers</td>
        <td>High</td>
        <td>Testing Ice Cone<br>Testing Crab</td>
      </tr>
      <tr>
        <td>Small</td>
        <td>Developers only</td>
        <td>Low</td>
        <td>Test Pyramid</td>
      </tr>
      <tr>
        <td>Large</td>
        <td>Developers only</td>
        <td>High</td>
        <td>Testing Trophy<br>Testing Diamond</td>
      </tr>
      <tr>
        <td>Large</td>
        <td>Developers &amp; QA engineers</td>
        <td>High</td>
        <td>Testing Trophy<br>Testing Crab</td>
      </tr>
      <tr>
        <td>Large</td>
        <td>Developers only</td>
        <td>Low</td>
        <td>Testing Trophy<br>Testing Honeycomb</td>
      </tr>
    </tbody>
  </table>
</div>
<p>Let's take a closer look at the strategies and learn the meaning behind their names.</p>
<h2 id="determine-testing-goals-what-do-you-want-to-achieve-with-these-tests">Determine testing goals: What do you want to achieve with these tests? <a class="headline-link" href="https://web.dev/ta-strategies/#determine-testing-goals-what-do-you-want-to-achieve-with-these-tests">#</a></h2>
<p>Before you can start building a good strategy, figure out your testing goal. When do you consider that your application has been sufficiently tested?</p>
<p>Achieving high test coverage is often viewed as the ultimate goal for developers when it comes to testing. But is it always the best approach? There might be another critical factor to consider when deciding on a testing strategy—serving your users' needs.</p>
<p>As a developer, you also use many other applications and devices. In this respect, you are the user who relies on all these systems to “just work”. In turn, you rely on countless developers to do their best to make their applications and devices work. To turn this back around, as a developer, you also strive to live up to this trust. So your first goal should always be to ship working software and serve your users. This extends to the tests you write to ensure application quality. <a href="https://kentcdodds.com/about" rel="noopener">Kent C. Dodds</a> sums it up very well in his <a href="https://kentcdodds.com/blog/static-vs-unit-vs-integration-vs-e2e-tests" rel="noopener">Static vs Unit vs Integration vs E2E Testing for Frontend Apps</a> post:</p>
<blockquote>
  <p>
    The more your tests resemble the way your software is used, the more confidence they can give you.
  </p>
  <cite>
    by Kent C. Dodds
  </cite>
</blockquote>
<p>Kent describes it as gaining confidence in tests. The closer you get to the users by choosing a testing type that fits, the more you can trust your tests to have valid results. In other words, the higher up you climb the pyramid, the more confident you get. But wait, what is the pyramid?</p>
<h2 id="determining-test-strategies-how-to-choose-a-testing-strategy">Determining test strategies: How to choose a testing strategy <a class="headline-link" href="https://web.dev/ta-strategies/#determining-test-strategies-how-to-choose-a-testing-strategy">#</a></h2>
<p>As a first step, determine which parts of the requirements you need to check to make sure they are met. Find out what test types to use and at what level of detail you can achieve the most confidence while maintaining an efficient cost structure. Many developers approach this topic by using analogies. Here are the most common ones, starting with the well-known classic.</p>
<img alt="A lot of shapes like pyramid, diamonds, ice cone, honeycombs and a trophy; representing test strategies." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/btUEUtD2bmqNwX2DcH4j.jpeg?auto=format&amp;w=1600 1600w" width="800">
<h3 id="the-classic-the-test-pyramid">The classic: The test pyramid <a class="headline-link" href="https://web.dev/ta-strategies/#the-classic-the-test-pyramid">#</a></h3>
<p>As soon as you start looking for test strategies, you will probably come across the test automation pyramid as the first analogy. Mike Cohn introduced this concept in his book "Succeeding with Agile". Later, Martin Fowler expanded upon the concept in his <a href="https://martinfowler.com/articles/practical-test-pyramid.html" rel="noopener">Practical Test Pyramid</a> article. You can represent the pyramid visually as the following:</p>
<img alt="The test pyramid." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/iEtr9phjNjENxQlFfJYv.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>As shown in this drawing, the test pyramid consists of three layers:</p>
<ol>
<li>
<p><strong>Unit</strong>. You find these tests at the base layer of the pyramid because they are fast to execute and simple to maintain. They are isolated and target the most minor test units. For example, see a typical <a href="https://github.com/leichteckig/phpmagazin-jest-example/blob/main/product.test.js" rel="noopener">unit test</a> for a very small product.</p>
</li>
<li>
<p><strong>Integration</strong>. These tests are in the middle of the pyramid, because they have an acceptable execution speed but bring you closer to the user than the unit tests can. An example of an integration test is an <a href="https://github.com/cypress-io/cypress-realworld-app/blob/develop/cypress/tests/api/api-users.spec.ts" rel="noopener">API test</a>. You can also classify <a href="https://github.com/leichteckig/nuxt-leichteckig/blob/main/test/components/MediaGrid.spec.js" rel="noopener">component tests</a> as this type.</p>
</li>
<li>
<p><strong>E2E tests</strong> (also called <strong>UI tests</strong>). These tests simulate a genuine user and their interaction. Such tests need more time to execute and thus are more expensive. They are at at the top of the pyramid.</p>
</li>
</ol>
<h3 id="confidence-versus-resources">Confidence versus resources <a class="headline-link" href="https://web.dev/ta-strategies/#confidence-versus-resources">#</a></h3>
<p>As briefly covered before, the order of the layers is no coincidence. They show the priorities and the corresponding costs. This gives you a clear picture of how many tests you should write for each layer. You have already seen this in the definition of the testing types.</p>
<p>Because E2E tests are closest to your users, they give you the most confidence that you application is working as intended. However, they require a complete application stack and a simulated user, therefore, they are also potentially the most expensive. So the confidence is in direct competition with the resources you need to execute the tests.</p>
<img alt="The test pyramid with arrows showing the direction of confidence and resources required for different testing types." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/DT57buwCB4uDyJp61Rzb.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>The pyramid tries to solve this problem by making you focus more on unit tests and strictly prioritize the cases covered by E2E tests. For example, your most crucial user journeys or the places most vulnerable to defects. As Martin Fowler emphasizes, the two most essential points in Cohn's pyramid are as follows:</p>
<ol>
<li>Write tests with different granularity.</li>
<li>The more high level you get, the fewer tests you should have.</li>
</ol>
<h2 id="pyramid-evolved-adaptations-of-the-test-pyramids">Pyramid evolved! Adaptations of the test pyramids <a class="headline-link" href="https://web.dev/ta-strategies/#pyramid-evolved-adaptations-of-the-test-pyramids">#</a></h2>
<p>For several years, discussions have revolved around the pyramid. The pyramid seems to oversimplify testing strategies, leaves out a lot of testing types, and no longer fits all the real-world projects. Therefore, it may be misleading. Has the pyramid fallen out of shape?
<a href="https://rauchg.com/about" rel="noopener">Guillermo Rauch</a> has an opinion about it:</p>
<blockquote>
  <p>
    Write tests. Not too many. Mostly integration.
  </p>
  <cite>
    by Guillermo Rauch
  </cite>
</blockquote>
<p>It's one of the most commonly cited quotes on this subject, so let's break it down:</p>
<ul>
<li>"Write tests". Not only because it builds trust, but also because it saves time in maintenance.</li>
<li>"Not too many". 100% coverage is not always good because then your testing isn't prioritized and there will be a lot of maintenance.</li>
<li>"Mostly integration". Here again the emphasis is on integration tests: they have the most business value by giving you a daily high confidence level while maintaining a reasonable execution time.</li>
</ul>
<p>This makes you think again about the testing pyramid and shift your focus to integration testing. Over the last few years, many adaptations have been proposed, so let's look at the most common ones.</p>
<h3 id="test-diamond">Test diamond <a class="headline-link" href="https://web.dev/ta-strategies/#test-diamond">#</a></h3>
<p>The first adaptation removes the overemphasis on unit testing, as seen in the test pyramid. Imagine that you have reached 100% coverage on unit tests. However, the next time you refactor, you will have to update many of these unit tests and you might be tempted to skip them. So they erode.</p>
<p>As a result, and together with the higher focus on integration testing, the following shape may arise:</p>
<img alt="The test diamond." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/vSFAkoSqbL4p984xf48k.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>A pyramid evolves into a diamond. You can see the previous three layers, but with a different size, and the unit layer has been cut:</p>
<ul>
<li><strong>Unit</strong>. Write unit tests the way you defined them before. However, because they tend to erode, prioritize and cover only the most critical cases.</li>
<li><strong>Integration</strong>. The integration tests you know, testing the combination of single units.</li>
<li><strong>E2E</strong>. This layer handles the UI tests similar to the test pyramid. Take care to only write E2E tests for the most critical test cases.</li>
</ul>
<h3 id="testing-honeycomb">Testing honeycomb <a class="headline-link" href="https://web.dev/ta-strategies/#testing-honeycomb">#</a></h3>
<p>There is another adaptation, introduced by <a href="https://engineering.atspotify.com/2018/01/testing-of-microservices/" rel="noopener">Spotify</a>, that is similar to the test diamond but further specialized for microservices-based software systems. The testing honeycomb is another visual analogy for the granularity, scope, and number of tests to write for a <a href="https://notes.paulswail.com/public/Testing+microservices" rel="noopener">microservices-based software system</a>. Due to their small size, the most considerable complexity in a microservice is not within the service itself, but in how it interacts with others. So a testing strategy for a microservice should primarily focus on integration tests.</p>
<img alt="The testing honeycomb." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/mrM4QK1kEZgvRvltyiMn.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>This shape reminds us of a honeycomb, thus the name. It has the following layers:</p>
<ul>
<li><strong>Integrated tests</strong>. The article by Spotify uses a quote from <a href="https://blog.thecodewhisperer.com/permalink/integrated-tests-are-a-scam" rel="noopener">J. B. Rainsberger</a> to define this layer: “A test that will pass or fail based on the correctness of another system.” Such tests have external dependencies that you need to consider, and on the contrary, your system might be a dependency that breaks other systems. Similar to E2E tests in other analogies, use these tests carefully, only for the most essential cases.</li>
<li><strong>Integration tests</strong>. Similar to other adaptations, you should focus on this layer. It contains tests that verify the correctness of your service in a more isolated fashion, but still in combination with other services. That means the tests will include some other systems too and focus on the interaction points, for example, via API tests.</li>
<li><strong>Tests on implementation details</strong>. These tests resemble unit tests—tests that focus on parts of the code that are naturally isolated and thus have their own internal complexity.</li>
</ul>
<p>If you want to find out more about this testing strategy, see the <a href="https://martinfowler.com/articles/2021-test-shapes.html" rel="noopener">post that compares the test pyramid to the honeycomb</a> by Martin Fowler and the <a href="https://engineering.atspotify.com/2018/01/testing-of-microservices/" rel="noopener">original article from Spotify</a>.</p>
<h3 id="testing-trophy">Testing trophy <a class="headline-link" href="https://web.dev/ta-strategies/#testing-trophy">#</a></h3>
<p>You can already see a repeating focus on integration tests. However, another type you came across in the previous article is not testing in theory but is still an important aspect you should consider in a testing strategy. Static analysis is missing from the test pyramid and in most of the adaptations you have seen so far. There's the testing trophy adaptation that takes static analysis into account while maintaining the focus on integration tests. The testing trophy originated from the earlier quote by Guillermo Rauch and was developed by Kent C. Dodds:</p>
<img alt="The testing trophy." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/ULNWIc7KY4jVjxPW5CdX.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>The testing trophy is an analogy depicting the granularity of tests in a slightly different way. It has four layers:</p>
<ul>
<li><strong>Static analysis</strong>. It plays a vital role in this analogy and lets you catch typos, style mistakes, and other bugs by merely running the debugging steps already outlined.</li>
<li><strong>Unit tests</strong>. They ensure that your smallest unit is appropriately tested, but the testing trophy won't emphasize them to the same extent as the test pyramid.</li>
<li><strong>Integration</strong>. This is the main focus as it balances the cost and the higher confidence in the best way, as with other adaptations.</li>
<li><strong>UI tests</strong>. Including E2E and visual tests, they are at the top of the testing trophy, similar to their role in the test pyramid.</li>
</ul>
<p>To read more about the testing trophy, see the <a href="https://kentcdodds.com/blog/static-vs-unit-vs-integration-vs-e2e-tests" rel="noopener">blog post by Kent C. Dodds</a> on this subject.</p>
<h2 id="some-more-ui-focused-approaches">Some more UI-focused approaches <a class="headline-link" href="https://web.dev/ta-strategies/#some-more-ui-focused-approaches">#</a></h2>
<p>That's all well and good but no matter how you call your strategy, a “pyramid”, “honeycomb,” or “diamond”, there's still something missing. While test automation is valuable, it's important to remember that manual testing is still essential. Automated testing should alleviate routine tasks and free the quality assurance engineers to focus on crucial areas. Instead of replacing manual testing, automation should complement it. Is there a way to integrate manual testing with automation for optimal results?</p>
<h3 id="testing-ice-cone-and-testing-crab">Testing ice cone and testing crab <a class="headline-link" href="https://web.dev/ta-strategies/#testing-ice-cone-and-testing-crab">#</a></h3>
<p>There are indeed two adaptations of the testing pyramid that focus more on these UI-focused ways of testing. Both have the advantage of high confidence, but are naturally more costly due to slower test execution.</p>
<p>The first one, the test ice cone, looks like the pyramid in reverse. Without the manual testing step, it is also known as the testing pizza.</p>
<img alt="The testing ice cone." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/QdBKM36jvq93jrERrSCP.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>The ice cone has bigger focus on manual or UI testing and the least focus on unit testing. It often takes shape in projects where developers started work with only a few thoughts on the testing strategy. The ice code is considered an anti-pattern and rightfully so. It is costly in terms of resources and manual work.</p>
<p>The test crab is similar to the test ice cone, but with more emphasis on E2E and visual testing:</p>
<img alt="The testing crab." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/uY4XiFIldA1JySM9ZbHD.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>This testing strategy includes one more aspect: it verifies that your application functions and looks good. The testing crab highlights the importance of <a href="https://docs.cypress.io/guides/tooling/visual-testing" rel="noopener">visual testing</a>, defined in the <a href="https://web.dev/ta-types/#visual-ui-testing">previous article</a>. Integration testing, divided into component and API testing, moves further into the background, and unit testing plays an even more secondary role here. You can find further details on this testing strategy in this <a href="https://changelog.com/posts/the-testing-pyramid-should-look-more-like-a-crab" rel="noopener">article on the testing crab</a>.</p>
<p>While being more costly, these two testing strategies have their place: for example, in smaller projects where fewer tests are needed, or less complexity needs to be covered. In this case, a full-blown testing strategy focusing on integration testing might be over-engineered.</p>
<p>Although these two testing strategies are more costly, they have their place, for example, in smaller projects that require fewer tests and don't need to cover a lot of complexity. In this case, a full scale testing strategy focused on integration testing may be unnecessarily complex.</p>
<h2 id="practical-advice-lets-strategize">Practical advice: Let's strategize! <a class="headline-link" href="https://web.dev/ta-strategies/#practical-advice-lets-strategize">#</a></h2>
<p>You have now learned about the most common testing strategies. You started with the classic—the test pyramid—and got to know its many adaptations. Now you need to evaluate them for your product and decide which is be the best for your project. The answer to this question should start with everyone's favorite "<strong>It depends</strong>". That doesn't make it any less accurate though.</p>
<img alt="It depends." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/u1yCzUoUXkXAHUCgyrz2.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>The choice of the most appropriate testing strategy from those described—and even the ones left out—depends on your application. It should fir your architecture, your requirements, and last but not least, your users and their requirements. All this might differ from application to application. That's completely normal. Remember that your most important goal is to serve your users, not a textbook definition.</p>
<p>More often than not, real-world tests are difficult to separate and define individually. Even Martin Fowler himself emphasizes the <a href="https://martinfowler.com/articles/2021-test-shapes.html" rel="noopener">positive aspect of differing definitions</a>, such as in the case of unit tests. As <a href="https://justin.searls.co/about/" rel="noopener">Justin Searls</a> states correctly in <a href="https://twitter.com/searls/status/1393385209089990659" rel="noopener">his tweet</a>:</p>
<blockquote>
  <p>
    […] write expressive tests that establish clear boundaries, run quickly &amp; reliably, and only fail for useful reasons.
  </p>
  <cite>
    by Justin Searls
  </cite>
</blockquote>
<p>Focus on the tests that report actual errors that the users might encounter, and don't get distracted from your goal. Tests should be designed to benefit the user, not just provide 100% coverage or to debate which percentage of which testing type to write.</p>
<p>Focus on tests that report real-life errors that your users might encounter and don't get distracted from your goal. Tests should be designed to benefit the user, not just provide 100% coverage or spark debates on what percentage of a particular testing type you should write.</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> This blog post was written by Ramona, with input and review from <a href="https://web.dev/authors/jecelynyeen/">Jecelyn Yeen</a> (<a href="https://twitter.com/jecfish">Twitter</a>), <a href="https://www.linkedin.com/in/michael-hablich-2128646/">Michael Hablich</a> (<a href="https://twitter.com/MHablich">Twitter</a>), and <a href="https://www.linkedin.com/in/sofia-yemelianova/">Sofia Emelianova</a>. </div></aside>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[后退/前进缓存如何帮助 Yahoo! 日本新闻 移动收入增加 9%]]></title>
            <link>https://web.dev/yahoo-japan-news-bfcache/</link>
            <guid>https://web.dev/yahoo-japan-news-bfcache/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>本文介绍了浏览器优化技术bfcache（back/forward cache）的作用和优势。bfcache可以实现即时的后退和前进导航，显著提高用户的浏览体验，特别适用于需要频繁后退和前进导航的网站。Yahoo! JAPAN News通过优化bfcache的使用，取得了显著的用户体验和商业效果提升。他们进行了A/B测试，结果显示使用bfcache的页面广告收入增加了9%。文章还介绍了如何解决bfcache的潜在问题，包括移除unload事件处理程序和更改Cache-control头部的no-store指令。通过这些优化措施，Yahoo! JAPAN News取得了显著的成果，包括页面浏览量和广告收入的增加。最后，文章总结了bfcache的优势，包括提升用户体验、增加页面浏览量和广告收入。</summary>
    <div>
    <div>OriginTitle: How Back/forward Cache Helped Yahoo! JAPAN News Increase Revenue by 9% on Mobile</div>

    </div></div><blockquote>
<p><a href="https://web.dev/bfcache/">后退/前进缓存</a>（或 bfcache）是一种浏览器优化，可实现即时后退和前进导航。 它显着改善了用户的浏览体验，尤其是涉及多次来回导航的网站。</p>
<p><cite>web.dev 关于 bfcache 的文章</cite></p>
</blockquote>
<p>雅虎！ 日本最受欢迎的新闻平台之一 JAPAN News 齐心协力提高 bfcache 命中率，并因此实现了显着的用户体验和业务改进。 具体来说，他们进行的 A/B 测试结果表明，使用 bfcache 的页面具有<strong>广告收入增加 9%</strong>。</p>
<p>本案例研究将解释 Yahoo! JAPAN News 消除了 bfcache 的阻碍，以及 bfcache 如何大幅改善用户体验。</p>
<h2 id="removing-blockers-for-bfcache">删除 bfcache 的拦截器<a class="headline-link" href="https://web.dev/yahoo-japan-news-bfcache/#removing-blockers-for-bfcache">#</a></h2>
<p>bfcache 自 Chrome 86 起可用，并且也可在所有现代浏览器上使用。 然而，充分利用 bfcache 需要删除网站上潜在的拦截器。 雅虎的一些主要拦截器！ 日本新闻面临的是：</p>
<ol>
<li>用于<code>卸下</code>处理程序</li>
<li>使用<a href="https://developer.mozilla.org/docs/Web/HTTP/Headers/Cache-Control#no-store" rel="noopener"><code>无商店</code>指示</a>在<code>缓存控制</code>标头</li>
</ol>
<p>您可以访问以下地址来检查您的网站有哪些主要拦截器<strong>Chrome 开发工具 &amp;gt; 应用程序 &amp;gt; 后退/前进缓存</strong>（<a href="https://web.dev/bfcache/#test-to-ensure-your-pages-are-cacheable">更多细节</a>），或者通过使用<a href="https://developer.chrome.com/docs/web-platform/bfcache-notrestoredreasons/" rel="noopener"><code>未恢复原因</code>应用程序编程接口</a>根据现场的实际使用情况，更全面地了解拦截器。</p>
<p>雅虎是这样的！ 日本新闻已经删除了他们的拦截器：</p>
<ul>
<li><strong>卸载处理程序：</strong>使用<code>页面隐藏</code>事件而不是<code>卸下</code>事件，作为<code>卸下</code>事件是<a href="https://web.dev/bfcache/#never-use-the-unload-event">非常不可靠</a>。 还，<code>权限策略：卸载</code>曾是<a href="https://chromestatus.com/feature/5579556305502208" rel="noopener">在 Chrome 115 中推出</a>以便网站能够可靠地删除<code>卸下</code>特定来源的处理程序。 Chrome 还计划<a href="https://github.com/fergald/docs/blob/master/explainers/permissions-policy-deprecate-unload.md#logistics-of-deprecation" rel="noopener">逐渐弃用<code>卸下</code>处理程序</a>。</li>
<li><strong><code>缓存控制：无存储</code></strong>（或简称CCNS）：改变<code>缓存控制</code>标题来自<strong><code>无商店</code></strong>到<strong><code>无缓存</code></strong>可以启用bfcache。 Chrome也计划启动<a href="https://chromestatus.com/feature/6705326844805120" rel="noopener">即使使用 a 也可以缓存 bfcache<code>无商店</code>某些情况下的标题</a>。</li>
</ul>
<p>CCNS 适用于在任何情况下都不应缓存的页面。 但需要注意的是，任何使用 CCNS 的页面都无法从任何缓存技术中受益，包括 CDN 边缘服务器和本地缓存。</p>
<p>如果您有 CCNS 标头，这是讨论正确内容的绝佳机会<code>缓存控制</code>策略适用于您的网站。 以下是两者之间的主要区别<code>无商店</code>和<code>无缓存</code>。</p>
<div class="table-wrapper scrollbar">
  <table>
    <thead>
      <tr>
        <th><code>缓存控制：<strong>无商店</strong></code></th>
        <th><code>缓存控制：<strong>无缓存</strong></code></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          <ul>
            <li>不允许将响应存储在缓存中。</li>
            <li>因此，每个请求都会完整获取响应。</li>
            <li>这应该用于私人回复。</li>
          </ul>
        </td>
        <td>
          <ul>
            <li>只要在每次使用之前通过服务器重新验证响应，就可以将其存储在缓存中。</li>
            <li>这应该是您每次都希望重新验证的公共响应（例如，新闻网站的主页 - 尽管即使如此，非常短的缓存时间也可以提高性能并减轻主服务器的工作负担）。</li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<p>如果您有兴趣了解更多信息<code>缓存控制</code>选项，<a href="https://web.dev/http-cache/?hl=en#flowchart">这个流程图</a>是一个很大的帮助。</p>
<h2 id="impact-of-bfcache-in-numbers">bfcache 对数字的影响<a class="headline-link" href="https://web.dev/yahoo-japan-news-bfcache/#impact-of-bfcache-in-numbers">#</a></h2>
<p>为了衡量 bfcache 的影响，Yahoo! JAPAN News 进行了为期 2 周的 A/B 测试，其中他们向一组提供了包含 bfcache 修复的页面版本，并向另一组提供了不符合 bfcache 条件的页面版本。 他们选择了流量较大的 URL 路径，以便测试能够取得有意义的结果。 两个版本之间没有其他视觉或功能差异。</p>
<p>这是一个视频，比较了使用 bfcache 和不使用 bfcache 的网站。 您可以看到启用 bfcache 的网站在后退或前进导航期间加载速度明显加快。</p>
<style>
   .bfcache-video 视频 { 
     高度：自动； 
   } 
</style>
<figure class="bfcache-video">
  <video autoplay="" controls="" height="800" loop="" muted="" width="800" style="--vid-width: 800; --vid-height: 800">      <source src="https://storage.googleapis.com/web-dev-uploads/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/2qqiTs9XuedWvtjfKuMu.mp4" type="video/mp4">    </video>
</figure>
<p>真正有希望的是启用 b​​fcache 的组有一个<strong>页面浏览量和广告收入显着增加</strong>，尤其是在移动设备上。</p>
<p>以下是雅虎观察到的影响的详细信息！ JAPAN News 进行了 bfcache A/B 测试。 （更多信息可以在<a href="https://techblog.yahoo.co.jp/entry/2023072430429932/" rel="noopener">他们的案例研究文章</a>）。</p>
<div class="table-wrapper scrollbar">
  <table>
    <thead>
      </thead><tbody><tr><td>
        <strong>指标</strong>
      </td>
      <td>
        <strong>提升百分比（移动设备）</strong>
      </td>
      <td>
        <strong>提升百分比（桌面）</strong>
      </td>
    
    </tr></tbody><tbody>
      <tr>
        <td>bfcache命中率</td>
        <td>
          <strong>+54.03点</strong>(0.04% → 54.07%)
        </td>
        <td>+47.28 点 (0.02% → 47.30%)</td>
      </tr>
      <tr>
        <td>页面浏览量</td>
        <td>
          <strong>+2.26%</strong>
        </td>
        <td>+0.65%</td>
      </tr>
      <tr>
        <td>广告收入</td>
        <td>
          <strong>+9.0%</strong>
        </td>
        <td>+0.6%</td>
      </tr>
    </tbody>
  </table>
</div>
<p>当页面之间的后退/前进导航通过 bfcache 瞬间实现时，用户往往会在页面上停留更长时间，从而增加广告浏览量，从而增加广告收入。</p>
<h2 id="bfcache-enhances-seamless-user-experience-on-the-website">bfcache 增强网站上的无缝用户体验<a class="headline-link" href="https://web.dev/yahoo-japan-news-bfcache/#bfcache-enhances-seamless-user-experience-on-the-website">#</a></h2>
<p>当页面立即加载时，<strong>导航感觉更加无缝。</strong></p>
<p>在雅虎！ JAPAN News，主要用户旅程之一如下：</p>
<ol>
<li>前往文章列表</li>
<li>点击一篇文章即可阅读</li>
<li>返回文章列表</li>
<li>点击另一篇文章阅读</li>
</ol>
<p>在bfcache之前，当用户读完一篇文章（步骤2）时，他们必须等待文章列表页面再次加载。 对于只想返回文章列表以选择另一篇文章进行阅读的用户来说，这可能是一个摩擦因素。</p>
<p>向后导航期间的另一个摩擦源是滚动位置。 实际上，当发生向后导航时，浏览器会尝试恢复滚动位置。 然而，由于动态添加的广告或其他布局变化，滚动位置经常会被错误地恢复，这可能会导致用户迷失方向，甚至离开页面。 当向后导航由 bfcache 提供支持时，这永远不是问题：滚动位置会立即正确恢复。</p>
<figure>
  <img alt="Two filmstrips of a backward navigation from an article to the article listing page. The top is a filmstrip of the process being handled with bfcache which takes 0.3 seconds, whereas the bottom is of the same process being handled without bfcache, which takes 3.3 seconds." decoding="async" height="343" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<p>现在，有了 bfcache，用户旅程中的摩擦就消失了——用户可以立即导航回文章列表页面并选择另一篇文章进行阅读，而无需等待文章列表页面加载。</p>
<p>当用户从一篇文章直接浏览到另一篇文章并返回时，也会发生同样的情况：</p>
<figure>
  <img alt="An animated image showing the backward navigation flow from an article to the article listing page with and without bfcache. With bfcache, the backward navigation is not only faster, but the scroll position is accurately maintained. Without bfcache, these guarantees cannot be made." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=1600 1600w" width="800">
</figure>
<p>简而言之，使用 bfcache for Yahoo! 的好处 日本新闻包括：</p>
<ul>
<li>提高综合浏览量：当使用 bfcache 缓存页面时，用户更有可能在网站内导航。</li>
<li>收入增加：由于每个会话的浏览量增加，广告展示次数增加，与没有 bfcache 的测试组相比，移动设备上的收入增加了 9%。</li>
</ul>
<h2 id="conclusion">结论<a class="headline-link" href="https://web.dev/yahoo-japan-news-bfcache/#conclusion">#</a></h2>
<p>简而言之，bfcache 不仅可以让您的网站变得即时，还可以减少整体用户体验的摩擦并提高网站的参与度。</p>
<p>Chrome 团队一直在研究 bfcache 拦截器，尤其是本文中列出的两个原因，因为它们是不使用 bfcache 的常见原因。 将来，这些可能不会阻止 bfcache 使用，但无需等到那时。 通过查看 bfcache 阻止程序并避免这些常见和其他不太常见的模式，您可以从 bfcache 中受益。</p>
<hr><blockquote>
<p><a href="https://web.dev/bfcache/">Back/forward cache</a> (or bfcache) is a browser optimization that enables instant back and forward navigation. It significantly improves the browsing experience for users, especially for websites that involve many back and forth navigations.</p>
<p><cite>web.dev article on bfcache </cite></p>
</blockquote>
<p>Yahoo! JAPAN News, one of the most popular news platforms in Japan, drove a concerted effort to improve their bfcache hit rate and saw significant user experience and business improvements as a result. Specifically, the results of the A/B test they conducted showed that pages that use bfcache had a <strong>9% increase in ads revenue</strong>.</p>
<p>This case study will explain how Yahoo! JAPAN News removed the blockers for bfcache, and how bfcache drastically improved the user experience.</p>
<h2 id="removing-blockers-for-bfcache">Removing blockers for bfcache <a class="headline-link" href="https://web.dev/yahoo-japan-news-bfcache/#removing-blockers-for-bfcache">#</a></h2>
<p>bfcache has been available since Chrome 86, and is also available on all modern browsers. However, taking full advantage of bfcache requires removing potential blockers on one's website. Some major blockers that Yahoo! JAPAN News faced were:</p>
<ol>
<li>Use of <code>unload</code> handlers</li>
<li>Use of the <a href="https://developer.mozilla.org/docs/Web/HTTP/Headers/Cache-Control#no-store" rel="noopener"><code>no-store</code> directive</a> on <code>Cache-control</code> headers</li>
</ol>
<p>You can check what major blockers there are for your website by going to <strong>Chrome Dev Tools &gt; Applications &gt; Back/forward Cache</strong> (<a href="https://web.dev/bfcache/#test-to-ensure-your-pages-are-cacheable">more details</a>), or by using the <a href="https://developer.chrome.com/docs/web-platform/bfcache-notrestoredreasons/" rel="noopener"><code>notRestoredReasons</code> API</a> to get a more comprehensive view of blockers based on actual usage in the field.</p>
<p>Here's how Yahoo! JAPAN News has removed their blockers:</p>
<ul>
<li><strong>Unload Handlers:</strong> Use the <code>pagehide</code> event instead of <code>unload</code> event, as the <code>unload</code> event is <a href="https://web.dev/bfcache/#never-use-the-unload-event">very unreliable</a>. Also, <code>permission-policy: unload</code> was <a href="https://chromestatus.com/feature/5579556305502208" rel="noopener">launched in Chrome 115</a> so that the websites can reliably remove <code>unload</code> handlers for specific origins. Chrome is also planning to <a href="https://github.com/fergald/docs/blob/master/explainers/permissions-policy-deprecate-unload.md#logistics-of-deprecation" rel="noopener">gradually deprecate <code>unload</code> handlers</a>.</li>
<li><strong><code>Cache-control: no-store</code></strong> (or CCNS for short): Changing the <code>Cache-control</code> header from <strong><code>no-store</code></strong> to <strong><code>no-cache</code></strong> can enable bfcache. Chrome is also planning to start <a href="https://chromestatus.com/feature/6705326844805120" rel="noopener">caching for bfcache even with a <code>no-store</code> header in certain circumstances</a>.</li>
</ul>
<p>CCNS is intended for pages that should never be cached under any circumstances. This comes with the caveat that any page with CCNS will not be able to benefit from any caching technology, including CDN edge servers and local caches.</p>
<p>If you have a CCNS header, this is a great opportunity to discuss what the right <code>Cache-control</code> strategies are for your website. Here are the main differences between <code>no-store</code> and <code>no-cache</code>.</p>
<div class="table-wrapper scrollbar">
  <table>
    <thead>
      <tr>
        <th><code>Cache-control: <strong>no-store</strong></code></th>
        <th><code>Cache-control: <strong>no-cache</strong></code></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          <ul>
            <li>The response is not allowed to be stored in caches.</li>
            <li>Consequently, the response is fetched in full on every request.</li>
            <li>This should be used for private responses.</li>
          </ul>
        </td>
        <td>
          <ul>
            <li>The response is allowed to be stored in caches as long as it's revalidated with the server before each use.</li>
            <li>This should be public responses you want revalidated every time (for example, the home page of a news website - though even then a very short caching time can improve performance and offload work from the main servers).</li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<p>If you are interested in learning more about <code>Cache-control</code> options, <a href="https://web.dev/http-cache/?hl=en#flowchart">this flowchart</a> is a great help.</p>
<h2 id="impact-of-bfcache-in-numbers">Impact of bfcache in numbers <a class="headline-link" href="https://web.dev/yahoo-japan-news-bfcache/#impact-of-bfcache-in-numbers">#</a></h2>
<p>To measure the impact of bfcache, Yahoo! JAPAN News conducted an A/B test for 2 weeks, where they served a version of their pages with their bfcache fixes to one group, and a version with pages ineligible for bfcache to another. They picked the URL paths with a significant amount of traffic so that the test could achieve meaningful results. There were no other visual or functional difference between the 2 versions.</p>
<p>Here's a video comparing the website with bfcache and without bfcache. You can see that the website with bfcache enabled loads significantly faster during a back or forward navigation.</p>
<style>
  .bfcache-video video {
    height: auto;
  }
</style>
<figure class="bfcache-video">
  <video autoplay="" controls="" height="800" loop="" muted="" width="800" style="--vid-width: 800; --vid-height: 800">      <source src="https://storage.googleapis.com/web-dev-uploads/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/2qqiTs9XuedWvtjfKuMu.mp4" type="video/mp4">    </video>
</figure>
<p>What's really promising is that the group with bfcache enabled had a <strong>significant increase in page views and ads revenue</strong>, especially on mobile devices.</p>
<p>Here are details about the impact observed by Yahoo! JAPAN News with their bfcache A/B test. (Further information can be found in <a href="https://techblog.yahoo.co.jp/entry/2023072430429932/" rel="noopener">their case study article</a>).</p>
<div class="table-wrapper scrollbar">
  <table>
    <thead>
      </thead><tbody><tr><td>
        <strong>Metrics</strong>
      </td>
      <td>
        <strong>Uplift % (mobile)</strong>
      </td>
      <td>
        <strong>Uplift % (desktop)</strong>
      </td>
    
    </tr></tbody><tbody>
      <tr>
        <td>bfcache hit rate</td>
        <td>
          <strong>+54.03 points</strong> (0.04% → 54.07%)
        </td>
        <td>+47.28 points (0.02% → 47.30%)</td>
      </tr>
      <tr>
        <td>Page views</td>
        <td>
          <strong>+2.26%</strong>
        </td>
        <td>+0.65%</td>
      </tr>
      <tr>
        <td>Ads revenue</td>
        <td>
          <strong>+9.0%</strong>
        </td>
        <td>+0.6%</td>
      </tr>
    </tbody>
  </table>
</div>
<p>When back/forward navigations between pages become instantaneous with bfcache, users tend to stay on pages longer, thus increasing ad views, leading to an increase of ad revenue.</p>
<h2 id="bfcache-enhances-seamless-user-experience-on-the-website">bfcache enhances seamless user experience on the website <a class="headline-link" href="https://web.dev/yahoo-japan-news-bfcache/#bfcache-enhances-seamless-user-experience-on-the-website">#</a></h2>
<p>When pages load instantly, <strong>navigations feel more seamless.</strong></p>
<p>In Yahoo! JAPAN News, one of the major user journey is as follows:</p>
<ol>
<li>Go to the article list</li>
<li>Click on one article to read</li>
<li>Go back to the article list</li>
<li>Click on another article to read</li>
</ol>
<p>Before bfcache, when users finished reading an article (step 2), they had to wait for the article list page to load again. This could be a friction factor for users who just want to go back to the article list to pick out another article to read.</p>
<p>Another source of friction during backward navigation was the scroll position. In practice, the browser tries to restore the scroll position when a backward navigation happens. However, because of dynamically-added ads or other layout changes, the scroll position often gets incorrectly restored, which could cause users to lose their bearings or even leave the page. This is never an issue when a backward navigation is powered by bfcache: the scroll position is immediately and correctly restored.</p>
<figure>
  <img alt="Two filmstrips of a backward navigation from an article to the article listing page. The top is a filmstrip of the process being handled with bfcache which takes 0.3 seconds, whereas the bottom is of the same process being handled without bfcache, which takes 3.3 seconds." decoding="async" height="343" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WlJn1GZnDrSLpEPPHWAn.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<p>Now with bfcache, the friction in the user journey is gone—users can instantly navigate back to the article list page and pick another article to read without having to wait for the article list page to load.</p>
<p>The same thing happens when users browse from one article directly to another and back:</p>
<figure>
  <img alt="An animated image showing the backward navigation flow from an article to the article listing page with and without bfcache. With bfcache, the backward navigation is not only faster, but the scroll position is accurately maintained. Without bfcache, these guarantees cannot be made." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pk7QmKzBA49ADdcJGE7q.gif?auto=format&amp;w=1600 1600w" width="800">
</figure>
<p>In a nutshell, the benefits of using bfcache for Yahoo! JAPAN News includes:</p>
<ul>
<li>Increased pageviews: Users were more likely to navigate within the website when pages were cached with bfcache.</li>
<li>Increased revenue: As a result of increased pageviews per session, ads impression increased, which resulted in a 9% increase in revenue on mobile compared with the test group without bfcache.</li>
</ul>
<h2 id="conclusion">Conclusion <a class="headline-link" href="https://web.dev/yahoo-japan-news-bfcache/#conclusion">#</a></h2>
<p>In short, bfcache not only makes your website instant, but can also reduce friction in overall user experience and increase engagement within your website.</p>
<p>The Chrome team is continually looking at bfcache blockers—especially the two reasons listed in this article as they are common reasons bfcache is not used. In the future, these may not prevent bfcache usage, but there's no need to wait until then. You can benefit from bfcache by looking at your bfcache blockers and avoiding these common, and other less common, patterns.</p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[三种常见的测试自动化类型]]></title>
            <link>https://web.dev/ta-types/</link>
            <guid>https://web.dev/ta-types/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>这篇文章主要讨论了软件开发中的测试策略。作者首先介绍了测试的两种模式：手动测试和自动化测试。手动测试是由人工进行的，通过点击应用程序来检查其功能，并尝试发现问题。自动化测试则是由计算机进行的，用于自动化重复和单调的测试。文章重点介绍了自动化测试，并强调了自动化测试和手动测试的结合应用。接下来，作者介绍了测试的两种方法：黑盒测试和白盒测试。黑盒测试是基于功能和非功能需求进行测试，而白盒测试则考虑应用程序的内部结构。在自动化测试中，作者介绍了几种常见的测试类型，包括单元测试、集成测试、端到端测试和可视化UI测试。此外，文章还提到了静态分析作为一种重要的质量保证策略。最后，作者介绍了几种常见的测试策略，如测试金字塔、测试钻石等，并表示将在后续文章中详细讨论如何选择适合项目的测试策略。</summary>
    <div>
    <div>OriginTitle: Three common types of test automation</div>

    </div></div><p>我们都经历过这样的情况：现实生活中经常出现的重复编码模因是什么？
<img alt="A cupboard with two drawers you cannot open at the same time." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=1600 1600w" width="800"></p>
<p>这个模因总结得很好：每个抽屉单独工作都很好，但与另一个抽屉结合使用时，它们会互相阻塞而无法正常工作。 您希望两个抽屉能够很好地配合并且可以同时操作。</p>
<img alt="The same cupboard but with two drawers you can open at the same time." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>将其应用到 Web 开发中：您编写了一些测试，甚至可能实现了 100% 的测试覆盖率，但是一旦其他部分就位，您的应用程序仍然需要工作。 这些单元可以单独工作，但不能相互关联。 编写一些测试至关重要，但这只是项目理想测试设置的一部分。 作为第一步，您需要确定需要确保应用程序质量的哪些部分以及如何实现这一目标。</p>
<p>简而言之，在开始编写实际的测试代码之前，您需要一个计划。 为了探讨如何实际测试的主题，让我们从头开始并回答两个基本问题：</p>
<ul>
<li>你想怎么测试？</li>
<li>你想测试什么？</li>
</ul>
<p>本文重点介绍回答第一个问题所需了解的一般事项。 为了从共同点开始，我们首先了解存在哪些测试模式，然后关注常见的测试类型。 在后面的文章中，我们将回答第二个问题，结合答案，找到最适合您的项目的测试策略。 我们走吧！ 🙌</p>
<h2 id="start-with-the-basics-general-testing-modes">从基础开始：一般测试模式<a class="headline-link" href="https://web.dev/ta-types/#start-with-the-basics-general-testing-modes">#</a></h2>
<p>在回答如何测试的问题时，首先要澄清的一点是非常抽象的。 您应该手动测试还是让计算机接管？ 然而，重要的是不要陷入二元思维。</p>
<h3 id="manual-testing-versus-automated-testing">手动测试与自动化测试<a class="headline-link" href="https://web.dev/ta-types/#manual-testing-versus-automated-testing">#</a></h3>
<p>如果您要求质量保证工程师定义测试，他们可能会首先将其分为两种“模式”：</p>
<ul>
<li><strong>手动测试</strong>。 这是由真人进行的典型测试方法。 质量保证工程师点击应用程序，检查它是否有效，同时尝试破解它。 最常见的方法是探索性测试，工程师利用他们对应用程序的了解，根据预定义的路径或清单来调查应用程序。</li>
<li><strong>自动化测试</strong>。 这是一种由计算机进行的测试。 质量保证工程师利用它来自动化重复和单调的测试。</li>
</ul>
<p>本系列指南将主要关注自动化测试。 但是，您不应该只关注一种测试方法。 即使自动化节省了大量时间和精力，人类和手动测试仍将始终发挥至关重要的作用。 相反，测试自动化应该让人们能够专注于探索性测试和创造性的问题解决。 例如，保证用户体验的质量或保护高风险的业务逻辑。 换句话说，自动化为您提供支持。 ❤️</p>
<h3 id="opaque-box-versus-clear-box">不透明盒子与透明盒子<a class="headline-link" href="https://web.dev/ta-types/#opaque-box-versus-clear-box">#</a></h3>
<p>因此，您已经定义了测试的一般模式。 然而，这还不够。 为了规划测试策略，还有一个问题需要回答：您是否应该知道您的应用程序在幕后是如何工作的，还是在不了解这些知识的情况下进行测试更好？ 根据答案，有两种过程可供选择来导出和选择测试用例：</p>
<ul>
<li><strong>不透明盒测试</strong>（或黑盒测试）。 它基于分析组件或系统的功能或非功能需求（规范），而不考虑其内部结构。</li>
<li><strong>清盒测试</strong>（或白盒测试）是考虑所述盒子的内部结构的过程。 换句话说，您的应用程序在幕后如何工作。</li>
</ul>
<p>这两个过程都可以应用于手动和自动测试。 然而，一般测试模式的某些方面可能更多地关注两者之一——我们稍后将介绍这一点。 现在，让我们进一步将测试自动化分为不同类型。</p>
<h2 id="test-automation-types-how-do-you-want-to-test">测试自动化类型：您想如何测试？<a class="headline-link" href="https://web.dev/ta-types/#test-automation-types-how-do-you-want-to-test">#</a></h2>
<p>当您越来越接近回答“如何”问题时，您已经决定进行一些手动测试。 然而，选择和应用测试自动化类型更具挑战性。 自动化测试的类型与您想要在项目中创建的指标密切相关。 因此，让我们仔细看看最重要的几个。</p>
<p>正如前面提到的模因所示，您已经遇到过两种类型：单元测试和集成测试。 端到端测试是要考虑的第三个重要因素。 但这还不是全部。 让我们仔细看看。</p>
<h3 id="unit-testing">单元测试<a class="headline-link" href="https://web.dev/ta-types/#unit-testing">#</a></h3>
<p>单元测试是一种测试类型，其中对应用程序的次要可测试部分或单元进行单独和独立的测试以确保正确运行。 这些单元的范围可能有所不同，从功能、类或接口到服务或完整组件。 它们的主要属性是执行速度、隔离性和舒适的可维护性。 如果您想深入了解单元测试，请转到此<a href="https://en.wikipedia.org/wiki/Unit_testing" rel="noopener">单元测试指南</a>。</p>
<img alt="A simplified depiction of unit testing showing input and output." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=1600 1600w" width="800">
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">可能的工具包括但不限于<a href="https://vitest.dev/">维泰斯特</a>和<a href="https://jestjs.io/">笑话</a>。</div></aside>
<h3 id="integration-testing">集成测试<a class="headline-link" href="https://web.dev/ta-types/#integration-testing">#</a></h3>
<p>集成测试侧重于组件或系统之间的交互。 换句话说，就是他们合作得如何。 集成测试的典型示例是 API 或组件测试。</p>
<img alt="A simplified depiction of integration testing showing how two unit working together." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=1600 1600w" width="800">
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">您可能考虑使用的工具通常与本文中提到的工具相同<a href="https://web.dev/ta-types/#unit-testing">单元测试部分</a>并且还可以包括提供组件测试的框架，例如，<a href="https://webdriver.io/">网络驱动IO</a>和<a href="https://www.cypress.io/">柏</a>。</div></aside>
<h3 id="end-to-end-testing">端到端测试<a class="headline-link" href="https://web.dev/ta-types/#end-to-end-testing">#</a></h3>
<p>这些测试通常称为 UI 测试，这个名称更好地解释了它们的功能。 这些测试与应用程序的 UI（包括完整的应用程序堆栈）交互，并从一端到另一端测试您的应用程序。</p>
<img alt="A simplified depiction of end-to-end testing showing a computer as a robot, looking at a workflow." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>如果您参考质量保证理论，它们类似于系统测试。 这些测试模拟真实的用户及其交互。 端到端测试需要更多的运行时间，因为它们涉及整个系统，更多的运行时间需要更多的计算能力。 因此，这种额外的工作会导致更高的维护成本。</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">您可能用于端到端测试的工具包括但不限于<a href="https://webdriver.io/">网络驱动IO</a>,<a href="https://www.cypress.io/">柏</a>,<a href="https://playwright.dev/">剧作家</a>,<a href="https://www.selenium.dev/">硒</a>。</div></aside>
<h4 id="visual-ui-testing">可视化用户界面测试<a class="headline-link" href="https://web.dev/ta-types/#visual-ui-testing">#</a></h4>
<p>UI 测试的一个有趣的子类别是视觉测试。 这些测试是扩展的端到端测试，提供了一种验证应用程序可见输出的方法。 此类测试会在更改后获取屏幕截图以及包含“现状”（或黄金文件）的另一个屏幕截图，然后将这些结果提供给人工审阅者进行检查和检查。 换句话说，它有助于发现页面外观中的“视觉错误”，而不仅仅是纯粹的功能性错误，并且没有明确写入断言。</p>
<h3 id="static-analysis">静态分析<a class="headline-link" href="https://web.dev/ta-types/#static-analysis">#</a></h3>
<p>这里还要介绍一件事：静态分析。 这不是教科书意义上的测试类型。 然而，这将是以后质量保证策略的一个重要方面。 您可以将其想象为拼写检查功能：它会在不运行程序的情况下扫描您的代码以查找更重要的缺陷和语法错误，从而检测代码风格问题。 这个简单的措施可以防止许多错误。 如果您想更详细地了解静态分析，这是学习静态分析的好地方。</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">您可能用于静态分析的工具包括但不限于<a href="https://eslint.org/">埃斯林特</a>和<a href="https://stylelint.io/">样式林特</a>。</div></aside>
<h2 id="testing-in-all-shapes-how-does-this-all-work-together">各种形式的测试：这一切如何协同工作？<a class="headline-link" href="https://web.dev/ta-types/#testing-in-all-shapes-how-does-this-all-work-together">#</a></h2>
<p>在寻找所有这些问题的答案时，您可能会在一些类比中找到可能的解决方案。 特别是在网络和测试社区中，开发人员倾向于使用这些类比来让您了解应该使用哪种类型的测试数量。</p>
<img alt="A lot of shapes like pyramid, diamonds, ice cone, honeycombs and a trophy; representing test strategies." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>该图中描绘的以下五种策略是最常见的：</p>
<ul>
<li>测试金字塔</li>
<li>测试钻石</li>
<li>测试冰锥（也称为测试披萨）</li>
<li>测试蜂窝</li>
<li>测试奖杯</li>
</ul>
<p>这确实需要处理大量信息。 基于这一切，您应该如何决定匹配的测试策略？ 别担心，我们已经为您提供了保障。 在下一篇文章中，我们将更详细地讨论这些不同的策略，并解释如何选择最适合您的项目的策略。 敬请关注！ 🔥</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">这篇博文由 Ramona 撰写，并接受了以下人士的意见和评论<a href="https://web.dev/authors/jecelynyeen/">叶洁琳</a>（<a href="https://twitter.com/jecfish">推特</a>),<a href="https://www.linkedin.com/in/michael-hablich-2128646/">迈克尔·哈布里奇</a>（<a href="https://twitter.com/MHablich">推特</a>）， 和<a href="https://www.linkedin.com/in/sofia-yemelianova/">索菲亚·艾米利亚诺娃</a>。</div></aside>
<hr><p>We've all been there: what is a recurring coding meme that happens all too often in real life?
<img alt="A cupboard with two drawers you cannot open at the same time." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/yl1OSGuWVIOsgLO6odFZ.jpeg?auto=format&amp;w=1600 1600w" width="800"></p>
<p>This meme sums it up quite nicely: each drawer works perfectly well individually, but in combination with the other drawer, they block each other and fail to function. You want both drawers to work well with each other and be operable at the same time.</p>
<img alt="The same cupboard but with two drawers you can open at the same time." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/2PY6rfmGkB26vX3qIbsj.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>Apply this to web development: you wrote some tests, maybe even achieved 100% test coverage, but your application still needs to work once other parts fall into place. The units may work well on their own but not in relation to each other. Writing some tests is crucial but it's only one part of the ideal test setup for your project. As a very first step, you need to determine what parts of the application quality you need to ensure and how you can achieve that.</p>
<p>Simply put, you need a plan before you start writing the actual test code. To approach the topic of how to test practically, let's start with a clean slate and answer two basic questions:</p>
<ul>
<li>How do you want to test?</li>
<li>What do you want to test?</li>
</ul>
<p>This article focuses on the general things you need to know to answer the first question. To start from a common ground, let's first learn what testing modes exist and then focus on the common types of testing. In later articles, we will answer the second question, combine the answers, and find the testing strategy that works best for your project. Let's go! 🙌</p>
<h2 id="start-with-the-basics-general-testing-modes">Start with the basics: General testing modes <a class="headline-link" href="https://web.dev/ta-types/#start-with-the-basics-general-testing-modes">#</a></h2>
<p>When answering the question of how to test, the first point to clarify is very abstract. Should you test manually or let a computer take over? It's important, however, not to fall into binary thinking here.</p>
<h3 id="manual-testing-versus-automated-testing">Manual testing versus automated testing <a class="headline-link" href="https://web.dev/ta-types/#manual-testing-versus-automated-testing">#</a></h3>
<p>If you ask quality assurance engineers to define testing, they will probably break it down into two "modes" first:</p>
<ul>
<li><strong>Manual testing</strong>. This is a typical testing method conducted by actual people. A quality assurance engineer click through the application, check if it works and, at the same time, try to break it. The most common way is exploratory testing, where the engineer investigates the application using their knowledge of the application against a predefined path or checklist.</li>
<li><strong>Automated testing</strong>. This is a type of testing conducted by a computer. Quality assurance engineers implement it to automate away repetitive and monotonous tests.</li>
</ul>
<p>This series of guides will mostly focus on automated testing. However, you shouldn't focus on only one way of testing. Even if automation saves a lot of time and effort, humans and manual testing will always play a vital role. Rather, test automation should free up people to focus on exploratory testing and creative problem-solving. For example, ensuring the quality of user experiences or protecting the high-risk business logic. In other words, automation has your back. ❤️</p>
<h3 id="opaque-box-versus-clear-box">Opaque box versus clear box <a class="headline-link" href="https://web.dev/ta-types/#opaque-box-versus-clear-box">#</a></h3>
<p>So, you have defined the general modes of testing. However, that's not enough yet. To plan the testing strategy, there is one more question to answer: should you know how your application works under the hood or is it better to test without this knowledge? Depending on the answer, there are two procedures to choose from for deriving and selecting test cases:</p>
<ul>
<li><strong>Opaque box testing</strong> (or black box testing). It is based on analyzing a component or system's functional or non-functional requirements (specifications) without considering its internal structure.</li>
<li><strong>Clear box testing</strong> (or white box testing) is a procedure that takes into account the internal structure of said box. In other words, how your application works under the hood.</li>
</ul>
<p>Both procedures can be applied to manual and automated testing. However, some aspects of general testing modes may focus more on one of the two—we will cover that later. For now, let's further break down test automation into types.</p>
<h2 id="test-automation-types-how-do-you-want-to-test">Test automation types: How do you want to test? <a class="headline-link" href="https://web.dev/ta-types/#test-automation-types-how-do-you-want-to-test">#</a></h2>
<p>As you get closer to answering the "how" question, you have already decided to do some manual testing. However, choosing and applying test automation types is a bit more challenging. The types of automation testing are closely related to the metrics you want to create in your projects. So let's take a closer look at the most important ones.</p>
<p>As illustrated in the meme mentioned earlier, you have already come across two types: unit testing and integration testing. End-to-end testing is the third important one to consider. But that isn't all of them still. Let's take a closer look.</p>
<h3 id="unit-testing">Unit testing <a class="headline-link" href="https://web.dev/ta-types/#unit-testing">#</a></h3>
<p>Unit testing is a testing type in which minor testable parts or units of an application are individually and independently tested for proper operation. These units can vary in scope from functions, classes, or interfaces, to services or complete components. Their primary attributes are execution speed, isolation, and comfortable maintainability. If you want to dive deeper into unit testing, head over to this <a href="https://en.wikipedia.org/wiki/Unit_testing" rel="noopener">guide on unit testing</a>.</p>
<img alt="A simplified depiction of unit testing showing input and output." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/kVCbDIZN23OUGwOdpJmm.jpeg?auto=format&amp;w=1600 1600w" width="800">
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> Possible tools include but aren't limited to <a href="https://vitest.dev/">Vitest</a> and <a href="https://jestjs.io/">Jest</a>. </div></aside>
<h3 id="integration-testing">Integration testing <a class="headline-link" href="https://web.dev/ta-types/#integration-testing">#</a></h3>
<p>Integration testing focuses on interactions between components or systems. In other words, on how well they work together. Typical examples of integration tests are API or component tests.</p>
<img alt="A simplified depiction of integration testing showing how two unit working together." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/1dxHGzPGPDgkMqRMj46o.jpeg?auto=format&amp;w=1600 1600w" width="800">
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> The tools you may consider using are often the same as those mentioned in the <a href="https://web.dev/ta-types/#unit-testing">unit testing section</a> and can also include frameworks providing component testing, for example, <a href="https://webdriver.io/">WebdriverIO</a> and <a href="https://www.cypress.io/">Cypress</a>. </div></aside>
<h3 id="end-to-end-testing">End-to-end testing <a class="headline-link" href="https://web.dev/ta-types/#end-to-end-testing">#</a></h3>
<p>These tests are often called UI tests and this name explains their function even better. These tests interact with your application's UI, including the complete application stack, and test your application from one end to the other.</p>
<img alt="A simplified depiction of end-to-end testing showing a computer as a robot, looking at a workflow." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/9ZWWlop306SoGFP9rbeH.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>They resemble a system test if you refer to the theory of quality assurance. These tests simulate a genuine user and their interactions. End-to-end tests take more runtime because they involve the whole system and more runtime requires more computing power. As a result, this additional effort results in higher maintenance costs.</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> The tools you might use for end-to-end testing include but aren't limited to <a href="https://webdriver.io/">WebdriverIO</a>, <a href="https://www.cypress.io/">Cypress</a>, <a href="https://playwright.dev/">Playwright</a>, <a href="https://www.selenium.dev/">Selenium</a>. </div></aside>
<h4 id="visual-ui-testing">Visual UI testing <a class="headline-link" href="https://web.dev/ta-types/#visual-ui-testing">#</a></h4>
<p>An interesting subcategory of UI tests is visual tests. These tests are extended end-to-end tests that provide a means to verify the visible output of an application. Such a test takes a screenshot after a change and another screenshot containing the “status quo” (or golden file), then provides those results to a human reviewer to inspect and check. In other words, it helps find “visual bugs” in the appearance of a page, beyond purely functional bugs and not explicitly written down into assertions.</p>
<h3 id="static-analysis">Static analysis <a class="headline-link" href="https://web.dev/ta-types/#static-analysis">#</a></h3>
<p>There's one more thing to introduce here: static analysis. It isn't a testing type in the textbook sense. However, it will be an essential aspect in quality assurance strategies later on. You can imagine it working like a spell check function: it scans your code for more significant defects and syntax errors without running the program, thus detecting code style issues. This simple measure can prevent many bugs. This is a good point to learn about Static Analysis if you want to get to know it in more detail.</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> The tools you might use for static analysis include but aren't limited to <a href="https://eslint.org/">Eslint</a> and <a href="https://stylelint.io/">StyleLint</a>.  </div></aside>
<h2 id="testing-in-all-shapes-how-does-this-all-work-together">Testing in all shapes: How does this all work together? <a class="headline-link" href="https://web.dev/ta-types/#testing-in-all-shapes-how-does-this-all-work-together">#</a></h2>
<p>While searching for answers to all these questions, you might find a possible solution in some analogies. In the web and testing communities specifically, developers tend to use these analogies to give you an idea of how many tests you should use of which type.</p>
<img alt="A lot of shapes like pyramid, diamonds, ice cone, honeycombs and a trophy; representing test strategies." decoding="async" height="450" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format" srcset="https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/dPDCek3EhZgLQPGtEG3y0fTn4v82/a96diycjrTQ2nVRpVgWH.jpeg?auto=format&amp;w=1600 1600w" width="800">
<p>The following five strategies depicted in this image are the most common ones:</p>
<ul>
<li>Test Pyramid</li>
<li>Test Diamond</li>
<li>Test Ice Cone (also known as Test Pizza)</li>
<li>Test Honeycomb</li>
<li>Test Trophy</li>
</ul>
<p>This is truly a lot of information to process. How should you decide on a matching test strategy based on all this? Don't worry, we've got you covered. In the next article, we will discuss these different strategies in more detail and explain how to choose the best fit for your project. Stay tuned! 🔥</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> This blog post was written by Ramona, with input and review from <a href="https://web.dev/authors/jecelynyeen/">Jecelyn Yeen</a> (<a href="https://twitter.com/jecfish">Twitter</a>), <a href="https://www.linkedin.com/in/michael-hablich-2128646/">Michael Hablich</a> (<a href="https://twitter.com/MHablich">Twitter</a>), and <a href="https://www.linkedin.com/in/sofia-yemelianova/">Sofia Emelianova</a>. </div></aside>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[六月网络平台新功能]]></title>
            <link>https://web.dev/web-platform-06-2023/</link>
            <guid>https://web.dev/web-platform-06-2023/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>2023年6月，Firefox 114成为稳定版本，这个月只有一个浏览器发布。请查看测试版浏览器发布部分，了解即将成为稳定版本的几个功能的详细信息。

WebTransport API：Firefox 114包括WebTransport API，这是对WebSockets的现代更新，支持多个流、单向流和无序传递。

SVG crossorigin属性：Firefox 114还包括crossorigin属性，在SVG的<img>和<feimage>元素上，为元素获取的数据提供了配置跨域资源共享（CORS）请求的支持。这与HTML的crossorigin属性的工作方式相同。

测试版浏览器发布：测试版浏览器版本可以让您预览下一个稳定版本中的功能。这是一个测试新功能或可能影响您网站的删除功能的好时机。新的测试版是Firefox 115和Safari 17，Chrome 115和Safari 16.6仍在进行中。这些发布为平台带来了许多出色的功能。请查看发布说明以获取所有详细信息，以下只是一些亮点。

Firefox 115支持CSS动画组合属性animation-composition。一旦这个版本的Firefox在7月4日成为稳定版本，animation-composition将在所有三个主要引擎中得到支持。

与Firefox 115一起实现互操作性的还有一组Array和TypedArray的方法。Array.toReversed()、Array.toSorted()、Array.toSpliced()、Array.with()、</feimage></summary>
    <div>
    <div>OriginTitle: New to the web platform in June</div>

    </div></div><h2 id="stable-browser-releases">稳定的浏览器版本<a class="headline-link" href="https://web.dev/web-platform-06-2023/#stable-browser-releases">#</a></h2>
<p>2023年6月<a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/114" rel="noopener">火狐114</a>变得稳定，所以本月这是一个浏览器问题。 查看测试版浏览器版本部分，了解一旦这些测试版稳定后即将实现互操作的多项功能的详细信息。</p>
<aside class="aside flow bg-state-bad-bg color-state-bad-text"><p class="cluster color-state-bad-text"><span class="aside__icon box-block "><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Error sign">   <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-2h2v2h-2zm0-10v6h2V7h-2z"></path> </svg></span><strong>警告</strong></p><div class=" flow">我们在这些帖子中包含从 MDN 中提取的浏览器兼容性数据，这些数据对于最新的浏览器版本可能尚未更新。 该帖子一旦出现在帖子中，就会显示正确的信息<a href="https://github.com/mdn/browser-compat-data/releases">浏览器兼容数据发布</a>。</div></aside>
<h3 id="webtransport-api">网络传输API<a class="headline-link" href="https://web.dev/web-platform-06-2023/#webtransport-api">#</a></h3>
<p>火狐 114 包括<a href="https://developer.mozilla.org/docs/Web/API/WebTransport_API" rel="noopener">网络传输API</a>，WebSocket 的现代更新，提供对多个流、单向流和无序交付的支持。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 97，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      97
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐 114，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      114
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">边缘 97，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      97
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/API/WebTransport#browser_compatibility" target="_blank">来源</a>
</div>
<h3 id="the-svg-crossorigin-attribute">SVG<code>跨域</code>属性<a class="headline-link" href="https://web.dev/web-platform-06-2023/#the-svg-crossorigin-attribute">#</a></h3>
<p>Firefox 114 还包括<a href="https://developer.mozilla.org/docs/Web/SVG/Attribute/crossorigin" rel="noopener"><code>跨域</code>属性</a>，在<code></code>和<code></code>SVG 中的元素，提供对元素获取数据的跨源资源共享 (CORS) 请求的配置支持。 这与 HTML 的工作方式相同<a href="https://developer.mozilla.org/docs/Web/HTML/Attributes/crossorigin" rel="noopener"><code>跨域</code></a>属性。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">铬，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">火狐 114，支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
114
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/API/SVGImageElement/crossorigin#browser_compatibility" target="_blank">来源</a>
</div>
<h2 id="beta-browser-releases">测试版浏览器发布<a class="headline-link" href="https://web.dev/web-platform-06-2023/#beta-browser-releases">#</a></h2>
<p>Beta 浏览器版本可让您预览浏览器下一个稳定版本中的内容。 现在是测试新功能或删除的好时机，这些功能或删除可能会在发布该版本之前影响您的网站。 新的测试版是<a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/115" rel="noopener">火狐115</a>， 和<a href="https://developer.apple.com/documentation/safari-release-notes/safari-16_6-release-notes" rel="noopener">狩猎17</a>和<a href="https://developer.chrome.com/blog/chrome-115-beta/" rel="noopener">铬115</a>和<a href="https://developer.apple.com/documentation/safari-release-notes/safari-16_6-release-notes" rel="noopener">Safari 16.6</a>仍在进行中。 这些版本为该平台带来了许多出色的功能。 查看发行说明以了解所有详细信息，这里仅列出一些亮点。</p>
<p>火狐115支持CSS<a href="https://developer.mozilla.org/docs/Web/CSS/animation-composition" rel="noopener"><code>动画合成</code></a>财产。 一旦该版本的 Firefox 于 7 月 4 日变得稳定，<code>动画合成</code>将在所有三个主要引擎中得到支持。 在文章中了解更多信息<a href="https://developer.chrome.com/articles/css-animation-composition/" rel="noopener">指定多个动画效果如何与animation-composition合成</a>。</p>
<p>与 Firefox 115 实现互操作性的还有一组方法<code>大批</code>和<code>类型数组</code>。<code>Array.toReversed()</code>,<code>Array.toSorted()</code>,<code>Array.toSpliced()</code>,<code>数组.with()</code>,<code>TypedArrays.toReversed()</code>,<code>TypedArrays.toSorted()</code>， 和<code>TypedArrays.with()</code>返回一个新数组，其中包含已浅复制的元素。</p>
<p>Safari 17 Beta 中有一大堆新功能和修复。 Safari 17 新增<a href="https://blog.tomayac.com/2023/06/07/web-apps-on-macos-sonoma-14-beta/" rel="noopener">网络应用程序</a>到 macOS 索诺玛。 这意味着您可以从“文件”菜单或“共享表”将网站添加到 Dock，它将在自己的窗口中打开。</p>
<p>Safari 17 还带来了一些可互操作的功能——<a href="https://developer.mozilla.org/docs/Web/CSS/contain-intrinsic-size" rel="noopener"><code>包含内在尺寸</code></a>,<a href="https://developer.mozilla.org/docs/Web/CSS/@counter-style" rel="noopener"><code>@计数器风格</code></a>,<a href="https://developer.mozilla.org/docs/Web/CSS/@font-face/size-adjust" rel="noopener">@font-face 大小调整</a>，以及<a href="https://developer.mozilla.org/docs/Web/CSS/@media/overflow-block" rel="noopener"><code>溢出块</code></a>和<a href="https://developer.mozilla.org/docs/Web/CSS/@media/overflow-inline" rel="noopener"><code>内嵌溢出</code></a>Safari 17 发布时，所有主要引擎都将提供媒体功能。</p>
<p><em>拍摄者<a href="https://unsplash.com/@rodrigospabreu" rel="noopener">罗德里戈·阿布鲁</a>。</em></p>
<hr><h2 id="stable-browser-releases">Stable browser releases <a class="headline-link" href="https://web.dev/web-platform-06-2023/#stable-browser-releases">#</a></h2>
<p>In June 2023 <a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/114" rel="noopener">Firefox 114</a> became stable, so it's a single browser issue this month. Check out the beta browser releases section for details of several features that are about to become interoperable once those betas become stable.</p>
<aside class="aside flow bg-state-bad-bg color-state-bad-text"><p class="cluster color-state-bad-text"><span class="aside__icon box-block "><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Error sign">   <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-2h2v2h-2zm0-10v6h2V7h-2z"></path> </svg></span><strong>Caution</strong></p><div class=" flow"> We include browser compatibility data pulled from MDN in these posts which may not have been updated yet for very recent browser releases. The post will show the correct information as soon as it appears in the <a href="https://github.com/mdn/browser-compat-data/releases">browser-compat-data release</a>. </div></aside>
<h3 id="webtransport-api">WebTransport API <a class="headline-link" href="https://web.dev/web-platform-06-2023/#webtransport-api">#</a></h3>
<p>Firefox 114 includes the <a href="https://developer.mozilla.org/docs/Web/API/WebTransport_API" rel="noopener">WebTransport API</a>, a modern update to WebSockets providing support for multiple streams, unidirectional streams, and out-of-order delivery.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 97, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      97
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 114, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      114
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">Edge 97, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      97
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/API/WebTransport#browser_compatibility" target="_blank">Source</a>
</div>
<h3 id="the-svg-crossorigin-attribute">The SVG <code>crossorigin</code> attribute <a class="headline-link" href="https://web.dev/web-platform-06-2023/#the-svg-crossorigin-attribute">#</a></h3>
<p>Firefox 114 also includes the <a href="https://developer.mozilla.org/docs/Web/SVG/Attribute/crossorigin" rel="noopener"><code>crossorigin</code> attribute</a>, on the <code>&lt;image&gt;</code> and <code>&lt;feImage&gt;</code> elements in SVG, provides support for configuration of the Cross-Origin Resource Sharing (CORS) requests for the element's fetched data. This works in the same way as the HTML <a href="https://developer.mozilla.org/docs/Web/HTML/Attributes/crossorigin" rel="noopener"><code>crossorigin</code></a> attribute.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="firefox">
<span class="visually-hidden">Firefox 114, Supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
114
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/API/SVGImageElement/crossorigin#browser_compatibility" target="_blank">Source</a>
</div>
<h2 id="beta-browser-releases">Beta browser releases <a class="headline-link" href="https://web.dev/web-platform-06-2023/#beta-browser-releases">#</a></h2>
<p>Beta browser versions give you a preview of things that will be in the next stable version of the browser. It's a great time to test new features, or removals, that could impact your site before the world gets that release. New betas are <a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/115" rel="noopener">Firefox 115</a>, and <a href="https://developer.apple.com/documentation/safari-release-notes/safari-16_6-release-notes" rel="noopener">Safari 17</a> with <a href="https://developer.chrome.com/blog/chrome-115-beta/" rel="noopener">Chrome 115</a> and <a href="https://developer.apple.com/documentation/safari-release-notes/safari-16_6-release-notes" rel="noopener">Safari 16.6</a> still ongoing. These releases bring many great features to the platform. Check out the release notes for all of the details, here are just a few highlights.</p>
<p>Firefox 115 supports the CSS <a href="https://developer.mozilla.org/docs/Web/CSS/animation-composition" rel="noopener"><code>animation-composition</code></a> property. Once this version of Firefox becomes stable on July 4th, <code>animation-composition</code> will be supported in all three major engines. Learn more in the article <a href="https://developer.chrome.com/articles/css-animation-composition/" rel="noopener">Specify how multiple animation effects should composite with animation-composition</a>.</p>
<p>Also reaching interoperability with Firefox 115 are a set of methods for <code>Array</code> and <code>TypedArray</code>.  <code>Array.toReversed()</code>, <code>Array.toSorted()</code>, <code>Array.toSpliced()</code>, <code>Array.with()</code>, <code>TypedArrays.toReversed()</code>, <code>TypedArrays.toSorted()</code>, and <code>TypedArrays.with()</code> return a new array with elements that have been shallow copied.</p>
<p>There is a whole stack of new features and fixes in the Safari 17 beta. Safari 17 adds <a href="https://blog.tomayac.com/2023/06/07/web-apps-on-macos-sonoma-14-beta/" rel="noopener">Web Apps</a> to macOS Sonoma. This means you can add a website to the Dock from the File menu or Share Sheet, and it will open in its own window.</p>
<p>Safari 17 also brings some features to interoperable status—<a href="https://developer.mozilla.org/docs/Web/CSS/contain-intrinsic-size" rel="noopener"><code>contain-intrinsic-size</code></a>, <a href="https://developer.mozilla.org/docs/Web/CSS/@counter-style" rel="noopener"><code>@counter-style</code></a>, <a href="https://developer.mozilla.org/docs/Web/CSS/@font-face/size-adjust" rel="noopener">@font-face size-adjust</a>, and the <a href="https://developer.mozilla.org/docs/Web/CSS/@media/overflow-block" rel="noopener"><code>overflow-block</code></a> and <a href="https://developer.mozilla.org/docs/Web/CSS/@media/overflow-inline" rel="noopener"><code>overflow-inline</code></a> media features will be available in all major engines when Safari 17 ships.</p>
<p><em>Photo by <a href="https://unsplash.com/@rodrigospabreu" rel="noopener">Rodrigo Abreu</a>.</em></p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[原始私有文件系统]]></title>
            <link>https://web.dev/origin-private-file-system/</link>
            <guid>https://web.dev/origin-private-file-system/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>这篇文章介绍了原始私有文件系统（Origin Private File System）的概念和用法。原始私有文件系统允许Web应用程序在其自己的特定来源的虚拟文件系统中存储和操作文件，包括低级文件操作、逐字节访问和文件流处理。它在所有主要浏览器中得到支持，并由Web超文本应用技术工作组（WHATWG）在文件系统生存标准中进行了标准化。

传统的Web文件处理方式是通过上传文件到服务器或在客户端上打开文件进行编辑，然后通过JavaScript下载修改后的文件。而现代的Web文件处理方式是使用文件系统访问API中的三个选择器方法（showOpenFilePicker()、showSaveFilePicker()和showDirectoryPicker()），实现了直接在文件系统中打开、保存和选择文件的流程。

原始私有文件系统与用户可见文件系统不同，它不是供用户查看和操作的，而是私有的，只能由网站的来源访问。每个来源都有自己独立的原始私有文件系统，与其他来源完全隔离。原始私有文件系统受到浏览器配额限制，当用户清除浏览数据时，原始私有文件系统也会被删除。

在使用原始私有文件系统时，可以创建、访问、写入、移动、重命名、删除和列出文件和文件夹。在Web Worker中使用原始私有文件系统可以实</summary>
    <div>
    <div>OriginTitle: The origin private file system</div>

    </div></div><aside class="aside flow bg-state-good-bg color-state-good-text"><p class="cluster "><span class="aside__icon box-block "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" style="enable-background:new 0 0 128 128" xml:space="preserve"><path d="M7.5 123.3c2.2 2.4 11.6-1.9 19-5.3C32 115.4 54 106.3 65 101.6c3-1.2 7.3-2.9 10.4-7 2.8-3.6 10-19-4.6-34.7-15-16-30.4-11.5-36.2-7.5A28.5 28.5 0 0 0 27.3 63c-5.2 11.6-12.7 32.9-15.7 41.3-2.3 6.1-6.4 16.5-4.1 19z" fill="currentColor"></path><path d="M18 86.8s.7 6.5 6.1 14.6c6.3 9.6 15 11.2 15 11.2l-5.8 2.4s-6.5-2-12.7-10.4c-3.8-5.3-5-11.6-5-11.6l2.3-6.2zm-5.6 15.4s1.5 5.6 4.7 9.7c3.8 5 8.6 6.5 8.6 6.5l-4.5 2s-3.3-.8-7-5.5c-2.9-3.5-3.7-7.6-3.7-7.6l1.9-5.1z" fill="currentColor"></path><path d="M10 116.4c-.2-.5-.2-1 0-1.4l25.4-53 4.2 16-26.8 38.7c-.7 1-2.3 1-2.8-.2z" style="opacity:.44" fill="currentColor"></path><path d="M41.6 83.2c12 14 25.5 12.2 30 8.6 4.5-3.5 8.1-15.6-3.7-29.3C55.3 48.2 41.3 52.2 38 55.3s-7.4 15.1 3.5 27.9z" style="fill: var(--color-state-good-bg);"></path><path d="M82.5 89c-4.3-3.7-6.6-3-9.7-1.8a26 26 0 0 1-18.9 0l2.6-6.2c5 1.7 8.7 1 12-1 4-2.4 9.6-5.6 18.3 1.6 3.6 3 7.3 5.1 10 4.2 2-.7 3-3.6 3.6-6l.2-1.3c.4-3.7 1.2-11.6 7.1-15.7 6.4-4.3 13-4.3 13-4.3l1.2 12c-3-.5-5.2.1-7 1-6.7 3.8-.8 18.2-11.3 23-10.1 4.8-18.4-3.3-21-5.6zM45.4 73.7l-4.3-3.9c8-8.9 5.8-15.4 4.3-20.2A26.4 26.4 0 0 1 44 38.8c-3-3.8-4.4-7.8-4.5-8-1.9-5.7-.5-11.2 2.8-16.4C48.7 4 60.5 4 60.5 4l4 10.5c-3-.1-12.8 0-15.8 4.8-3.8 6-1.3 9.6-1.2 10 .8-1 1.5-1.7 2.2-2.3 4.8-4.2 9-4.8 11.6-4.6a11 11 0 0 1 7.6 4.2c2 2.7 3 6.2 2.3 9.4a11 11 0 0 1-5.8 7.4 16 16 0 0 1-13 1.5v.3l.6 2c1.8 5.4 5 14.1-7.6 26.5zm7.4-37.5c.5.4 1.1.8 1.8 1 2 .8 4.4.6 7-.8 1.5-.9 1.7-1.7 1.7-2 .2-.9 0-2-.7-2.8a2.8 2.8 0 0 0-2-1.2c-1.6-.2-3.6.8-5.6 2.6-1 .9-1.7 2-2.3 3.2zm10 39.1-6.2-.1s3-16.7 12.5-19.5c1.8-.5 3.7-1 5.7-1.3l4-.8c.1-1.6-.5-3.6-1.3-5.9-.6-1.7-1.2-3.5-1.5-5.5-.6-3.9.4-7.3 3-9.6 3-2.9 7.9-3.8 13.4-2.5 3.2.7 5.5 2.2 7.6 3.6 2.9 2 4.6 3 8.2.5 4.3-2.9-1.4-14.3-4.4-21l11.3-4.6c1.5 3.3 8.8 20.3 4 30a11.5 11.5 0 0 1-8.1 6.2c-8 1.8-12.6-1.3-16-3.6-1.6-1-3-1.9-4.6-2.3-10.6-3 4.2 12.6-2.7 19.6-4.2 4.2-14.4 5.3-15 5.5-6.6 1.6-10 11.3-10 11.3z" fill="currentColor"></path><path d="M44 38.8c-.2 2.2-.3 3.5.3 6.4 2.7 2 8.7 2 8.7 2l-.6-2v-.3c-6.1-3-8.4-6.1-8.4-6.1zm-12.5 9.8-10.3-5 5.1-7.5 8.2 5.4zm-15.2-14A26 26 0 0 1 5 28.9l5.2-6c1.6 1.2 5 3.5 7.2 3.8l-1.1 7.9zM25.6 21.3 18 18.8a18 18 0 0 0 .7-8.3l7.9-1.3c.6 4 .3 8.2-1 12zM73 15.3l7.9-1.7L83 23.9l-7.8 1.7zM92.5 17.8 87 12c2.8-2.8 3.5-6.3 3.5-6.4L98.4 7c-.1.6-1.1 6.3-6 10.9zM95.5 48.6l7-2.2 2.3 7.7-7 2.1zM97.5 113l-7.9-1c.3-2.7-1.8-6.2-2.4-7l6.4-4.8c.5.6 4.7 6.4 4 12.8zM120.4 102.9c-3-.5-6-.6-9.1-.5l-.3-8c3.5-.2 7 0 10.6.6l-1.2 7.9zM109.6 113.9l5.6-5.7 7.8 7.6-5.6 5.7zM93.1 63.3 99 70l-6.6 5.8-5.8-6.6z" fill="currentColor"></path></svg> </span><strong>庆典</strong></p><div class=" flow">原始私有文件系统允许 Web 应用程序在其自己的特定原始虚拟文件系统中存储和操作文件，包括低级文件操作、逐字节访问和文件流。 所有主要浏览器都支持原始私有文件系统。</div></aside>
<h2 id="browser-support">浏览器支持<a class="headline-link" href="https://web.dev/origin-private-file-system/#browser-support">#</a></h2>
<p>原始私有文件系统受到现代浏览器的支持，并由Web超文本应用技术工作组（<a href="https://whatwg.org/" rel="noopener">WHATWG</a>） 在里面<a href="https://fs.spec.whatwg.org/" rel="noopener">文件系统生活标准</a>。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 86，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      86
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐 111，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">边缘 86，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      86
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 15.2，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      15.2
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/API/StorageManager/getDirectory#browser_compatibility" target="_blank">来源</a>
</div>
<h2 id="motivation">动机<a class="headline-link" href="https://web.dev/origin-private-file-system/#motivation">#</a></h2>
<p>当您想到计算机上的文件时，您可能会想到文件层次结构：组织在文件夹中的文件，您可以使用操作系统的文件资源管理器进行浏览。 例如，在 Windows 上，对于名为 Tom 的用户，他们的待办事项列表可能位于<code>C:\Users\Tom\Documents\ToDo.txt</code>。 在这个例子中，<code>待办事项.txt</code>是文件名，并且<code>用户</code>,<code>汤姆</code>， 和<code>文件</code>是文件夹名称。<code>C：\</code>在 Windows 上代表驱动器的根目录。</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">在本文中，我使用术语<em>文件夹</em>和<em>目录</em>可互换，忽略文件系统概念（目录）和图形用户界面之间的差异<a href="https://en.wikipedia.org/wiki/Directory_%28computing%29#Folder_metaphor">隐喻</a>（文件夹）。</div></aside>
<h3 id="traditional-way-of-working-with-files-on-the-web">在网络上处理文件的传统方式<a class="headline-link" href="https://web.dev/origin-private-file-system/#traditional-way-of-working-with-files-on-the-web">#</a></h3>
<p>要在 Web 应用程序中编辑待办事项列表，这是传统流程：</p>
<ol>
<li>用户<em>上传</em>将文件发送到服务器或<em>打开</em>它在客户端上<a href="https://developer.mozilla.org/docs/Web/HTML/Element/input/file" rel="noopener"><code></code></a>。</li>
<li>用户进行更改，然后<em>下载</em>注入的结果文件<a href="https://developer.mozilla.org/docs/Web/API/HTMLAnchorElement/download" rel="noopener"><code>&amp;lt;a download="ToDo.txt&amp;gt;</code></a>你以编程方式<a href="https://developer.mozilla.org/docs/Web/API/HTMLElement/click" rel="noopener"><code>点击（）</code></a>通过 JavaScript。</li>
<li>要打开文件夹，您可以使用特殊属性<a href="https://developer.mozilla.org/docs/Web/API/HTMLInputElement/webkitdirectory" rel="noopener"><code></code></a>，尽管有其专有名称，但实际上具有通用浏览器支持。</li>
</ol>
<h3 id="modern-way-of-working-with-files-on-the-web">在网络上处理文件的现代方式<a class="headline-link" href="https://web.dev/origin-private-file-system/#modern-way-of-working-with-files-on-the-web">#</a></h3>
<p>此流程并不代表用户如何看待编辑文件，并且意味着用户最终会下载<em>副本</em>他们的输入文件。 因此，文件系统访问 API 引入了三种选择器方法 -<a href="https://developer.mozilla.org/docs/Web/API/Window/showOpenFilePicker" rel="noopener"><code>显示打开文件选择器()</code></a>,<a href="https://developer.mozilla.org/docs/Web/API/Window/showSaveFilePicker" rel="noopener"><code>显示保存文件选择器()</code></a>， 和<a href="https://developer.mozilla.org/docs/Web/API/Window/showDirectoryPicker" rel="noopener"><code>显示目录选择器()</code></a>——正如他们的名字所暗示的那样。 它们启用如下流程：</p>
<ol>
<li>打开<code>待办事项.txt</code>和<code>显示打开文件选择器()</code>，并得到一个<a href="https://developer.mozilla.org/docs/Web/API/FileSystemFileHandle" rel="noopener"><code>文件系统文件句柄</code></a>目的。</li>
<li>来自<code>文件系统文件句柄</code>对象，得到一个<a href="https://developer.mozilla.org/docs/Web/API/File" rel="noopener"><code>文件</code></a>通过调用文件句柄<a href="https://developer.mozilla.org/docs/Web/API/FileSystemFileHandle/getFile" rel="noopener"><code>获取文件()</code></a>方法。</li>
<li>修改文件，然后调用<a href="https://developer.mozilla.org/docs/Web/API/FileSystemHandle/requestPermission" rel="noopener"><code>requestPermission({模式: '读写'})</code></a>在手柄上。</li>
<li>如果用户接受权限请求，请将更改保存回原始文件。</li>
<li>或者，致电<code>显示保存文件选择器()</code>并让用户选择一个新文件。 （如果用户选择以前打开的文件，其内容将被覆盖。）对于重复保存，您可以保留文件句柄，这样就不必再次显示文件保存对话框。</li>
</ol>
<h3 id="restrictions-of-working-with-files-on-the-web">在 Web 上处理文件的限制<a class="headline-link" href="https://web.dev/origin-private-file-system/#restrictions-of-working-with-files-on-the-web">#</a></h3>
<p>可通过这些方法访问的文件和文件夹位于所谓的<em>用户可见</em>文件系统。 从网络保存的文件，特别是可执行文件，都标有<a href="https://textslashplain.com/2016/04/04/downloads-and-the-mark-of-the-web/" rel="noopener">网络标记</a>，因此在执行潜在危险文件之前，操作系统可以显示额外的警告。 作为一项附加的安全功能，从 Web 获取的文件也受到以下保护：<a href="https://safebrowsing.google.com/" rel="noopener">安全浏览</a>，为了简单起见，在本文中，您可以将其视为基于云的病毒扫描。 当您使用文件系统访问 API 将数据写入文件时，写入不是就地的，而是使用临时文件。 除非通过所有这些安全检查，否则文件本身不会被修改。 正如您可以想象的那样，尽管在可能的情况下进行了改进，但这项工作使文件操作相对较慢，例如，<a href="https://bugs.chromium.org/p/chromium/issues/detail?id=1413443" rel="noopener">在 macOS 上</a>。 还是每<a href="https://developer.mozilla.org/docs/Web/API/FileSystemWritableFileStream/write" rel="noopener"><code>写（）</code></a>调用是独立的，因此它在幕后打开文件，查找给定的偏移量，最后写入数据。</p>
<h3 id="files-as-the-foundation-of-processing">文件作为处理的基础<a class="headline-link" href="https://web.dev/origin-private-file-system/#files-as-the-foundation-of-processing">#</a></h3>
<p>同时，文件是记录数据的绝佳方式。 例如，<a href="https://www.sqlite.org/" rel="noopener">SQLite</a>将整个数据库存储在单个文件中。 另一个例子是<a href="https://en.wikipedia.org/wiki/Mipmap" rel="noopener">mip贴图</a>用于图像处理。 Mipmap 是预先计算的、优化的图像序列，每个图像都是前一个图像的分辨率逐渐降低的表示，这使得缩放等许多操作更快。 那么，Web 应用程序如何才能获得文件的优势，同时又不会产生传统基于 Web 的文件处理的性能成本呢？ 答案是<em>原始私有文件系统</em>。</p>
<h2 id="the-user-visible-versus-the-origin-private-file-system">用户可见与原始私有文件系统<a class="headline-link" href="https://web.dev/origin-private-file-system/#the-user-visible-versus-the-origin-private-file-system">#</a></h2>
<p>与通过操作系统的文件资源管理器浏览的用户可见文件系统（您可以读取、写入、移动和重命名文件和文件夹）不同，原始私有文件系统并不意味着用户可以看到。 原始私有文件系统中的文件和文件夹，顾名思义，是私有的，更具体地说，是私有的。<a href="https://developer.mozilla.org/docs/Glossary/Origin" rel="noopener">起源</a>一个网站的。 通过键入发现页面的来源<a href="https://developer.mozilla.org/docs/Web/API/Location/origin" rel="noopener"><code>位置.原点</code></a>在开发工具控制台中。 例如，页面的来源<code>https://developer.chrome.com/articles/</code>是<code>https://developer.chrome.com</code>（也就是说，部分<code>/文章</code>是<em>不是</em>的一部分）。 您可以阅读有关起源理论的更多信息<a href="https://web.dev/same-site-same-origin/#origin">理解“同站”和“同源”</a>。 所有共享同源的页面都可以看到同源私有文件系统数据，因此<code>https://developer.chrome.com/docs/extensions/mv3/getstarted/extensions-101/</code>可以看到与前面示例相同的细节。 每个origin都有自己独立的origin私有文件系统，即各origin的origin私有文件系统<code>https://developer.chrome.com</code>与以下之一完全不同，<a href="https://web.dev/"><code>https://web.dev</code></a>。 在Windows上，用户可见文件系统的根目录是<code>C：\</code>。 源私有文件系统的等效项是通过调用异步方法访问的每个源的初始空根目录<a href="https://developer.mozilla.org/docs/Web/API/StorageManager/getDirectory" rel="noopener"><code>navigator.storage.getDirectory()</code></a>。 用户可见文件系统和原始私有文件系统的对比如下图所示。 该图显示，除了根目录之外，其他所有内容在概念上都是相同的，具有文件和文件夹的层次结构，可根据您的数据和存储需求进行组织和安排。</p>
<img alt="Diagram of the user-visible file system and the origin private file system with two exemplary file hierarchies. The entry point for the user-visible file system is a symbolic harddisk, the entry point for the origin private file system is calling of the method 'navigator.storage.getDirectory'." decoding="async" height="722" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format" srcset="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=1600 1600w" width="800">
<h2 id="specifics-of-the-origin-private-file-system">原始私有文件系统的细节<a class="headline-link" href="https://web.dev/origin-private-file-system/#specifics-of-the-origin-private-file-system">#</a></h2>
<p>就像浏览器中的其他存储机制一样（例如，<a href="https://developer.mozilla.org/docs/Web/API/Window/localStorage" rel="noopener">本地存储</a>或者<a href="https://developer.mozilla.org/docs/Web/API/IndexedDB_API/Using_IndexedDB" rel="noopener">索引数据库</a>），原始私有文件系统受浏览器配额限制。 当用户<a href="https://support.google.com/chrome/answer/2392709" rel="noopener">清除所有浏览数据</a>或者<a href="https://developer.chrome.com/docs/devtools/storage/cache/#deletecache" rel="noopener">所有站点数据</a>，原始私有文件系统也将被删除。 称呼<a href="https://developer.mozilla.org/docs/Web/API/StorageManager/estimate" rel="noopener"><code>navigator.storage.estimate()</code></a>并在生成的响应对象中看到<a href="https://developer.mozilla.org/docs/Web/API/StorageManager/estimate#usage" rel="noopener"><code>用法</code></a>条目查看您的应用程序已经消耗了多少存储空间，该存储空间按存储机制细分<a href="https://developer.mozilla.org/docs/Web/API/StorageManager/estimate#usagedetails" rel="noopener"><code>使用详情</code></a>对象，您想要查看的位置<code>文件系统</code>具体条目。 由于原始私有文件系统对用户不可见，因此没有权限提示，也没有安全浏览检查。</p>
<h2 id="getting-access-to-the-root-directory">获取根目录的访问权限<a class="headline-link" href="https://web.dev/origin-private-file-system/#getting-access-to-the-root-directory">#</a></h2>
<p>要访问根目录，请运行以下命令。 您最终会得到一个空目录句柄，更具体地说，是一个<a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle" rel="noopener"><code>文件系统目录句柄</code></a>。</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">常量</span>操作根<span class="token operator">=</span> <span class="token keyword">等待</span>航海家<span class="token punctuation">。</span>贮存<span class="token punctuation">。</span><span class="token function">获取目录</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token comment">// 类型为“directory”的 FileSystemDirectoryHandle</span><br><span class="token comment">// 其名字是“”。</span><br>安慰<span class="token punctuation">。</span><span class="token function">日志</span><span class="token punctuation">（</span>操作根<span class="token punctuation">）</span><span class="token punctuation">;</span></code></pre>
</div><h2 id="main-thread-or-web-worker">主线程或Web Worker<a class="headline-link" href="https://web.dev/origin-private-file-system/#main-thread-or-web-worker">#</a></h2>
<p>有两种方式使用原始私有文件系统：<a href="https://developer.mozilla.org/docs/Glossary/Main_thread" rel="noopener">主线程</a>或在一个<a href="https://developer.mozilla.org/docs/Web/API/Worker" rel="noopener">网络工作者</a>。 Web Workers 无法阻塞主线程，这意味着在此上下文中 API 可以是同步的，这是主线程上通常不允许的模式。 同步 API 可以更快，因为它们避免了处理 Promise，并且文件操作通常在可编译为 WebAssembly 的 C 语言中是同步的。</p>
<div><pre class="language-c"><code class="language-c"><span class="token comment">// 这是同步 C 代码。</span><br>文件<span class="token operator">*</span>F<span class="token punctuation">;</span><br>F<span class="token operator">=</span> <span class="token function">福彭</span><span class="token punctuation">（</span><span class="token string">“示例.txt”</span><span class="token punctuation">,</span> <span class="token string">“w+”</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token function">输出量</span><span class="token punctuation">（</span><span class="token string">“一些文字\n”</span><span class="token punctuation">,</span>F<span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token function">关闭</span><span class="token punctuation">（</span>F<span class="token punctuation">）</span><span class="token punctuation">;</span></code></pre>
</div><p>如果您需要尽可能最快的文件操作和/或您处理<a href="https://developer.mozilla.org/es/docs/WebAssembly" rel="noopener">网络组装</a>, 跳至<a href="https://example.com/" rel="noopener">在 Web Worker 中使用原始私有文件系统</a>。 否则，您可以继续阅读。</p>
<h2 id="using-the-origin-private-file-system-on-the-main-thread">在主线程上使用原始私有文件系统<a class="headline-link" href="https://web.dev/origin-private-file-system/#using-the-origin-private-file-system-on-the-main-thread">#</a></h2>
<h3 id="creating-new-files-and-folders">创建新文件和文件夹<a class="headline-link" href="https://web.dev/origin-private-file-system/#creating-new-files-and-folders">#</a></h3>
<p>拥有根文件夹后，使用以下命令创建文件和文件夹<a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle/getFileHandle" rel="noopener"><code>获取文件句柄()</code></a>和<a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle/getDirectoryHandle" rel="noopener"><code>获取目录句柄()</code></a>分别方法。 通过传递<a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle/getFileHandle#create" rel="noopener"><code>{创建：真}</code></a>，如果文件或文件夹不存在，则会创建该文件或文件夹。 通过使用新创建的目录作为起点调用这些函数来构建文件层次结构。</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">常量</span>文件句柄<span class="token operator">=</span> <span class="token keyword">等待</span>操作根<br>    <span class="token punctuation">。</span><span class="token function">获取文件句柄</span><span class="token punctuation">（</span><span class="token string">“我的第一个文件”</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">创造</span><span class="token operator">:</span> <span class="token boolean">真的</span><span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token keyword">常量</span>目录句柄<span class="token operator">=</span> <span class="token keyword">等待</span>操作根<br>    <span class="token punctuation">。</span><span class="token function">获取目录句柄</span><span class="token punctuation">（</span><span class="token string">“我的第一个文件夹”</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">创造</span><span class="token operator">:</span> <span class="token boolean">真的</span><span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token keyword">常量</span>嵌套文件句柄<span class="token operator">=</span> <span class="token keyword">等待</span>目录句柄<br>    <span class="token punctuation">。</span><span class="token function">获取文件句柄</span><span class="token punctuation">（</span><span class="token string">'我的第一个嵌套文件'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">创造</span><span class="token operator">:</span> <span class="token boolean">真的</span><span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token keyword">常量</span>嵌套目录句柄<span class="token operator">=</span> <span class="token keyword">等待</span>目录句柄<br>    <span class="token punctuation">。</span><span class="token function">获取目录句柄</span><span class="token punctuation">（</span><span class="token string">“我的第一个嵌套文件夹”</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">创造</span><span class="token operator">:</span> <span class="token boolean">真的</span><span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span></code></pre>
</div><img alt="The resulting file hierarchy from the earlier code sample." decoding="async" height="196" loading="lazy" sizes="(min-width: 438px) 438px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format" srcset="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=876 876w" width="438">
<h3 id="accessing-existing-files-and-folders">访问现有文件和文件夹<a class="headline-link" href="https://web.dev/origin-private-file-system/#accessing-existing-files-and-folders">#</a></h3>
<p>如果您知道他们的名字，请通过调用访问以前创建的文件和文件夹<code>获取文件句柄()</code>或者<code>获取目录句柄()</code>方法，传入文件或文件夹的名称。</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">常量</span>现有文件句柄<span class="token operator">=</span> <span class="token keyword">等待</span>操作根<span class="token punctuation">。</span><span class="token function">获取文件句柄</span><span class="token punctuation">（</span><span class="token string">“我的第一个文件”</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token keyword">常量</span>现有目录句柄<span class="token operator">=</span> <span class="token keyword">等待</span>操作根<br>    <span class="token punctuation">。</span><span class="token function">获取目录句柄</span><span class="token punctuation">（</span>'我的第一个文件夹<span class="token punctuation">）</span><span class="token punctuation">;</span></code></pre>
</div><h3 id="getting-the-file-associated-with-a-file-handle-for-reading">获取与文件句柄关联的文件以供读取<a class="headline-link" href="https://web.dev/origin-private-file-system/#getting-the-file-associated-with-a-file-handle-for-reading">#</a></h3>
<p>A<code>文件系统文件句柄</code>代表文件系统上的一个文件。 获取关联的<code>文件</code>， 使用<a href="https://developer.mozilla.org/docs/Web/API/FileSystemFileHandle/getFile" rel="noopener"><code>获取文件()</code></a>方法。 A<code>文件</code>对象是一种特定的<a href="https://developer.mozilla.org/es/docs/Web/API/Blob" rel="noopener"><code>斑点</code></a>，并且可以在任何上下文中使用<code>斑点</code>能。 尤其，<a href="https://developer.mozilla.org/es/docs/Web/API/FileReader" rel="noopener"><code>文件阅读器</code></a>,<a href="https://developer.mozilla.org/es/docs/Web/API/URL/createObjectURL" rel="noopener"><code>URL.createObjectURL()</code></a>,<a href="https://developer.mozilla.org/es/docs/Web/API/createImageBitmap" rel="noopener"><code>创建图像位图()</code></a>， 和<a href="https://developer.mozilla.org/docs/Web/API/XMLHttpRequest/send" rel="noopener"><code>XMLHttpRequest.send()</code></a>两者都接受<code>斑点</code>和<code>文件</code>。 如果您愿意，获得<code>文件</code>从一个<code>文件系统文件句柄</code>“释放”数据，以便您可以访问它并将其提供给用户可见的文件系统。</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">常量</span>文件<span class="token operator">=</span> <span class="token keyword">等待</span>文件句柄<span class="token punctuation">。</span><span class="token function">获取文件</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>安慰<span class="token punctuation">。</span><span class="token function">日志</span><span class="token punctuation">（</span><span class="token keyword">等待</span>文件<span class="token punctuation">。</span><span class="token function">文本</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">）</span><span class="token punctuation">;</span></code></pre>
</div><h3 id="writing-to-a-file-by-streaming">通过流式写入文件<a class="headline-link" href="https://web.dev/origin-private-file-system/#writing-to-a-file-by-streaming">#</a></h3>
<p>通过调用将数据流式传输到文件中<a href="https://developer.mozilla.org/docs/Web/API/FileSystemFileHandle/createWritable" rel="noopener"><code>创建可写()</code></a>这创建了一个<a href="https://developer.mozilla.org/docs/Web/API/FileSystemWritableFileStream" rel="noopener"><code>文件系统可写文件流</code></a>那么你<a href="https://developer.mozilla.org/docs/Web/API/FileSystemWritableFileStream/write" rel="noopener"><code>写（）</code></a>内容。 最后，你需要<a href="https://developer.mozilla.org/docs/Web/API/WritableStream/close" rel="noopener"><code>关闭（）</code></a>溪流。</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">常量</span>内容<span class="token operator">=</span> <span class="token string">“一些文字”</span><span class="token punctuation">;</span><br><span class="token comment">// 获取可写流。</span><br><span class="token keyword">常量</span>可写<span class="token operator">=</span> <span class="token keyword">等待</span>文件句柄<span class="token punctuation">。</span><span class="token function">创建可写</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token comment">// 将文件内容写入流中。</span><br><span class="token keyword">等待</span>可写<span class="token punctuation">。</span><span class="token function">写</span><span class="token punctuation">（</span>内容<span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token comment">// 关闭保留内容的流。</span><br><span class="token keyword">等待</span>可写<span class="token punctuation">。</span><span class="token function">关闭</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span></code></pre>
</div><h3 id="deleting-files-and-folders">删除文件和文件夹<a class="headline-link" href="https://web.dev/origin-private-file-system/#deleting-files-and-folders">#</a></h3>
<p>通过调用文件或目录句柄的特定删除文件和文件夹<a href="https://developer.mozilla.org/docs/Web/API/FileSystemHandle/remove" rel="noopener"><code>消除（）</code></a>方法。 要删除包含所有子文件夹的文件夹，请传递<a href="https://developer.mozilla.org/docs/Web/API/FileSystemHandle/remove#recursive" rel="noopener"><code>{递归：真}</code></a>选项。</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">等待</span>文件句柄<span class="token punctuation">。</span><span class="token function">消除</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token keyword">等待</span>目录句柄<span class="token punctuation">。</span><span class="token function">消除</span><span class="token punctuation">（</span><span class="token punctuation">{</span><span class="token literal-property property">递归的</span><span class="token operator">:</span> <span class="token boolean">真的</span><span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span></code></pre>
</div><aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">这<code>消除（）</code>该方法目前仅在 Chrome 中实现。 您可以通过以下方式进行功能检测支持<code>FileSystemFileHandle.prototype 中的“删除”</code>。</div></aside>
<p>或者，如果您知道目录中要删除的文件或文件夹的名称，请使用<a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle/removeEntry" rel="noopener"><code>删除条目()</code></a>方法。</p>
<div><pre class="language-js"><code class="language-js">目录句柄<span class="token punctuation">。</span><span class="token function">删除条目</span><span class="token punctuation">（</span><span class="token string">'我的第一个嵌套文件'</span><span class="token punctuation">）</span><span class="token punctuation">;</span></code></pre>
</div><aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">作为一个快速提示，<code>等待 (等待 navigator.storage.getDirectory()).remove({recursive: true})</code>是清除整个原始私有文件系统的最快方法。</div></aside>
<h3 id="moving-and-renaming-files-and-folders">移动和重命名文件和文件夹<a class="headline-link" href="https://web.dev/origin-private-file-system/#moving-and-renaming-files-and-folders">#</a></h3>
<p>使用以下命令重命名和移动文件和文件夹<a href="https://github.com/whatwg/fs/pull/10" rel="noopener"><code>移动（）</code></a>方法。 移动和重命名可以同时进行，也可以单独进行。</p>
<div><pre class="language-js"><code class="language-js"><span class="token comment">// 重命名文件。</span><br><span class="token keyword">等待</span>文件句柄<span class="token punctuation">。</span><span class="token function">移动</span><span class="token punctuation">（</span><span class="token string">“我的第一个重命名文件”</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token comment">// 将文件移动到另一个目录。</span><br><span class="token keyword">等待</span>文件句柄<span class="token punctuation">。</span><span class="token function">移动</span><span class="token punctuation">（</span>嵌套目录句柄<span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token comment">// 将文件移动到另一个目录并重命名。</span><br><span class="token keyword">等待</span>文件句柄<br>    <span class="token punctuation">。</span><span class="token function">移动</span><span class="token punctuation">（</span>嵌套目录句柄<span class="token punctuation">,</span> <span class="token string">“我的第一个重命名文件现在是嵌套文件”</span><span class="token punctuation">）</span><span class="token punctuation">;</span></code></pre>
</div><aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">Chrome 中尚未实现重命名和移动文件夹。 您也无法将文件从原始私有文件系统移动到用户可见的文件系统。 你可以<a href="https://web.dev/origin-private-file-system/#copying-a-file-from-the-origin-private-file-system-to-the-user-visible-file-system">复制</a>不过，他们。</div></aside>
<h3 id="resolving-the-path-of-a-file-or-folder">解析文件或文件夹的路径<a class="headline-link" href="https://web.dev/origin-private-file-system/#resolving-the-path-of-a-file-or-folder">#</a></h3>
<p>要了解给定文件或文件夹相对于参考目录的位置，请使用<a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle/resolve" rel="noopener"><code>解决（）</code></a>方法，传递给它一个<code>文件系统句柄</code>作为论点。 要获取原始私有文件系统中文件或文件夹的完整路径，请使用根目录作为参考目录，通过以下方式获取<code>navigator.storage.getDirectory()</code>。</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">常量</span>相对路径<span class="token operator">=</span> <span class="token keyword">等待</span>操作根<span class="token punctuation">。</span><span class="token function">解决</span><span class="token punctuation">（</span>嵌套目录句柄<span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token comment">// `relativePath` 是 `['我的第一个文件夹', '我的第一个嵌套文件夹']`。</span></code></pre>
</div><h3 id="checking-if-two-file-or-folder-handles-point-to-the-same-file-or-folder">检查两个文件或文件夹句柄是否指向同一个文件或文件夹<a class="headline-link" href="https://web.dev/origin-private-file-system/#checking-if-two-file-or-folder-handles-point-to-the-same-file-or-folder">#</a></h3>
<p>有时您有两个句柄，但不知道它们是否指向同一个文件或文件夹。 要检查是否是这种情况，请使用<a href="https://developer.mozilla.org/docs/Web/API/FileSystemHandle/isSameEntry" rel="noopener"><code>isSameEntry()</code></a>方法。</p>
<div><pre class="language-js"><code class="language-js">文件句柄<span class="token punctuation">。</span><span class="token function">是同一个条目</span><span class="token punctuation">（</span>嵌套文件句柄<span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token comment">// 返回“假”。</span></code></pre>
</div><h2 id="listing-the-contents-of-a-folder">列出文件夹的内容<a class="headline-link" href="https://web.dev/origin-private-file-system/#listing-the-contents-of-a-folder">#</a></h2>
<p><code>文件系统目录句柄</code>是一个<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Iteration_protocols#the_async_iterator_and_async_iterable_protocols" rel="noopener">异步迭代器</a>你用一个迭代<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/for-await...of" rel="noopener"><code>等待…的</code></a>环形。 作为异步迭代器，它还支持<a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle/entries" rel="noopener"><code>条目（）</code></a>， 这<a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle/values" rel="noopener"><code>值（）</code></a>，以及<a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle/keys" rel="noopener"><code>键()</code></a>方法，您可以根据需要的信息进行选择：</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">为了</span> <span class="token keyword">等待</span> <span class="token punctuation">（</span><span class="token keyword">让</span> <span class="token punctuation">[</span>姓名<span class="token punctuation">,</span>处理<span class="token punctuation">]</span> <span class="token keyword">的</span>目录句柄<span class="token punctuation">）</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><br><span class="token keyword">为了</span> <span class="token keyword">等待</span> <span class="token punctuation">（</span><span class="token keyword">让</span> <span class="token punctuation">[</span>姓名<span class="token punctuation">,</span>处理<span class="token punctuation">]</span> <span class="token keyword">的</span>目录句柄<span class="token punctuation">。</span><span class="token function">条目</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><br><span class="token keyword">为了</span> <span class="token keyword">等待</span> <span class="token punctuation">（</span><span class="token keyword">让</span>处理<span class="token keyword">的</span>目录句柄<span class="token punctuation">。</span><span class="token function">价值观</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><br><span class="token keyword">为了</span> <span class="token keyword">等待</span> <span class="token punctuation">（</span><span class="token keyword">让</span>姓名<span class="token keyword">的</span>目录句柄<span class="token punctuation">。</span><span class="token function">键</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre>
</div><h2 id="recursively-listing-the-contents-of-a-folder-and-all-subfolders">递归列出文件夹及其所有子文件夹的内容<a class="headline-link" href="https://web.dev/origin-private-file-system/#recursively-listing-the-contents-of-a-folder-and-all-subfolders">#</a></h2>
<p>处理异步循环和与递归配对的函数很容易出错。 下面的函数可以作为列出文件夹及其所有子文件夹的内容（包括所有文件及其大小）的起点。 如果您不需要文件大小，则可以简化该功能，如其所示<code>DirectoryEntryPromises.push</code>，不推<code>处理.getFile()</code>承诺，但是<code>处理</code>直接地。</p>
<div><pre class="language-js"><code class="language-js">  <span class="token keyword">常量</span>递归获取目录条目<span class="token operator">=</span> <span class="token keyword">异步</span> <span class="token punctuation">（</span><br>目录句柄<span class="token punctuation">,</span><br>相对路径<span class="token operator">=</span> <span class="token string">'.'</span><span class="token punctuation">,</span><br>  <span class="token punctuation">）</span> <span class="token operator">=&amp;gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">常量</span>文件句柄<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token keyword">常量</span>目录句柄<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token keyword">常量</span>条目<span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br>    <span class="token comment">// 获取目录中文件和文件夹的迭代器。</span><br>    <span class="token keyword">常量</span>目录迭代器<span class="token operator">=</span>目录句柄<span class="token punctuation">。</span><span class="token function">价值观</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>    <span class="token keyword">常量</span>目录条目承诺<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token keyword">为了</span> <span class="token keyword">等待</span> <span class="token punctuation">（</span><span class="token keyword">常量</span>处理<span class="token keyword">的</span>目录迭代器<span class="token punctuation">）</span> <span class="token punctuation">{</span><br>      <span class="token keyword">常量</span>嵌套路径<span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>相对路径<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>处理<span class="token punctuation">。</span>姓名<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br>      <span class="token keyword">如果</span> <span class="token punctuation">（</span>处理<span class="token punctuation">。</span>种类<span class="token operator">===</span> <span class="token string">'文件'</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>文件句柄<span class="token punctuation">。</span><span class="token function">推</span><span class="token punctuation">（</span><span class="token punctuation">{</span>处理<span class="token punctuation">,</span>嵌套路径<span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>目录条目承诺<span class="token punctuation">。</span><span class="token function">推</span><span class="token punctuation">（</span><br>处理<span class="token punctuation">。</span><span class="token function">获取文件</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">。</span><span class="token function">然后</span><span class="token punctuation">（</span><span class="token punctuation">（</span><span class="token parameter">文件</span><span class="token punctuation">）</span> <span class="token operator">=&amp;gt;</span> <span class="token punctuation">{</span><br>            <span class="token keyword">返回</span> <span class="token punctuation">{</span><br>              <span class="token literal-property property">姓名</span><span class="token operator">:</span>处理<span class="token punctuation">。</span>姓名<span class="token punctuation">,</span><br>              <span class="token literal-property property">种类</span><span class="token operator">:</span>处理<span class="token punctuation">。</span>种类<span class="token punctuation">,</span><br>              <span class="token literal-property property">尺寸</span><span class="token operator">:</span>文件<span class="token punctuation">。</span>尺寸<span class="token punctuation">,</span><br>              <span class="token literal-property property">类型</span><span class="token operator">:</span>文件<span class="token punctuation">。</span>类型<span class="token punctuation">,</span><br>              <span class="token literal-property property">上一次更改</span><span class="token operator">:</span>文件<span class="token punctuation">。</span>上一次更改<span class="token punctuation">,</span><br>              <span class="token literal-property property">相对路径</span><span class="token operator">:</span>嵌套路径<span class="token punctuation">,</span><br>处理<br>            <span class="token punctuation">}</span><span class="token punctuation">;</span><br>          <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">,</span><br>        <span class="token punctuation">）</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span> <span class="token keyword">别的</span> <span class="token keyword">如果</span> <span class="token punctuation">（</span>处理<span class="token punctuation">。</span>种类<span class="token operator">===</span> <span class="token string">'目录'</span><span class="token punctuation">）</span> <span class="token punctuation">{</span><br>目录句柄<span class="token punctuation">。</span><span class="token function">推</span><span class="token punctuation">（</span><span class="token punctuation">{</span>处理<span class="token punctuation">,</span>嵌套路径<span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>目录条目承诺<span class="token punctuation">。</span><span class="token function">推</span><span class="token punctuation">（</span><br>          <span class="token punctuation">（</span><span class="token keyword">异步</span> <span class="token punctuation">（</span><span class="token punctuation">）</span> <span class="token operator">=&amp;gt;</span> <span class="token punctuation">{</span><br>            <span class="token keyword">返回</span> <span class="token punctuation">{</span><br>              <span class="token literal-property property">姓名</span><span class="token operator">:</span>处理<span class="token punctuation">。</span>姓名<span class="token punctuation">,</span><br>              <span class="token literal-property property">种类</span><span class="token operator">:</span>处理<span class="token punctuation">。</span>种类<span class="token punctuation">,</span><br>              <span class="token literal-property property">相对路径</span><span class="token operator">:</span>嵌套路径<span class="token punctuation">,</span><br>              <span class="token literal-property property">条目</span><span class="token operator">:</span><br>                  <span class="token keyword">等待</span> <span class="token function">递归获取目录条目</span><span class="token punctuation">（</span>处理<span class="token punctuation">,</span>嵌套路径<span class="token punctuation">）</span><span class="token punctuation">,</span><br>处理<span class="token punctuation">,</span><br>            <span class="token punctuation">}</span><span class="token punctuation">;</span><br>          <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">,</span><br>        <span class="token punctuation">）</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">常量</span>目录条目<span class="token operator">=</span> <span class="token keyword">等待</span>承诺<span class="token punctuation">。</span><span class="token function">全部</span><span class="token punctuation">（</span>目录条目承诺<span class="token punctuation">）</span><span class="token punctuation">;</span><br>目录条目<span class="token punctuation">。</span><span class="token function">对于每个</span><span class="token punctuation">（</span><span class="token punctuation">（</span><span class="token parameter">目录项</span><span class="token punctuation">）</span> <span class="token operator">=&amp;gt;</span> <span class="token punctuation">{</span><br>条目<span class="token punctuation">[</span>目录项<span class="token punctuation">。</span>姓名<span class="token punctuation">]</span> <span class="token operator">=</span>目录项<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>    <span class="token keyword">返回</span>条目<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</div><h2 id="using-the-origin-private-file-system-in-a-web-worker">在 Web Worker 中使用原始私有文件系统<a class="headline-link" href="https://web.dev/origin-private-file-system/#using-the-origin-private-file-system-in-a-web-worker">#</a></h2>
<p>如前所述，Web Workers 无法阻止主线程，这就是在这种情况下允许使用同步方法的原因。</p>
<h3 id="getting-a-synchronous-access-handle">获取同步访问句柄<a class="headline-link" href="https://web.dev/origin-private-file-system/#getting-a-synchronous-access-handle">#</a></h3>
<p>最快的文件操作的入口点是<a href="https://developer.mozilla.org/docs/Web/API/FileSystemSyncAccessHandle" rel="noopener"><code>文件系统同步访问句柄</code></a>，从常规获得<a href="https://developer.mozilla.org/docs/Web/API/FileSystemFileHandle" rel="noopener"><code>文件系统文件句柄</code></a>通过致电<a href="https://developer.mozilla.org/docs/Web/API/FileSystemFileHandle/createSyncAccessHandle" rel="noopener"><code>创建同步访问句柄()</code></a>。</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">常量</span>文件句柄<span class="token operator">=</span> <span class="token keyword">等待</span>操作根<br>    <span class="token punctuation">。</span><span class="token function">获取文件句柄</span><span class="token punctuation">（</span><span class="token string">'我的高速文件.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">创造</span><span class="token operator">:</span> <span class="token boolean">真的</span><span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token keyword">常量</span>同步访问句柄<span class="token operator">=</span> <span class="token keyword">等待</span>文件句柄<span class="token punctuation">。</span><span class="token function">创建同步访问句柄</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span></code></pre>
</div><aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">这可能看起来令人困惑，但实际上你得到了一个<em>同步</em> <code>文件系统同步访问句柄</code>从常规的<code>文件系统文件句柄</code>。 另请注意，<code>创建同步访问句柄()</code>方法是<em>异步</em>， 尽管<code>同步</code>以它的名义。</div></aside>
<h3 id="synchronous-in-place-file-methods">同步就地文件方法<a class="headline-link" href="https://web.dev/origin-private-file-system/#synchronous-in-place-file-methods">#</a></h3>
<p>一旦拥有同步访问句柄，您就可以访问所有同步的快速就地文件方法。</p>
<ul>
<li><a href="https://developer.mozilla.org/docs/Web/API/FileSystemSyncAccessHandle/getSize" rel="noopener"><code>获取大小()</code></a>：返回文件的大小（以字节为单位）。</li>
<li><a href="https://developer.mozilla.org/docs/Web/API/FileSystemSyncAccessHandle/write" rel="noopener"><code>写（）</code></a>：将缓冲区的内容写入（可选）给定的偏移量，并返回写入的字节数。 检查返回的写入字节数允许调用者检测和处理错误和部分写入。</li>
<li><a href="https://developer.mozilla.org/docs/Web/API/FileSystemSyncAccessHandle/read" rel="noopener"><code>读（）</code></a>：将文件的内容读入缓冲区，可以选择在给定的偏移量处。</li>
<li><a href="https://developer.mozilla.org/docs/Web/API/FileSystemSyncAccessHandle/truncate" rel="noopener"><code>截短（）</code></a>：将文件大小调整为给定大小。</li>
<li><a href="https://developer.mozilla.org/docs/Web/API/FileSystemSyncAccessHandle/flush" rel="noopener"><code>冲洗（）</code></a>：确保文件的内容包含通过以下方式完成的所有修改<code>写（）</code>。</li>
<li><a href="https://developer.mozilla.org/docs/Web/API/FileSystemSyncAccessHandle/close" rel="noopener"><code>关闭（）</code></a>：关闭访问句柄。</li>
</ul>
<p>这是一个使用上述所有方法的示例。</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">常量</span>操作根<span class="token operator">=</span> <span class="token keyword">等待</span>航海家<span class="token punctuation">。</span>贮存<span class="token punctuation">。</span><span class="token function">获取目录</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token keyword">常量</span>文件句柄<span class="token operator">=</span> <span class="token keyword">等待</span>操作根<span class="token punctuation">。</span><span class="token function">获取文件句柄</span><span class="token punctuation">（</span><span class="token string">'快速地'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">创造</span><span class="token operator">:</span> <span class="token boolean">真的</span><span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token keyword">常量</span>访问句柄<span class="token operator">=</span> <span class="token keyword">等待</span>文件句柄<span class="token punctuation">。</span><span class="token function">创建同步访问句柄</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><br><span class="token keyword">常量</span>文本编码器<span class="token operator">=</span> <span class="token keyword">新的</span> <span class="token class-name">文本编码器</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token keyword">常量</span>文本解码器<span class="token operator">=</span> <span class="token keyword">新的</span> <span class="token class-name">文本解码器</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><br><span class="token comment">// 初始化该变量以获取文件的大小。</span><br><span class="token keyword">让</span>尺寸<span class="token punctuation">;</span><br><span class="token comment">// 文件的当前大小，最初为“0”。</span><br>尺寸<span class="token operator">=</span>访问句柄<span class="token punctuation">。</span><span class="token function">获取大小</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token comment">// 对内容进行编码以写入文件。</span><br><span class="token keyword">常量</span>内容<span class="token operator">=</span>文本编码器<span class="token punctuation">。</span><span class="token function">编码</span><span class="token punctuation">（</span><span class="token string">“一些文字”</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token comment">// 将内容写入文件开头。</span><br>访问句柄<span class="token punctuation">。</span><span class="token function">写</span><span class="token punctuation">（</span>内容<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">在</span><span class="token operator">:</span>尺寸<span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token comment">// 刷新更改。</span><br>访问句柄<span class="token punctuation">。</span><span class="token function">冲水</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token comment">// 文件的当前大小，现在为“9”（“Some text”的长度）。</span><br>尺寸<span class="token operator">=</span>访问句柄<span class="token punctuation">。</span><span class="token function">获取大小</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><br><span class="token comment">// 编码更多内容以写入文件。</span><br><span class="token keyword">常量</span>更多内容<span class="token operator">=</span>文本编码器<span class="token punctuation">。</span><span class="token function">编码</span><span class="token punctuation">（</span><span class="token string">“更多内容”</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token comment">// 将内容写入文件末尾。</span><br>访问句柄<span class="token punctuation">。</span><span class="token function">写</span><span class="token punctuation">（</span>更多内容<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">在</span><span class="token operator">:</span>尺寸<span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token comment">// 刷新更改。</span><br>访问句柄<span class="token punctuation">。</span><span class="token function">冲水</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token comment">// 文件的当前大小，现在为“21”（长度</span><br><span class="token comment">//“一些文本更多内容”）。</span><br>尺寸<span class="token operator">=</span>访问句柄<span class="token punctuation">。</span><span class="token function">获取大小</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><br><span class="token comment">// 准备文件长度的数据视图。</span><br><span class="token keyword">常量</span>数据视图<span class="token operator">=</span> <span class="token keyword">新的</span> <span class="token class-name">数据视图</span><span class="token punctuation">（</span><span class="token keyword">新的</span> <span class="token class-name">数组缓冲区</span><span class="token punctuation">（</span>尺寸<span class="token punctuation">）</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><br><span class="token comment">// 将整个文件读入数据视图。</span><br>访问句柄<span class="token punctuation">。</span><span class="token function">读</span><span class="token punctuation">（</span>数据视图<span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token comment">// 记录`“一些文本更多内容”`。</span><br>安慰<span class="token punctuation">。</span><span class="token function">日志</span><span class="token punctuation">（</span>文本解码器<span class="token punctuation">。</span><span class="token function">解码</span><span class="token punctuation">（</span>数据视图<span class="token punctuation">）</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><br><span class="token comment">// 从偏移量 9 开始读入数据视图。</span><br>访问句柄<span class="token punctuation">。</span><span class="token function">读</span><span class="token punctuation">（</span>数据视图<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">在</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token comment">// 记录“更多内容”。</span><br>安慰<span class="token punctuation">。</span><span class="token function">日志</span><span class="token punctuation">（</span>文本解码器<span class="token punctuation">。</span><span class="token function">解码</span><span class="token punctuation">（</span>数据视图<span class="token punctuation">）</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><br><span class="token comment">// 4 个字节后截断文件。</span><br>访问句柄<span class="token punctuation">。</span><span class="token function">截短</span><span class="token punctuation">（</span><span class="token number">4</span><span class="token punctuation">）</span><span class="token punctuation">;</span></code></pre>
</div><aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">请注意，第一个参数为<code>读（）</code>和<code>写（）</code>是一个<a href="https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer"><code>数组缓冲区</code></a>或一个<code>数组缓冲区视图</code>像一个<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/DataView"><code>数据视图</code></a>。 您不能直接操作 a 的内容<code>数组缓冲区</code>。 相反，您创建其中之一<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/TypedArray">类型化数组对象</a>像一个<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Int8Array"><code>整型8数组</code></a>或一个<code>数据视图</code>对象以特定格式表示缓冲区，并使用它来读取和写入缓冲区的内容。</div></aside>
<h2 id="copying-a-file-from-the-origin-private-file-system-to-the-user-visible-file-system">将文件从原始私有文件系统复制到用户可见文件系统<a class="headline-link" href="https://web.dev/origin-private-file-system/#copying-a-file-from-the-origin-private-file-system-to-the-user-visible-file-system">#</a></h2>
<p>如上所述，无法将文件从原始私有文件系统移动到用户可见的文件系统，但您可以复制文件。 自从<code>显示保存文件选择器()</code>仅暴露在主线程上，但不在 Worker 线程中，请务必在那里运行代码。</p>
<div><pre class="language-js"><code class="language-js"><span class="token comment">// 在主线程上，而不是在 Worker 中。 这假设</span><br><span class="token comment">// `fileHandle` 就是你获取到的 `FileSystemFileHandle`</span><br><span class="token comment">// Worker 中的 `FileSystemSyncAccessHandle`</span><br><span class="token comment">// 线。 一定要先关闭Worker线程中的文件。</span><br><span class="token keyword">常量</span>文件句柄<span class="token operator">=</span> <span class="token keyword">等待</span>操作根<span class="token punctuation">。</span><span class="token function">获取文件句柄</span><span class="token punctuation">（</span><span class="token string">'快速地'</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token keyword">尝试</span> <span class="token punctuation">{</span><br>  <span class="token comment">// 获取用户可见文件系统中新文件的文件句柄</span><br>  <span class="token comment">// 与原始私有文件系统中的文件同名。</span><br>  <span class="token keyword">常量</span>保存句柄<span class="token operator">=</span> <span class="token keyword">等待</span> <span class="token function">显示保存文件选择器</span><span class="token punctuation">（</span><span class="token punctuation">{</span><br>    <span class="token literal-property property">建议名称</span><span class="token operator">:</span>文件句柄<span class="token punctuation">。</span>姓名<span class="token operator">||</span> <span class="token string">”</span><br>  <span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token keyword">常量</span>可写<span class="token operator">=</span> <span class="token keyword">等待</span>保存句柄<span class="token punctuation">。</span><span class="token function">创建可写</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token keyword">等待</span>可写<span class="token punctuation">。</span><span class="token function">写</span><span class="token punctuation">（</span><span class="token keyword">等待</span>文件句柄<span class="token punctuation">。</span><span class="token function">获取文件</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token keyword">等待</span>可写<span class="token punctuation">。</span><span class="token function">关闭</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span> <span class="token keyword">抓住</span> <span class="token punctuation">（</span>呃<span class="token punctuation">）</span> <span class="token punctuation">{</span><br>安慰<span class="token punctuation">。</span><span class="token function">错误</span><span class="token punctuation">（</span>呃<span class="token punctuation">。</span>姓名<span class="token punctuation">,</span>呃<span class="token punctuation">。</span>信息<span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><h2 id="debugging-the-origin-private-file-system">调试原始私有文件系统<a class="headline-link" href="https://web.dev/origin-private-file-system/#debugging-the-origin-private-file-system">#</a></h2>
<p>直到添加内置 DevTools 支持（请参阅<a href="https://crbug.com/1284595" rel="noopener">crbug/1284595</a>）， 使用<a href="https://chrome.google.com/webstore/detail/opfs-explorer/acndjpgkpaclldomagafnognkcgjignd" rel="noopener">OPFS浏览器</a>用于调试原始私有文件系统的 Chrome 扩展。 上面的屏幕截图来自该部分<a href="https://web.dev/origin-private-file-system/#creating-new-files-and-folders">创建新文件和文件夹</a>顺便说一句，是直接从扩展中获取的。</p>
<img alt="The OPFS Explorer Chrome DevTools extension in the Chrome Web Store." decoding="async" height="612" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format" srcset="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=1600 1600w" width="800">
<p>安装扩展程序后，打开 Chrome DevTools，选择<strong>OPFS浏览器</strong>选项卡，然后您就可以检查文件层次结构了。 通过单击文件名将文件从原始私有文件系统保存到用户可见的文件系统，并通过单击垃圾桶图标删除文件和文件夹。</p>
<h2 id="demo">演示<a class="headline-link" href="https://web.dev/origin-private-file-system/#demo">#</a></h2>
<p>查看正在运行的原始私有文件系统（如果您安装了 OPFS Explorer 扩展）<a href="https://sqlite-wasm-opfs.glitch.me/" rel="noopener">演示</a>使用它作为编译为 WebAssembly 的 SQLite 数据库的后端。 请务必查看<a href="https://glitch.com/edit/#!/sqlite-wasm-opfs" rel="noopener">Glitch 上的源代码</a>。 请注意，下面的嵌入版本不使用原始私有文件系统后端（因为 iframe 是跨域的），但是当您在单独的选项卡中打开演示时，它会使用原始私有文件系统后端。</p>
<div class="glitch-embed-wrap" style="height: 420px; width: 100%;">
  <iframe allow="camera; clipboard-read; clipboard-write; encrypted-media; geolocation; microphone; midi" loading="lazy" src="https://glitch.com/embed/#!/embed/sqlite-wasm-opfs?attributionHidden=true&amp;sidebarCollapsed=true&amp;previewSize=100" style="height: 100%; width: 100%; border: 0;" title="sqlite-wasm-opfs on Glitch"></iframe>
</div>
<h2 id="conclusions">结论<a class="headline-link" href="https://web.dev/origin-private-file-system/#conclusions">#</a></h2>
<p>WHATWG 指定的原始私有文件系统塑造了我们在网络上使用文件和与之交互的方式。 它实现了用户可见文件系统无法实现的新用例。 所有主要浏览器供应商——Apple、Mozilla 和 Google——都参与其中并拥有共同的愿景。 原始私有文件系统的开发在很大程度上是一项协作工作，开发人员和用户的反馈对其进展至关重要。 随着我们不断完善和改进标准，反馈<a href="https://github.com/whatwg/fs" rel="noopener">Whatwg/fs 存储库</a>欢迎以问题或请求请求的形式提出。</p>
<h2 id="related-links">相关链接<a class="headline-link" href="https://web.dev/origin-private-file-system/#related-links">#</a></h2>
<ul>
<li><a href="https://fs.spec.whatwg.org/" rel="noopener">文件系统标准规范</a></li>
<li><a href="https://github.com/whatwg/fs" rel="noopener">文件系统标准存储库</a></li>
<li><a href="https://webkit.org/blog/12257/the-file-system-access-api-with-origin-private-file-system/" rel="noopener">带有 Origin 私有文件系统 WebKit 的文件系统 API 帖子</a></li>
<li><a href="https://chrome.google.com/webstore/detail/opfs-explorer/acndjpgkpaclldomagafnognkcgjignd" rel="noopener">OPFS 资源管理器扩展</a></li>
</ul>
<h2 id="acknowledgements">致谢<a class="headline-link" href="https://web.dev/origin-private-file-system/#acknowledgements">#</a></h2>
<p>这篇文章的评论者是<a href="https://github.com/a-sully" rel="noopener">奥斯汀·萨利</a>,<a href="https://ca.linkedin.com/in/enoel19" rel="noopener">艾蒂安·诺尔</a>， 和<a href="https://rachelandrew.co.uk/" rel="noopener">雷切尔·安德鲁</a>。 英雄形象由<a href="https://unsplash.com/@rumpf" rel="noopener">克里斯蒂娜·伦普夫</a>在<a href="https://unsplash.com/photos/XWDMmk-yW7Q" rel="noopener">未飞溅</a>。</p>
<hr><aside class="aside flow bg-state-good-bg color-state-good-text"><p class="cluster "><span class="aside__icon box-block "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" style="enable-background:new 0 0 128 128" xml:space="preserve"><path d="M7.5 123.3c2.2 2.4 11.6-1.9 19-5.3C32 115.4 54 106.3 65 101.6c3-1.2 7.3-2.9 10.4-7 2.8-3.6 10-19-4.6-34.7-15-16-30.4-11.5-36.2-7.5A28.5 28.5 0 0 0 27.3 63c-5.2 11.6-12.7 32.9-15.7 41.3-2.3 6.1-6.4 16.5-4.1 19z" fill="currentColor"></path><path d="M18 86.8s.7 6.5 6.1 14.6c6.3 9.6 15 11.2 15 11.2l-5.8 2.4s-6.5-2-12.7-10.4c-3.8-5.3-5-11.6-5-11.6l2.3-6.2zm-5.6 15.4s1.5 5.6 4.7 9.7c3.8 5 8.6 6.5 8.6 6.5l-4.5 2s-3.3-.8-7-5.5c-2.9-3.5-3.7-7.6-3.7-7.6l1.9-5.1z" fill="currentColor"></path><path d="M10 116.4c-.2-.5-.2-1 0-1.4l25.4-53 4.2 16-26.8 38.7c-.7 1-2.3 1-2.8-.2z" style="opacity:.44" fill="currentColor"></path><path d="M41.6 83.2c12 14 25.5 12.2 30 8.6 4.5-3.5 8.1-15.6-3.7-29.3C55.3 48.2 41.3 52.2 38 55.3s-7.4 15.1 3.5 27.9z" style="fill: var(--color-state-good-bg);"></path><path d="M82.5 89c-4.3-3.7-6.6-3-9.7-1.8a26 26 0 0 1-18.9 0l2.6-6.2c5 1.7 8.7 1 12-1 4-2.4 9.6-5.6 18.3 1.6 3.6 3 7.3 5.1 10 4.2 2-.7 3-3.6 3.6-6l.2-1.3c.4-3.7 1.2-11.6 7.1-15.7 6.4-4.3 13-4.3 13-4.3l1.2 12c-3-.5-5.2.1-7 1-6.7 3.8-.8 18.2-11.3 23-10.1 4.8-18.4-3.3-21-5.6zM45.4 73.7l-4.3-3.9c8-8.9 5.8-15.4 4.3-20.2A26.4 26.4 0 0 1 44 38.8c-3-3.8-4.4-7.8-4.5-8-1.9-5.7-.5-11.2 2.8-16.4C48.7 4 60.5 4 60.5 4l4 10.5c-3-.1-12.8 0-15.8 4.8-3.8 6-1.3 9.6-1.2 10 .8-1 1.5-1.7 2.2-2.3 4.8-4.2 9-4.8 11.6-4.6a11 11 0 0 1 7.6 4.2c2 2.7 3 6.2 2.3 9.4a11 11 0 0 1-5.8 7.4 16 16 0 0 1-13 1.5v.3l.6 2c1.8 5.4 5 14.1-7.6 26.5zm7.4-37.5c.5.4 1.1.8 1.8 1 2 .8 4.4.6 7-.8 1.5-.9 1.7-1.7 1.7-2 .2-.9 0-2-.7-2.8a2.8 2.8 0 0 0-2-1.2c-1.6-.2-3.6.8-5.6 2.6-1 .9-1.7 2-2.3 3.2zm10 39.1-6.2-.1s3-16.7 12.5-19.5c1.8-.5 3.7-1 5.7-1.3l4-.8c.1-1.6-.5-3.6-1.3-5.9-.6-1.7-1.2-3.5-1.5-5.5-.6-3.9.4-7.3 3-9.6 3-2.9 7.9-3.8 13.4-2.5 3.2.7 5.5 2.2 7.6 3.6 2.9 2 4.6 3 8.2.5 4.3-2.9-1.4-14.3-4.4-21l11.3-4.6c1.5 3.3 8.8 20.3 4 30a11.5 11.5 0 0 1-8.1 6.2c-8 1.8-12.6-1.3-16-3.6-1.6-1-3-1.9-4.6-2.3-10.6-3 4.2 12.6-2.7 19.6-4.2 4.2-14.4 5.3-15 5.5-6.6 1.6-10 11.3-10 11.3z" fill="currentColor"></path><path d="M44 38.8c-.2 2.2-.3 3.5.3 6.4 2.7 2 8.7 2 8.7 2l-.6-2v-.3c-6.1-3-8.4-6.1-8.4-6.1zm-12.5 9.8-10.3-5 5.1-7.5 8.2 5.4zm-15.2-14A26 26 0 0 1 5 28.9l5.2-6c1.6 1.2 5 3.5 7.2 3.8l-1.1 7.9zM25.6 21.3 18 18.8a18 18 0 0 0 .7-8.3l7.9-1.3c.6 4 .3 8.2-1 12zM73 15.3l7.9-1.7L83 23.9l-7.8 1.7zM92.5 17.8 87 12c2.8-2.8 3.5-6.3 3.5-6.4L98.4 7c-.1.6-1.1 6.3-6 10.9zM95.5 48.6l7-2.2 2.3 7.7-7 2.1zM97.5 113l-7.9-1c.3-2.7-1.8-6.2-2.4-7l6.4-4.8c.5.6 4.7 6.4 4 12.8zM120.4 102.9c-3-.5-6-.6-9.1-.5l-.3-8c3.5-.2 7 0 10.6.6l-1.2 7.9zM109.6 113.9l5.6-5.7 7.8 7.6-5.6 5.7zM93.1 63.3 99 70l-6.6 5.8-5.8-6.6z" fill="currentColor"></path></svg> </span><strong>Celebration</strong></p><div class=" flow"> The origin private file system allows web apps to store and manipulate files in their very own origin-specific virtual filesystem, including low-level file manipulation, byte-by-byte access, and file streaming. The origin private file system is supported across all major browsers. </div></aside>
<h2 id="browser-support">Browser support <a class="headline-link" href="https://web.dev/origin-private-file-system/#browser-support">#</a></h2>
<p>The origin private file system is supported by modern browsers and is standardized by the Web Hypertext Application Technology Working Group (<a href="https://whatwg.org/" rel="noopener">WHATWG</a>) in the <a href="https://fs.spec.whatwg.org/" rel="noopener">File System Living Standard</a>.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 86, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      86
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 111, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">Edge 86, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      86
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 15.2, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      15.2
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/API/StorageManager/getDirectory#browser_compatibility" target="_blank">Source</a>
</div>
<h2 id="motivation">Motivation <a class="headline-link" href="https://web.dev/origin-private-file-system/#motivation">#</a></h2>
<p>When you think of files on your computer, you probably think about a file hierarchy: files organized in folders that you can explore with your operating system's file explorer. For example, on Windows, for a user called Tom, their To Do list might live in <code>C:\Users\Tom\Documents\ToDo.txt</code>. In this example, <code>ToDo.txt</code> is the file name, and <code>Users</code>, <code>Tom</code>, and <code>Documents</code> are folder names. <code>C:\</code> on Windows  represents the root directory of the drive.</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> In this article, I use the terms <em>folder</em> and <em>directory</em> interchangeably, disregarding the difference between the file system concept (directory) and the graphical user interface <a href="https://en.wikipedia.org/wiki/Directory_%28computing%29#Folder_metaphor">metaphor</a> (folder). </div></aside>
<h3 id="traditional-way-of-working-with-files-on-the-web">Traditional way of working with files on the web <a class="headline-link" href="https://web.dev/origin-private-file-system/#traditional-way-of-working-with-files-on-the-web">#</a></h3>
<p>To edit the To Do list in a web application, this is the traditional flow:</p>
<ol>
<li>The user <em>uploads</em> the file to a server or <em>opens</em> it on the client with <a href="https://developer.mozilla.org/docs/Web/HTML/Element/input/file" rel="noopener"><code>&lt;input type="file"&gt;</code></a>.</li>
<li>The user makes their changes, and then <em>downloads</em> the resulting file with an injected <a href="https://developer.mozilla.org/docs/Web/API/HTMLAnchorElement/download" rel="noopener"><code>&lt;a download="ToDo.txt&gt;</code></a> that you programmatically <a href="https://developer.mozilla.org/docs/Web/API/HTMLElement/click" rel="noopener"><code>click()</code></a> via JavaScript.</li>
<li>For opening folders, you use a special attribute in <a href="https://developer.mozilla.org/docs/Web/API/HTMLInputElement/webkitdirectory" rel="noopener"><code>&lt;input type="file" webkitdirectory&gt;</code></a>, which, despite its proprietary name, has practically universal browser support.</li>
</ol>
<h3 id="modern-way-of-working-with-files-on-the-web">Modern way of working with files on the web <a class="headline-link" href="https://web.dev/origin-private-file-system/#modern-way-of-working-with-files-on-the-web">#</a></h3>
<p>This flow is not representative of how users think of editing files, and means users end up with downloaded <em>copies</em> of their input files. Therefore,  the File System Access API introduced three picker methods—<a href="https://developer.mozilla.org/docs/Web/API/Window/showOpenFilePicker" rel="noopener"><code>showOpenFilePicker()</code></a>, <a href="https://developer.mozilla.org/docs/Web/API/Window/showSaveFilePicker" rel="noopener"><code>showSaveFilePicker()</code></a>, and <a href="https://developer.mozilla.org/docs/Web/API/Window/showDirectoryPicker" rel="noopener"><code>showDirectoryPicker()</code></a>—that do exactly what their name suggests. They enable a flow as follows:</p>
<ol>
<li>Open <code>ToDo.txt</code> with <code>showOpenFilePicker()</code>, and get a <a href="https://developer.mozilla.org/docs/Web/API/FileSystemFileHandle" rel="noopener"><code>FileSystemFileHandle</code></a> object.</li>
<li>From the <code>FileSystemFileHandle</code> object, get a <a href="https://developer.mozilla.org/docs/Web/API/File" rel="noopener"><code>File</code></a> by calling the file handle's <a href="https://developer.mozilla.org/docs/Web/API/FileSystemFileHandle/getFile" rel="noopener"><code>getFile()</code></a> method.</li>
<li>Modify the file, then call <a href="https://developer.mozilla.org/docs/Web/API/FileSystemHandle/requestPermission" rel="noopener"><code>requestPermission({mode: 'readwrite'})</code></a> on the handle.</li>
<li>If the user accepts the permission request, save the changes back to the original file.</li>
<li>Alternatively, call <code>showSaveFilePicker()</code> and let the user pick a new file. (If the user picks a previously opened file, its contents will be overwritten.) For repeat saves, you can keep the file handle around, so you don't have to show the file save dialog again.</li>
</ol>
<h3 id="restrictions-of-working-with-files-on-the-web">Restrictions of working with files on the web <a class="headline-link" href="https://web.dev/origin-private-file-system/#restrictions-of-working-with-files-on-the-web">#</a></h3>
<p>Files and folders that are accessible via these methods live in what can be called the <em>user-visible</em> file system. Files saved from the web, and executable files specifically, are marked with the <a href="https://textslashplain.com/2016/04/04/downloads-and-the-mark-of-the-web/" rel="noopener">mark of the web</a>, so there's an additional warning the operating system can show before a potentially dangerous file gets executed. As an additional security feature, files obtained from the web are also protected by <a href="https://safebrowsing.google.com/" rel="noopener">Safe Browsing</a>, which, for the sake of simplicity and in the context of this article, you can think of as a cloud-based virus scan. When you write data to a file using the File System Access API, writes are  not in-place, but use a temporary file. The file itself is not modified unless it passes all these security checks. As you can imagine, this work makes file operations relatively slow, despite improvements applied where possible, for example, <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=1413443" rel="noopener">on macOS</a>. Still every <a href="https://developer.mozilla.org/docs/Web/API/FileSystemWritableFileStream/write" rel="noopener"><code>write()</code></a> call is self-contained, so under the hood it opens the file, seeks to the given offset, and finally writes data.</p>
<h3 id="files-as-the-foundation-of-processing">Files as the foundation of processing <a class="headline-link" href="https://web.dev/origin-private-file-system/#files-as-the-foundation-of-processing">#</a></h3>
<p>At the same time, files are an excellent way to record data. For example, <a href="https://www.sqlite.org/" rel="noopener">SQLite</a> stores entire databases in a single file. Another example are <a href="https://en.wikipedia.org/wiki/Mipmap" rel="noopener">mipmaps</a> used in image processing. Mipmaps are pre-calculated, optimized sequences of images, each of which is a progressively lower resolution representation of the previous, which makes many operations like zooming faster. So how can web applications get the benefits of files, but without the performance costs of traditional web-based file processing? The answer is the <em>origin private file system</em>.</p>
<h2 id="the-user-visible-versus-the-origin-private-file-system">The user-visible versus the origin private file system <a class="headline-link" href="https://web.dev/origin-private-file-system/#the-user-visible-versus-the-origin-private-file-system">#</a></h2>
<p>Unlike the user-visible file system browsed via the operating system's file explorer, with files and folders you can read, write, move, and rename, the origin private file system is not meant to be seen by users. Files and folders in the origin private file system, as the name suggests, are private, and more concretely, private to the <a href="https://developer.mozilla.org/docs/Glossary/Origin" rel="noopener">origin</a> of a site. Discover the origin of a page by typing <a href="https://developer.mozilla.org/docs/Web/API/Location/origin" rel="noopener"><code>location.origin</code></a> in the DevTools Console. For example, the origin of the page <code>https://developer.chrome.com/articles/</code> is <code>https://developer.chrome.com</code> (that is, the part <code>/articles</code> is <em>not</em> part of the origin). You can read more about the theory of origins in <a href="https://web.dev/same-site-same-origin/#origin">Understanding "same-site" and "same-origin"</a>. All pages that share the same origin can see the same origin private file system data, so <code>https://developer.chrome.com/docs/extensions/mv3/getstarted/extensions-101/</code> can see the same details as the previous example. Each origin has its own independent origin private file system, which means the origin private file system of <code>https://developer.chrome.com</code> is completely distinct from the one of, say, <a href="https://web.dev/"><code>https://web.dev</code></a>. On Windows, the root directory of the user-visible file system is <code>C:\</code>. The equivalent for the origin private file system is an initially empty root directory per origin accessed by calling the asynchronous method <a href="https://developer.mozilla.org/docs/Web/API/StorageManager/getDirectory" rel="noopener"><code>navigator.storage.getDirectory()</code></a>. For a comparison of the user-visible file system and the origin private file system, see the following diagram. The diagram shows that apart from the root directory, everything else is conceptually the same, with a hierarchy of files and folders to organize and arrange as needed for your data and storage needs.</p>
<img alt="Diagram of the user-visible file system and the origin private file system with two exemplary file hierarchies. The entry point for the user-visible file system is a symbolic harddisk, the entry point for the origin private file system is calling of the method 'navigator.storage.getDirectory'." decoding="async" height="722" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format" srcset="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/xej6CL5VFJuGJgXPkeKJ.png?auto=format&amp;w=1600 1600w" width="800">
<h2 id="specifics-of-the-origin-private-file-system">Specifics of the origin private file system <a class="headline-link" href="https://web.dev/origin-private-file-system/#specifics-of-the-origin-private-file-system">#</a></h2>
<p>Just like other storage mechanisms in the browser (for example, <a href="https://developer.mozilla.org/docs/Web/API/Window/localStorage" rel="noopener">localStorage</a> or <a href="https://developer.mozilla.org/docs/Web/API/IndexedDB_API/Using_IndexedDB" rel="noopener">IndexedDB</a>), the origin private file system is subject to browser quota restrictions. When a user <a href="https://support.google.com/chrome/answer/2392709" rel="noopener">clears all browsing data</a> or <a href="https://developer.chrome.com/docs/devtools/storage/cache/#deletecache" rel="noopener">all site data</a>, the origin private file system will be deleted, too. Call <a href="https://developer.mozilla.org/docs/Web/API/StorageManager/estimate" rel="noopener"><code>navigator.storage.estimate()</code></a> and in the resulting response object see the <a href="https://developer.mozilla.org/docs/Web/API/StorageManager/estimate#usage" rel="noopener"><code>usage</code></a> entry to see how much storage your app already consumes, which is broken down by storage mechanism in the <a href="https://developer.mozilla.org/docs/Web/API/StorageManager/estimate#usagedetails" rel="noopener"><code>usageDetails</code></a> object, where you want to look at the <code>fileSystem</code> entry specifically. Since the origin private file system is not visible to the user, there are no permissions prompts and no Safe Browsing checks.</p>
<h2 id="getting-access-to-the-root-directory">Getting access to the root directory <a class="headline-link" href="https://web.dev/origin-private-file-system/#getting-access-to-the-root-directory">#</a></h2>
<p>To get access to the root directory, run the command below. You end up with an empty directory handle, more specifically, a <a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle" rel="noopener"><code>FileSystemDirectoryHandle</code></a>.</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> opfsRoot <span class="token operator">=</span> <span class="token keyword">await</span> navigator<span class="token punctuation">.</span>storage<span class="token punctuation">.</span><span class="token function">getDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// A FileSystemDirectoryHandle whose type is "directory"</span><br><span class="token comment">// and whose name is "".</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>opfsRoot<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div><h2 id="main-thread-or-web-worker">Main thread or Web Worker <a class="headline-link" href="https://web.dev/origin-private-file-system/#main-thread-or-web-worker">#</a></h2>
<p>There are two ways of using the origin private file system: on the <a href="https://developer.mozilla.org/docs/Glossary/Main_thread" rel="noopener">main thread</a> or in a <a href="https://developer.mozilla.org/docs/Web/API/Worker" rel="noopener">Web Worker</a>. Web Workers cannot block the main thread, which means in this context APIs can be synchronous, a pattern generally disallowed on the main thread. Synchronous APIs can be faster as they avoid having to deal with promises, and file operations are typically synchronous in languages like C that can be compiled to WebAssembly.</p>
<div><pre class="language-c"><code class="language-c"><span class="token comment">// This is synchronous C code.</span><br>FILE <span class="token operator">*</span>f<span class="token punctuation">;</span><br>f <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"example.txt"</span><span class="token punctuation">,</span> <span class="token string">"w+"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">fputs</span><span class="token punctuation">(</span><span class="token string">"Some text\n"</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">fclose</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div><p>If you need the fastest possible file operations and/or you deal with <a href="https://developer.mozilla.org/es/docs/WebAssembly" rel="noopener">WebAssembly</a>, skip down to <a href="https://example.com/" rel="noopener">Using the origin private file system in a Web Worker</a>. Else, you can read on.</p>
<h2 id="using-the-origin-private-file-system-on-the-main-thread">Using the origin private file system on the main thread <a class="headline-link" href="https://web.dev/origin-private-file-system/#using-the-origin-private-file-system-on-the-main-thread">#</a></h2>
<h3 id="creating-new-files-and-folders">Creating new files and folders <a class="headline-link" href="https://web.dev/origin-private-file-system/#creating-new-files-and-folders">#</a></h3>
<p>Once you have a root folder, create files and folders using the <a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle/getFileHandle" rel="noopener"><code>getFileHandle()</code></a> and the <a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle/getDirectoryHandle" rel="noopener"><code>getDirectoryHandle()</code></a> methods respectively. By passing <a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle/getFileHandle#create" rel="noopener"><code>{create: true}</code></a>, the file or folder will be created if it doesn't exist. Build up a hierarchy of files by calling these functions using a newly created directory as the starting point.</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> fileHandle <span class="token operator">=</span> <span class="token keyword">await</span> opfsRoot<br>    <span class="token punctuation">.</span><span class="token function">getFileHandle</span><span class="token punctuation">(</span><span class="token string">'my first file'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">create</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> directoryHandle <span class="token operator">=</span> <span class="token keyword">await</span> opfsRoot<br>    <span class="token punctuation">.</span><span class="token function">getDirectoryHandle</span><span class="token punctuation">(</span><span class="token string">'my first folder'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">create</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> nestedFileHandle <span class="token operator">=</span> <span class="token keyword">await</span> directoryHandle<br>    <span class="token punctuation">.</span><span class="token function">getFileHandle</span><span class="token punctuation">(</span><span class="token string">'my first nested file'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">create</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> nestedDirectoryHandle <span class="token operator">=</span> <span class="token keyword">await</span> directoryHandle<br>    <span class="token punctuation">.</span><span class="token function">getDirectoryHandle</span><span class="token punctuation">(</span><span class="token string">'my first nested folder'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">create</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div><img alt="The resulting file hierarchy from the earlier code sample." decoding="async" height="196" loading="lazy" sizes="(min-width: 438px) 438px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format" srcset="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VtWQ4T2a1gph0kFzhRwN.png?auto=format&amp;w=876 876w" width="438">
<h3 id="accessing-existing-files-and-folders">Accessing existing files and folders <a class="headline-link" href="https://web.dev/origin-private-file-system/#accessing-existing-files-and-folders">#</a></h3>
<p>If you know their name, access previously created files and folders by calling the <code>getFileHandle()</code> or the <code>getDirectoryHandle()</code> methods, passing in the name of the file or folder.</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> existingFileHandle <span class="token operator">=</span> <span class="token keyword">await</span> opfsRoot<span class="token punctuation">.</span><span class="token function">getFileHandle</span><span class="token punctuation">(</span><span class="token string">'my first file'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> existingDirectoryHandle <span class="token operator">=</span> <span class="token keyword">await</span> opfsRoot<br>    <span class="token punctuation">.</span><span class="token function">getDirectoryHandle</span><span class="token punctuation">(</span>'my first folder<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div><h3 id="getting-the-file-associated-with-a-file-handle-for-reading">Getting the file associated with a file handle for reading <a class="headline-link" href="https://web.dev/origin-private-file-system/#getting-the-file-associated-with-a-file-handle-for-reading">#</a></h3>
<p>A <code>FileSystemFileHandle</code> represents a file on the file system. To obtain the associated <code>File</code>, use the <a href="https://developer.mozilla.org/docs/Web/API/FileSystemFileHandle/getFile" rel="noopener"><code>getFile()</code></a> method. A <code>File</code> object is a specific kind of <a href="https://developer.mozilla.org/es/docs/Web/API/Blob" rel="noopener"><code>Blob</code></a>, and can be used in any context that a <code>Blob</code> can. In particular, <a href="https://developer.mozilla.org/es/docs/Web/API/FileReader" rel="noopener"><code>FileReader</code></a>, <a href="https://developer.mozilla.org/es/docs/Web/API/URL/createObjectURL" rel="noopener"><code>URL.createObjectURL()</code></a>, <a href="https://developer.mozilla.org/es/docs/Web/API/createImageBitmap" rel="noopener"><code>createImageBitmap()</code></a>, and <a href="https://developer.mozilla.org/docs/Web/API/XMLHttpRequest/send" rel="noopener"><code>XMLHttpRequest.send()</code></a> accept both <code>Blobs</code> and <code>Files</code>. If you will, obtaining a <code>File</code> from a <code>FileSystemFileHandle</code> "frees" the data, so you can access it and make it available to the user-visible file system.</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword">await</span> fileHandle<span class="token punctuation">.</span><span class="token function">getFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> file<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div><h3 id="writing-to-a-file-by-streaming">Writing to a file by streaming <a class="headline-link" href="https://web.dev/origin-private-file-system/#writing-to-a-file-by-streaming">#</a></h3>
<p>Stream data into a file by calling <a href="https://developer.mozilla.org/docs/Web/API/FileSystemFileHandle/createWritable" rel="noopener"><code>createWritable()</code></a> which creates a <a href="https://developer.mozilla.org/docs/Web/API/FileSystemWritableFileStream" rel="noopener"><code>FileSystemWritableFileStream</code></a> to that you then <a href="https://developer.mozilla.org/docs/Web/API/FileSystemWritableFileStream/write" rel="noopener"><code>write()</code></a> the contents. At the end, you need to <a href="https://developer.mozilla.org/docs/Web/API/WritableStream/close" rel="noopener"><code>close()</code></a> the stream.</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> contents <span class="token operator">=</span> <span class="token string">'Some text'</span><span class="token punctuation">;</span><br><span class="token comment">// Get a writable stream.</span><br><span class="token keyword">const</span> writable <span class="token operator">=</span> <span class="token keyword">await</span> fileHandle<span class="token punctuation">.</span><span class="token function">createWritable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Write the contents of the file to the stream.</span><br><span class="token keyword">await</span> writable<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Close the stream, which persists the contents.</span><br><span class="token keyword">await</span> writable<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div><h3 id="deleting-files-and-folders">Deleting files and folders <a class="headline-link" href="https://web.dev/origin-private-file-system/#deleting-files-and-folders">#</a></h3>
<p>Delete files and folders by calling their file or directory handle's particular <a href="https://developer.mozilla.org/docs/Web/API/FileSystemHandle/remove" rel="noopener"><code>remove()</code></a> method. To delete a folder including all subfolders, pass the <a href="https://developer.mozilla.org/docs/Web/API/FileSystemHandle/remove#recursive" rel="noopener"><code>{recursive: true}</code></a> option.</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">await</span> fileHandle<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">await</span> directoryHandle<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">recursive</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div><aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> The <code>remove()</code> method is currently only implemented in Chrome. You can feature-detect support via <code>'remove' in FileSystemFileHandle.prototype</code>. </div></aside>
<p>As an alternative, if you know the name of the to-be-deleted file or folder in a directory, use the <a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle/removeEntry" rel="noopener"><code>removeEntry()</code></a> method.</p>
<div><pre class="language-js"><code class="language-js">directoryHandle<span class="token punctuation">.</span><span class="token function">removeEntry</span><span class="token punctuation">(</span><span class="token string">'my first nested file'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div><aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> As a quick tip, <code>await (await navigator.storage.getDirectory()).remove({recursive: true})</code> is the fastest way to clear the entire origin private file system. </div></aside>
<h3 id="moving-and-renaming-files-and-folders">Moving and renaming files and folders <a class="headline-link" href="https://web.dev/origin-private-file-system/#moving-and-renaming-files-and-folders">#</a></h3>
<p>Rename and move files and folders using the <a href="https://github.com/whatwg/fs/pull/10" rel="noopener"><code>move()</code></a> method. Moving and renaming can happen together or in isolation.</p>
<div><pre class="language-js"><code class="language-js"><span class="token comment">// Rename a file.</span><br><span class="token keyword">await</span> fileHandle<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token string">'my first renamed file'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Move a file to another directory.</span><br><span class="token keyword">await</span> fileHandle<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>nestedDirectoryHandle<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Move a file to another directory and rename it.</span><br><span class="token keyword">await</span> fileHandle<br>    <span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>nestedDirectoryHandle<span class="token punctuation">,</span> <span class="token string">'my first renamed and now nested file'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div><aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> Renaming and moving folders is not implemented yet in Chrome. You also can't move files from the origin private file system to the user-visible file system. You can <a href="https://web.dev/origin-private-file-system/#copying-a-file-from-the-origin-private-file-system-to-the-user-visible-file-system">copy</a> them, though. </div></aside>
<h3 id="resolving-the-path-of-a-file-or-folder">Resolving the path of a file or folder <a class="headline-link" href="https://web.dev/origin-private-file-system/#resolving-the-path-of-a-file-or-folder">#</a></h3>
<p>To learn where a given file or folder is located  in relation to a reference directory, use the <a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle/resolve" rel="noopener"><code>resolve()</code></a> method, passing it a <code>FileSystemHandle</code> as the argument. To obtain the full path of a file or folder in the origin private file system, use the root directory as the reference directory obtained via <code>navigator.storage.getDirectory()</code>.</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> relativePath <span class="token operator">=</span> <span class="token keyword">await</span> opfsRoot<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>nestedDirectoryHandle<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// `relativePath` is `['my first folder', 'my first nested folder']`.</span></code></pre>
</div><h3 id="checking-if-two-file-or-folder-handles-point-to-the-same-file-or-folder">Checking if two file or folder handles point to the same file or folder <a class="headline-link" href="https://web.dev/origin-private-file-system/#checking-if-two-file-or-folder-handles-point-to-the-same-file-or-folder">#</a></h3>
<p>Sometimes you have two handles and don't know if they point at the same file or folder. To check whether this is the case, use the <a href="https://developer.mozilla.org/docs/Web/API/FileSystemHandle/isSameEntry" rel="noopener"><code>isSameEntry()</code></a> method.</p>
<div><pre class="language-js"><code class="language-js">fileHandle<span class="token punctuation">.</span><span class="token function">isSameEntry</span><span class="token punctuation">(</span>nestedFileHandle<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Returns `false`.</span></code></pre>
</div><h2 id="listing-the-contents-of-a-folder">Listing the contents of a folder <a class="headline-link" href="https://web.dev/origin-private-file-system/#listing-the-contents-of-a-folder">#</a></h2>
<p><code>FileSystemDirectoryHandle</code> is an <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Iteration_protocols#the_async_iterator_and_async_iterable_protocols" rel="noopener">asynchronous iterator</a> that you iterate over with a <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/for-await...of" rel="noopener"><code>for await…of</code></a> loop. As an asynchronous iterator, it also supports the <a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle/entries" rel="noopener"><code>entries()</code></a>, the <a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle/values" rel="noopener"><code>values()</code></a>, and the <a href="https://developer.mozilla.org/docs/Web/API/FileSystemDirectoryHandle/keys" rel="noopener"><code>keys()</code></a> methods, from which you can choose depending on what information you need:</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> handle<span class="token punctuation">]</span> <span class="token keyword">of</span> directoryHandle<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><br><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> handle<span class="token punctuation">]</span> <span class="token keyword">of</span> directoryHandle<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><br><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">let</span> handle <span class="token keyword">of</span> directoryHandle<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><br><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">let</span> name <span class="token keyword">of</span> directoryHandle<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre>
</div><h2 id="recursively-listing-the-contents-of-a-folder-and-all-subfolders">Recursively listing the contents of a folder and all subfolders <a class="headline-link" href="https://web.dev/origin-private-file-system/#recursively-listing-the-contents-of-a-folder-and-all-subfolders">#</a></h2>
<p>Dealing with asynchronous loops and functions paired with recursion is easy to get wrong. The function below can serve as a starting point for listing the contents of a folder and all its subfolders, including all files and their sizes. You can simplify the function if you don't need the file sizes by, where it says <code>directoryEntryPromises.push</code>, not pushing the <code>handle.getFile()</code> promise, but the <code>handle</code> directly.</p>
<div><pre class="language-js"><code class="language-js">  <span class="token keyword">const</span> getDirectoryEntriesRecursive <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><br>    directoryHandle<span class="token punctuation">,</span><br>    relativePath <span class="token operator">=</span> <span class="token string">'.'</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> fileHandles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> directoryHandles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> entries <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br>    <span class="token comment">// Get an iterator of the files and folders in the directory.</span><br>    <span class="token keyword">const</span> directoryIterator <span class="token operator">=</span> directoryHandle<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> directoryEntryPromises <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> handle <span class="token keyword">of</span> directoryIterator<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">const</span> nestedPath <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>relativePath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>handle<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>handle<span class="token punctuation">.</span>kind <span class="token operator">===</span> <span class="token string">'file'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        fileHandles<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> handle<span class="token punctuation">,</span> nestedPath <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        directoryEntryPromises<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><br>          handle<span class="token punctuation">.</span><span class="token function">getFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>            <span class="token keyword">return</span> <span class="token punctuation">{</span><br>              <span class="token literal-property property">name</span><span class="token operator">:</span> handle<span class="token punctuation">.</span>name<span class="token punctuation">,</span><br>              <span class="token literal-property property">kind</span><span class="token operator">:</span> handle<span class="token punctuation">.</span>kind<span class="token punctuation">,</span><br>              <span class="token literal-property property">size</span><span class="token operator">:</span> file<span class="token punctuation">.</span>size<span class="token punctuation">,</span><br>              <span class="token literal-property property">type</span><span class="token operator">:</span> file<span class="token punctuation">.</span>type<span class="token punctuation">,</span><br>              <span class="token literal-property property">lastModified</span><span class="token operator">:</span> file<span class="token punctuation">.</span>lastModified<span class="token punctuation">,</span><br>              <span class="token literal-property property">relativePath</span><span class="token operator">:</span> nestedPath<span class="token punctuation">,</span><br>              handle<br>            <span class="token punctuation">}</span><span class="token punctuation">;</span><br>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>handle<span class="token punctuation">.</span>kind <span class="token operator">===</span> <span class="token string">'directory'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        directoryHandles<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> handle<span class="token punctuation">,</span> nestedPath <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        directoryEntryPromises<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><br>          <span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>            <span class="token keyword">return</span> <span class="token punctuation">{</span><br>              <span class="token literal-property property">name</span><span class="token operator">:</span> handle<span class="token punctuation">.</span>name<span class="token punctuation">,</span><br>              <span class="token literal-property property">kind</span><span class="token operator">:</span> handle<span class="token punctuation">.</span>kind<span class="token punctuation">,</span><br>              <span class="token literal-property property">relativePath</span><span class="token operator">:</span> nestedPath<span class="token punctuation">,</span><br>              <span class="token literal-property property">entries</span><span class="token operator">:</span><br>                  <span class="token keyword">await</span> <span class="token function">getDirectoryEntriesRecursive</span><span class="token punctuation">(</span>handle<span class="token punctuation">,</span> nestedPath<span class="token punctuation">)</span><span class="token punctuation">,</span><br>              handle<span class="token punctuation">,</span><br>            <span class="token punctuation">}</span><span class="token punctuation">;</span><br>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">const</span> directoryEntries <span class="token operator">=</span> <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>directoryEntryPromises<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    directoryEntries<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">directoryEntry</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><br>      entries<span class="token punctuation">[</span>directoryEntry<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> directoryEntry<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> entries<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</div><h2 id="using-the-origin-private-file-system-in-a-web-worker">Using the origin private file system in a Web Worker <a class="headline-link" href="https://web.dev/origin-private-file-system/#using-the-origin-private-file-system-in-a-web-worker">#</a></h2>
<p>As outlined before, Web Workers can't block the main thread, which is why in this context synchronous methods are allowed.</p>
<h3 id="getting-a-synchronous-access-handle">Getting a synchronous access handle <a class="headline-link" href="https://web.dev/origin-private-file-system/#getting-a-synchronous-access-handle">#</a></h3>
<p>The entry point to the fastest possible file operations is a <a href="https://developer.mozilla.org/docs/Web/API/FileSystemSyncAccessHandle" rel="noopener"><code>FileSystemSyncAccessHandle</code></a>, obtained from a regular <a href="https://developer.mozilla.org/docs/Web/API/FileSystemFileHandle" rel="noopener"><code>FileSystemFileHandle</code></a> by calling <a href="https://developer.mozilla.org/docs/Web/API/FileSystemFileHandle/createSyncAccessHandle" rel="noopener"><code>createSyncAccessHandle()</code></a>.</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> fileHandle <span class="token operator">=</span> <span class="token keyword">await</span> opfsRoot<br>    <span class="token punctuation">.</span><span class="token function">getFileHandle</span><span class="token punctuation">(</span><span class="token string">'my highspeed file.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">create</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> syncAccessHandle <span class="token operator">=</span> <span class="token keyword">await</span> fileHandle<span class="token punctuation">.</span><span class="token function">createSyncAccessHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div><aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> It might seem confusing, but you actually get a <em>synchronous</em> <code>FileSystemSyncAccessHandle</code> from a regular <code>FileSystemFileHandle</code>. Also note that the <code>createSyncAccessHandle()</code> method is <em>asynchronous</em>, despite the <code>Sync</code> in its name. </div></aside>
<h3 id="synchronous-in-place-file-methods">Synchronous in-place file methods <a class="headline-link" href="https://web.dev/origin-private-file-system/#synchronous-in-place-file-methods">#</a></h3>
<p>Once you have a synchronous access handle, you get access to fast in-place file methods that are all synchronous.</p>
<ul>
<li><a href="https://developer.mozilla.org/docs/Web/API/FileSystemSyncAccessHandle/getSize" rel="noopener"><code>getSize()</code></a>: Returns the size of the file in bytes.</li>
<li><a href="https://developer.mozilla.org/docs/Web/API/FileSystemSyncAccessHandle/write" rel="noopener"><code>write()</code></a>: Writes the content of a buffer into the, optionally at a given offset, and returns the number of written bytes. Checking the returned number of written bytes allows callers to detect and handle errors and partial writes.</li>
<li><a href="https://developer.mozilla.org/docs/Web/API/FileSystemSyncAccessHandle/read" rel="noopener"><code>read()</code></a>: Reads the contents of the file into a buffer, optionally at a given offset.</li>
<li><a href="https://developer.mozilla.org/docs/Web/API/FileSystemSyncAccessHandle/truncate" rel="noopener"><code>truncate()</code></a>: Resizes the file to the given size.</li>
<li><a href="https://developer.mozilla.org/docs/Web/API/FileSystemSyncAccessHandle/flush" rel="noopener"><code>flush()</code></a>: Ensures that the contents of the file contain all the modifications done through <code>write()</code>.</li>
<li><a href="https://developer.mozilla.org/docs/Web/API/FileSystemSyncAccessHandle/close" rel="noopener"><code>close()</code></a>: Closes the access handle.</li>
</ul>
<p>Here is an example that uses all the methods mentioned above.</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> opfsRoot <span class="token operator">=</span> <span class="token keyword">await</span> navigator<span class="token punctuation">.</span>storage<span class="token punctuation">.</span><span class="token function">getDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> fileHandle <span class="token operator">=</span> <span class="token keyword">await</span> opfsRoot<span class="token punctuation">.</span><span class="token function">getFileHandle</span><span class="token punctuation">(</span><span class="token string">'fast'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">create</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> accessHandle <span class="token operator">=</span> <span class="token keyword">await</span> fileHandle<span class="token punctuation">.</span><span class="token function">createSyncAccessHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> textEncoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> textDecoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Initialize this variable for the size of the file.</span><br><span class="token keyword">let</span> size<span class="token punctuation">;</span><br><span class="token comment">// The current size of the file, initially `0`.</span><br>size <span class="token operator">=</span> accessHandle<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Encode content to write to the file.</span><br><span class="token keyword">const</span> content <span class="token operator">=</span> textEncoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">'Some text'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Write the content at the beginning of the file.</span><br>accessHandle<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">at</span><span class="token operator">:</span> size<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Flush the changes.</span><br>accessHandle<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// The current size of the file, now `9` (the length of "Some text").</span><br>size <span class="token operator">=</span> accessHandle<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Encode more content to write to the file.</span><br><span class="token keyword">const</span> moreContent <span class="token operator">=</span> textEncoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">'More content'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Write the content at the end of the file.</span><br>accessHandle<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>moreContent<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">at</span><span class="token operator">:</span> size<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Flush the changes.</span><br>accessHandle<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// The current size of the file, now `21` (the length of</span><br><span class="token comment">// "Some textMore content").</span><br>size <span class="token operator">=</span> accessHandle<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Prepare a data view of the length of the file.</span><br><span class="token keyword">const</span> dataView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataView</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Read the entire file into the data view.</span><br>accessHandle<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>dataView<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Logs `"Some textMore content"`.</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>textDecoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>dataView<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Read starting at offset 9 into the data view.</span><br>accessHandle<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>dataView<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">at</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Logs `"More content"`.</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>textDecoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>dataView<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Truncate the file after 4 bytes.</span><br>accessHandle<span class="token punctuation">.</span><span class="token function">truncate</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div><aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> Note that the first parameter for <code>read()</code> and <code>write()</code> is an <a href="https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer"><code>ArrayBuffer</code></a> or an <code>ArrayBufferView</code> like a <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/DataView"><code>DataView</code></a>. You cannot directly manipulate the contents of an <code>ArrayBuffer</code>. Instead, you create one of the <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/TypedArray">typed array objects</a> like an <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Int8Array"><code>Int8Array</code></a> or a <code>DataView</code> object which represents the buffer in a specific format, and use that to read and write the contents of the buffer. </div></aside>
<h2 id="copying-a-file-from-the-origin-private-file-system-to-the-user-visible-file-system">Copying a file from the origin private file system to the user-visible file system <a class="headline-link" href="https://web.dev/origin-private-file-system/#copying-a-file-from-the-origin-private-file-system-to-the-user-visible-file-system">#</a></h2>
<p>As mentioned above, moving files from the origin private file system to the user-visible file system isn't possible, but you can copy files. Since <code>showSaveFilePicker()</code> is only exposed on the main thread, but not in the Worker thread, be sure to run the code there.</p>
<div><pre class="language-js"><code class="language-js"><span class="token comment">// On the main thread, not in the Worker. This assumes</span><br><span class="token comment">// `fileHandle` is the `FileSystemFileHandle` you obtained</span><br><span class="token comment">// the `FileSystemSyncAccessHandle` from in the Worker</span><br><span class="token comment">// thread. Be sure to close the file in the Worker thread first.</span><br><span class="token keyword">const</span> fileHandle <span class="token operator">=</span> <span class="token keyword">await</span> opfsRoot<span class="token punctuation">.</span><span class="token function">getFileHandle</span><span class="token punctuation">(</span><span class="token string">'fast'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">try</span> <span class="token punctuation">{</span><br>  <span class="token comment">// Obtain a file handle to a new file in the user-visible file system</span><br>  <span class="token comment">// with the same name as the file in the origin private file system.</span><br>  <span class="token keyword">const</span> saveHandle <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">showSaveFilePicker</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    <span class="token literal-property property">suggestedName</span><span class="token operator">:</span> fileHandle<span class="token punctuation">.</span>name <span class="token operator">||</span> <span class="token string">''</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> writable <span class="token operator">=</span> <span class="token keyword">await</span> saveHandle<span class="token punctuation">.</span><span class="token function">createWritable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">await</span> writable<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">await</span> fileHandle<span class="token punctuation">.</span><span class="token function">getFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">await</span> writable<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>name<span class="token punctuation">,</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><h2 id="debugging-the-origin-private-file-system">Debugging the origin private file system <a class="headline-link" href="https://web.dev/origin-private-file-system/#debugging-the-origin-private-file-system">#</a></h2>
<p>Until built-in DevTools support is added (see <a href="https://crbug.com/1284595" rel="noopener">crbug/1284595</a>), use the <a href="https://chrome.google.com/webstore/detail/opfs-explorer/acndjpgkpaclldomagafnognkcgjignd" rel="noopener">OPFS Explorer</a> Chrome extension to debug the origin private file system. The screenshot above from the section <a href="https://web.dev/origin-private-file-system/#creating-new-files-and-folders">Creating new files and folders</a> is taken straight from the extension by the way.</p>
<img alt="The OPFS Explorer Chrome DevTools extension in the Chrome Web Store." decoding="async" height="612" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format" srcset="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/kmE7qbP61UlLcCxBkMMQ.png?auto=format&amp;w=1600 1600w" width="800">
<p>After installing the extension, open the Chrome DevTools, select the <strong>OPFS Explorer</strong> tab, and you're then ready to inspect the file hierarchy. Save files from the origin private file system to the user-visible file system by clicking the file name and delete files and folders by clicking the trash can icon.</p>
<h2 id="demo">Demo <a class="headline-link" href="https://web.dev/origin-private-file-system/#demo">#</a></h2>
<p>See the origin private file system in action (if you install the OPFS Explorer extension) in a <a href="https://sqlite-wasm-opfs.glitch.me/" rel="noopener">demo</a> that uses it as a backend for a SQLite database compiled to WebAssembly. Be sure to check out the <a href="https://glitch.com/edit/#!/sqlite-wasm-opfs" rel="noopener">source code on Glitch</a>. Note how the embedded version below does not use the origin private file system backend (because the iframe is cross-origin), but when you open the demo in a separate tab, it does.</p>
<div class="glitch-embed-wrap" style="height: 420px; width: 100%;">
  <iframe allow="camera; clipboard-read; clipboard-write; encrypted-media; geolocation; microphone; midi" loading="lazy" src="https://glitch.com/embed/#!/embed/sqlite-wasm-opfs?attributionHidden=true&amp;sidebarCollapsed=true&amp;previewSize=100" style="height: 100%; width: 100%; border: 0;" title="sqlite-wasm-opfs on Glitch"></iframe>
</div>
<h2 id="conclusions">Conclusions <a class="headline-link" href="https://web.dev/origin-private-file-system/#conclusions">#</a></h2>
<p>The origin private file system, as specified by the WHATWG, has shaped the way we use and interact with files on the web. It has enabled new use cases that were impossible to achieve with the user-visible file system. All major browser vendors—Apple, Mozilla, and Google—are on-board and share a joint vision. The development of the origin private file system is very much a collaborative effort, and feedback from developers and users is essential to its progress. As we continue to refine and improve the standard, feedback on the <a href="https://github.com/whatwg/fs" rel="noopener">whatwg/fs repository</a> in the form of Issues or Pull Requests is welcome.</p>
<h2 id="related-links">Related links <a class="headline-link" href="https://web.dev/origin-private-file-system/#related-links">#</a></h2>
<ul>
<li><a href="https://fs.spec.whatwg.org/" rel="noopener">File System Standard spec</a></li>
<li><a href="https://github.com/whatwg/fs" rel="noopener">File System Standard repo</a></li>
<li><a href="https://webkit.org/blog/12257/the-file-system-access-api-with-origin-private-file-system/" rel="noopener">The File System API with Origin Private File System WebKit post</a></li>
<li><a href="https://chrome.google.com/webstore/detail/opfs-explorer/acndjpgkpaclldomagafnognkcgjignd" rel="noopener">OPFS Explorer extension</a></li>
</ul>
<h2 id="acknowledgements">Acknowledgements <a class="headline-link" href="https://web.dev/origin-private-file-system/#acknowledgements">#</a></h2>
<p>This article was reviewed by <a href="https://github.com/a-sully" rel="noopener">Austin Sully</a>, <a href="https://ca.linkedin.com/in/enoel19" rel="noopener">Etienne Noël</a>, and <a href="https://rachelandrew.co.uk/" rel="noopener">Rachel Andrew</a>. Hero image by <a href="https://unsplash.com/@rumpf" rel="noopener">Christina Rumpf</a> on <a href="https://unsplash.com/photos/XWDMmk-yW7Q" rel="noopener">Unsplash</a>.</p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[所有主要引擎中的新 CSS 颜色空间和功能]]></title>
            <link>https://web.dev/color-spaces-and-functions/</link>
            <guid>https://web.dev/color-spaces-and-functions/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>这篇文章介绍了CSS现在支持的新功能和颜色空间，以及它们在各个主要浏览器引擎中的支持情况。现在，CSS可以支持超出sRGB色域的颜色空间，包括高清（HD）显示器的色域。通过新的函数，我们可以更好地在网页上使用颜色。

文章提到了一些已经存在的函数，如rgb()、hsl()和hwb()，它们可以访问sRGB色域内的颜色。现在，浏览器还支持color()函数，这是一种规范化的访问任何RGB颜色空间内颜色的方式，包括sRGB、Display P3和Rec2020。文章中给出了一些使用这些函数的示例。

此外，文章还介绍了几个允许访问sRGB以外颜色空间的函数，如lch()、lab()、oklch()和oklab()。

最后，文章提到了color-mix()函数，它可以在任何颜色空间中将一种颜色混合到另一种颜色中。文章中给出了一个使用color-mix()函数的示例。

这些新的函数和颜色空间将为网页带来更加鲜艳的高清颜色。文章还提供了一个高清渐变生成器的链接，供读者参考和灵感。</summary>
    <div>
    <div>OriginTitle: New CSS color spaces and functions in all major engines</div>

    </div></div><aside class="aside flow bg-state-good-bg color-state-good-text"><p class="cluster "><span class="aside__icon box-block "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" style="enable-background:new 0 0 128 128" xml:space="preserve"><path d="M7.5 123.3c2.2 2.4 11.6-1.9 19-5.3C32 115.4 54 106.3 65 101.6c3-1.2 7.3-2.9 10.4-7 2.8-3.6 10-19-4.6-34.7-15-16-30.4-11.5-36.2-7.5A28.5 28.5 0 0 0 27.3 63c-5.2 11.6-12.7 32.9-15.7 41.3-2.3 6.1-6.4 16.5-4.1 19z" fill="currentColor"></path><path d="M18 86.8s.7 6.5 6.1 14.6c6.3 9.6 15 11.2 15 11.2l-5.8 2.4s-6.5-2-12.7-10.4c-3.8-5.3-5-11.6-5-11.6l2.3-6.2zm-5.6 15.4s1.5 5.6 4.7 9.7c3.8 5 8.6 6.5 8.6 6.5l-4.5 2s-3.3-.8-7-5.5c-2.9-3.5-3.7-7.6-3.7-7.6l1.9-5.1z" fill="currentColor"></path><path d="M10 116.4c-.2-.5-.2-1 0-1.4l25.4-53 4.2 16-26.8 38.7c-.7 1-2.3 1-2.8-.2z" style="opacity:.44" fill="currentColor"></path><path d="M41.6 83.2c12 14 25.5 12.2 30 8.6 4.5-3.5 8.1-15.6-3.7-29.3C55.3 48.2 41.3 52.2 38 55.3s-7.4 15.1 3.5 27.9z" style="fill: var(--color-state-good-bg);"></path><path d="M82.5 89c-4.3-3.7-6.6-3-9.7-1.8a26 26 0 0 1-18.9 0l2.6-6.2c5 1.7 8.7 1 12-1 4-2.4 9.6-5.6 18.3 1.6 3.6 3 7.3 5.1 10 4.2 2-.7 3-3.6 3.6-6l.2-1.3c.4-3.7 1.2-11.6 7.1-15.7 6.4-4.3 13-4.3 13-4.3l1.2 12c-3-.5-5.2.1-7 1-6.7 3.8-.8 18.2-11.3 23-10.1 4.8-18.4-3.3-21-5.6zM45.4 73.7l-4.3-3.9c8-8.9 5.8-15.4 4.3-20.2A26.4 26.4 0 0 1 44 38.8c-3-3.8-4.4-7.8-4.5-8-1.9-5.7-.5-11.2 2.8-16.4C48.7 4 60.5 4 60.5 4l4 10.5c-3-.1-12.8 0-15.8 4.8-3.8 6-1.3 9.6-1.2 10 .8-1 1.5-1.7 2.2-2.3 4.8-4.2 9-4.8 11.6-4.6a11 11 0 0 1 7.6 4.2c2 2.7 3 6.2 2.3 9.4a11 11 0 0 1-5.8 7.4 16 16 0 0 1-13 1.5v.3l.6 2c1.8 5.4 5 14.1-7.6 26.5zm7.4-37.5c.5.4 1.1.8 1.8 1 2 .8 4.4.6 7-.8 1.5-.9 1.7-1.7 1.7-2 .2-.9 0-2-.7-2.8a2.8 2.8 0 0 0-2-1.2c-1.6-.2-3.6.8-5.6 2.6-1 .9-1.7 2-2.3 3.2zm10 39.1-6.2-.1s3-16.7 12.5-19.5c1.8-.5 3.7-1 5.7-1.3l4-.8c.1-1.6-.5-3.6-1.3-5.9-.6-1.7-1.2-3.5-1.5-5.5-.6-3.9.4-7.3 3-9.6 3-2.9 7.9-3.8 13.4-2.5 3.2.7 5.5 2.2 7.6 3.6 2.9 2 4.6 3 8.2.5 4.3-2.9-1.4-14.3-4.4-21l11.3-4.6c1.5 3.3 8.8 20.3 4 30a11.5 11.5 0 0 1-8.1 6.2c-8 1.8-12.6-1.3-16-3.6-1.6-1-3-1.9-4.6-2.3-10.6-3 4.2 12.6-2.7 19.6-4.2 4.2-14.4 5.3-15 5.5-6.6 1.6-10 11.3-10 11.3z" fill="currentColor"></path><path d="M44 38.8c-.2 2.2-.3 3.5.3 6.4 2.7 2 8.7 2 8.7 2l-.6-2v-.3c-6.1-3-8.4-6.1-8.4-6.1zm-12.5 9.8-10.3-5 5.1-7.5 8.2 5.4zm-15.2-14A26 26 0 0 1 5 28.9l5.2-6c1.6 1.2 5 3.5 7.2 3.8l-1.1 7.9zM25.6 21.3 18 18.8a18 18 0 0 0 .7-8.3l7.9-1.3c.6 4 .3 8.2-1 12zM73 15.3l7.9-1.7L83 23.9l-7.8 1.7zM92.5 17.8 87 12c2.8-2.8 3.5-6.3 3.5-6.4L98.4 7c-.1.6-1.1 6.3-6 10.9zM95.5 48.6l7-2.2 2.3 7.7-7 2.1zM97.5 113l-7.9-1c.3-2.7-1.8-6.2-2.4-7l6.4-4.8c.5.6 4.7 6.4 4 12.8zM120.4 102.9c-3-.5-6-.6-9.1-.5l-.3-8c3.5-.2 7 0 10.6.6l-1.2 7.9zM109.6 113.9l5.6-5.7 7.8 7.6-5.6 5.7zM93.1 63.3 99 70l-6.6 5.8-5.8-6.6z" fill="currentColor"></path></svg> </span><strong>庆典</strong></p><div class=" flow">此网络功能现已在所有三个主要浏览器引擎中提供！</div></aside>
<p>CSS 现在支持颜色空间，允许我们访问 sRGB 之外的颜色<a href="https://developer.chrome.com/articles/high-definition-css-color-guide/#what-is-a-color-gamut" rel="noopener">色域</a>。 这意味着您可以使用 HD 色域中的颜色来支持 HD（高清）显示器。 此支持附带新功能，可以更好地利用网络上的颜色。</p>
<h2 id="accessing-color-spaces-from-css">从 CSS 访问颜色空间<a class="headline-link" href="https://web.dev/color-spaces-and-functions/#accessing-color-spaces-from-css">#</a></h2>
<p>我们已经有许多函数可以让我们访问 sRGB 色域内的颜色——<code>RGB()</code>,<code>HSL()</code>， 和<code>hwb()</code>。 现在浏览器支持的是<code>颜色（）</code>函数，一种访问任何 RGB 颜色空间内颜色的标准化方法。 这包括 sRGB、Display P3 和 Rec2020。 您可以在以下 CSS 中看到一些示例：</p>
<div><pre class="language-css"><code class="language-css"><span class="token selector">.valid-css-颜色-函数颜色</span> <span class="token punctuation">{</span><br>  <span class="token property">--srgb</span><span class="token punctuation">:</span> <span class="token function">颜色</span><span class="token punctuation">（</span>srgb 1 1 1<span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token property">--srgb-线性</span><span class="token punctuation">:</span> <span class="token function">颜色</span><span class="token punctuation">（</span>srgb-线性 100% 100% 100% / 50%<span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token property">--显示-p3</span><span class="token punctuation">:</span> <span class="token function">颜色</span><span class="token punctuation">（</span>显示-p3 1 1 1<span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token property">--rec2020</span><span class="token punctuation">:</span> <span class="token function">颜色</span><span class="token punctuation">（</span>记录2020 0 0 0<span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token property">--a98-rgb</span><span class="token punctuation">:</span> <span class="token function">颜色</span><span class="token punctuation">（</span>a98-RGB 1 1 1 / 25%<span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token property">--原照片</span><span class="token punctuation">:</span> <span class="token function">颜色</span><span class="token punctuation">（</span>prophoto-rgb 0% 0% 0%<span class="token punctuation">）</span><span class="token punctuation">;</span><br>  <span class="token property">--xyz</span><span class="token punctuation">:</span> <span class="token function">颜色</span><span class="token punctuation">（</span>XYZ 1 1 1<span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 111，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐 113，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">边缘 111，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 15，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      15
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/color_value/color#browser_compatibility" target="_blank">来源</a>
</div>
<p>还支持多种功能，允许使用 sRGB 访问以外的色彩空间<code>lch()</code>,<code>实验室（）</code>,<code>oklch()</code>， 和<code>oklab()</code>。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 111，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐 113，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">边缘 111，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 15，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      15
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/color_value/lch#browser_compatibility" target="_blank">来源</a>
</div>
<p>您可以在中了解所有这些不同的色彩空间<a href="https://developer.chrome.com/articles/high-definition-css-color-guide/" rel="noopener">高清 CSS 色彩指南</a>。</p>
<h2 id="the-color-mix-function">这<code>颜色混合()</code>功能<a class="headline-link" href="https://web.dev/color-spaces-and-functions/#the-color-mix-function">#</a></h2>
<p>除了这些新的色彩空间之外，所有引擎现在都支持<code>颜色混合()</code>功能。 此功能可以在任何颜色空间中将一种颜色混合到另一种颜色中。 在下面的 CSS 中，在 srgb 颜色空间中，25% 的蓝色混合成白色。</p>
<div><pre class="language-css"><code class="language-css"><span class="token selector">。例子</span> <span class="token punctuation">{</span><br>  <span class="token property">背景颜色</span><span class="token punctuation">:</span> <span class="token function">颜色混合</span><span class="token punctuation">（</span>在 srgb 中<span class="token punctuation">,</span>蓝色 25%<span class="token punctuation">,</span>白色的<span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 111，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐 113，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">边缘 111，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 16.2，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      16.2
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/color_value/color-mix#browser_compatibility" target="_blank">来源</a>
</div>
<p><a href="https://developer.chrome.com/blog/css-color-mix/" rel="noopener">学习更多关于<code>颜色混合()</code></a></p>
<p>这些新功能和色彩空间有望为网络带来鲜艳的高清色彩。 要获得灵感，请首先使用高清渐变生成器创建一些漂亮的渐变，网址为<a href="https://gradient.style/" rel="noopener">渐变风格</a>。</p>
<p><em>英雄形象由<a href="https://unsplash.com/fr/@yogidan2012" rel="noopener">丹尼尔·李维斯·佩鲁西</a></em></p>
<hr><aside class="aside flow bg-state-good-bg color-state-good-text"><p class="cluster "><span class="aside__icon box-block "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" style="enable-background:new 0 0 128 128" xml:space="preserve"><path d="M7.5 123.3c2.2 2.4 11.6-1.9 19-5.3C32 115.4 54 106.3 65 101.6c3-1.2 7.3-2.9 10.4-7 2.8-3.6 10-19-4.6-34.7-15-16-30.4-11.5-36.2-7.5A28.5 28.5 0 0 0 27.3 63c-5.2 11.6-12.7 32.9-15.7 41.3-2.3 6.1-6.4 16.5-4.1 19z" fill="currentColor"></path><path d="M18 86.8s.7 6.5 6.1 14.6c6.3 9.6 15 11.2 15 11.2l-5.8 2.4s-6.5-2-12.7-10.4c-3.8-5.3-5-11.6-5-11.6l2.3-6.2zm-5.6 15.4s1.5 5.6 4.7 9.7c3.8 5 8.6 6.5 8.6 6.5l-4.5 2s-3.3-.8-7-5.5c-2.9-3.5-3.7-7.6-3.7-7.6l1.9-5.1z" fill="currentColor"></path><path d="M10 116.4c-.2-.5-.2-1 0-1.4l25.4-53 4.2 16-26.8 38.7c-.7 1-2.3 1-2.8-.2z" style="opacity:.44" fill="currentColor"></path><path d="M41.6 83.2c12 14 25.5 12.2 30 8.6 4.5-3.5 8.1-15.6-3.7-29.3C55.3 48.2 41.3 52.2 38 55.3s-7.4 15.1 3.5 27.9z" style="fill: var(--color-state-good-bg);"></path><path d="M82.5 89c-4.3-3.7-6.6-3-9.7-1.8a26 26 0 0 1-18.9 0l2.6-6.2c5 1.7 8.7 1 12-1 4-2.4 9.6-5.6 18.3 1.6 3.6 3 7.3 5.1 10 4.2 2-.7 3-3.6 3.6-6l.2-1.3c.4-3.7 1.2-11.6 7.1-15.7 6.4-4.3 13-4.3 13-4.3l1.2 12c-3-.5-5.2.1-7 1-6.7 3.8-.8 18.2-11.3 23-10.1 4.8-18.4-3.3-21-5.6zM45.4 73.7l-4.3-3.9c8-8.9 5.8-15.4 4.3-20.2A26.4 26.4 0 0 1 44 38.8c-3-3.8-4.4-7.8-4.5-8-1.9-5.7-.5-11.2 2.8-16.4C48.7 4 60.5 4 60.5 4l4 10.5c-3-.1-12.8 0-15.8 4.8-3.8 6-1.3 9.6-1.2 10 .8-1 1.5-1.7 2.2-2.3 4.8-4.2 9-4.8 11.6-4.6a11 11 0 0 1 7.6 4.2c2 2.7 3 6.2 2.3 9.4a11 11 0 0 1-5.8 7.4 16 16 0 0 1-13 1.5v.3l.6 2c1.8 5.4 5 14.1-7.6 26.5zm7.4-37.5c.5.4 1.1.8 1.8 1 2 .8 4.4.6 7-.8 1.5-.9 1.7-1.7 1.7-2 .2-.9 0-2-.7-2.8a2.8 2.8 0 0 0-2-1.2c-1.6-.2-3.6.8-5.6 2.6-1 .9-1.7 2-2.3 3.2zm10 39.1-6.2-.1s3-16.7 12.5-19.5c1.8-.5 3.7-1 5.7-1.3l4-.8c.1-1.6-.5-3.6-1.3-5.9-.6-1.7-1.2-3.5-1.5-5.5-.6-3.9.4-7.3 3-9.6 3-2.9 7.9-3.8 13.4-2.5 3.2.7 5.5 2.2 7.6 3.6 2.9 2 4.6 3 8.2.5 4.3-2.9-1.4-14.3-4.4-21l11.3-4.6c1.5 3.3 8.8 20.3 4 30a11.5 11.5 0 0 1-8.1 6.2c-8 1.8-12.6-1.3-16-3.6-1.6-1-3-1.9-4.6-2.3-10.6-3 4.2 12.6-2.7 19.6-4.2 4.2-14.4 5.3-15 5.5-6.6 1.6-10 11.3-10 11.3z" fill="currentColor"></path><path d="M44 38.8c-.2 2.2-.3 3.5.3 6.4 2.7 2 8.7 2 8.7 2l-.6-2v-.3c-6.1-3-8.4-6.1-8.4-6.1zm-12.5 9.8-10.3-5 5.1-7.5 8.2 5.4zm-15.2-14A26 26 0 0 1 5 28.9l5.2-6c1.6 1.2 5 3.5 7.2 3.8l-1.1 7.9zM25.6 21.3 18 18.8a18 18 0 0 0 .7-8.3l7.9-1.3c.6 4 .3 8.2-1 12zM73 15.3l7.9-1.7L83 23.9l-7.8 1.7zM92.5 17.8 87 12c2.8-2.8 3.5-6.3 3.5-6.4L98.4 7c-.1.6-1.1 6.3-6 10.9zM95.5 48.6l7-2.2 2.3 7.7-7 2.1zM97.5 113l-7.9-1c.3-2.7-1.8-6.2-2.4-7l6.4-4.8c.5.6 4.7 6.4 4 12.8zM120.4 102.9c-3-.5-6-.6-9.1-.5l-.3-8c3.5-.2 7 0 10.6.6l-1.2 7.9zM109.6 113.9l5.6-5.7 7.8 7.6-5.6 5.7zM93.1 63.3 99 70l-6.6 5.8-5.8-6.6z" fill="currentColor"></path></svg> </span><strong>Celebration</strong></p><div class=" flow"> This web feature is now available in all three major browser engines! </div></aside>
<p>CSS now supports color spaces that allow us to access colors outside of the sRGB <a href="https://developer.chrome.com/articles/high-definition-css-color-guide/#what-is-a-color-gamut" rel="noopener">gamut</a>. This means that you can support HD (high definition) displays, using colors from HD gamuts. This support comes with new functions to make better use of color on the web.</p>
<h2 id="accessing-color-spaces-from-css">Accessing color spaces from CSS <a class="headline-link" href="https://web.dev/color-spaces-and-functions/#accessing-color-spaces-from-css">#</a></h2>
<p>We already have a number of functions that allow us to access colors within the sRGB gamut—<code>rgb()</code>, <code>hsl()</code>, and <code>hwb()</code>. Now supported in browsers is the <code>color()</code> function, a normalized way to access colors within any RGB color space. This includes sRGB, Display P3, and Rec2020. You can see some examples in the following CSS:</p>
<div><pre class="language-css"><code class="language-css"><span class="token selector">.valid-css-color-function-colors</span> <span class="token punctuation">{</span><br>  <span class="token property">--srgb</span><span class="token punctuation">:</span> <span class="token function">color</span><span class="token punctuation">(</span>srgb 1 1 1<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">--srgb-linear</span><span class="token punctuation">:</span> <span class="token function">color</span><span class="token punctuation">(</span>srgb-linear 100% 100% 100% / 50%<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">--display-p3</span><span class="token punctuation">:</span> <span class="token function">color</span><span class="token punctuation">(</span>display-p3 1 1 1<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">--rec2020</span><span class="token punctuation">:</span> <span class="token function">color</span><span class="token punctuation">(</span>rec2020 0 0 0<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">--a98-rgb</span><span class="token punctuation">:</span> <span class="token function">color</span><span class="token punctuation">(</span>a98-rgb 1 1 1 / 25%<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">--prophoto</span><span class="token punctuation">:</span> <span class="token function">color</span><span class="token punctuation">(</span>prophoto-rgb 0% 0% 0%<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">--xyz</span><span class="token punctuation">:</span> <span class="token function">color</span><span class="token punctuation">(</span>xyz 1 1 1<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 111, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 113, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">Edge 111, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 15, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      15
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/color_value/color#browser_compatibility" target="_blank">Source</a>
</div>
<p>Also supported are several functions allowing access to color spaces other than sRGB using <code>lch()</code>, <code>lab()</code>, <code>oklch()</code>, and <code>oklab()</code>.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 111, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 113, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">Edge 111, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 15, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      15
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/color_value/lch#browser_compatibility" target="_blank">Source</a>
</div>
<p>You can learn about all of these different color spaces in the <a href="https://developer.chrome.com/articles/high-definition-css-color-guide/" rel="noopener">High definition CSS color guide</a>.</p>
<h2 id="the-color-mix-function">The <code>color-mix()</code> function <a class="headline-link" href="https://web.dev/color-spaces-and-functions/#the-color-mix-function">#</a></h2>
<p>As well as these new color spaces, all engines now support the <code>color-mix()</code> function. This function enables mixing of one color into another, in any of the color spaces. In the following CSS, 25% of blue is mixed into white, in the srgb color space.</p>
<div><pre class="language-css"><code class="language-css"><span class="token selector">.example</span> <span class="token punctuation">{</span><br>  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">color-mix</span><span class="token punctuation">(</span>in srgb<span class="token punctuation">,</span> blue 25%<span class="token punctuation">,</span> white<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</div><div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 111, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 113, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">Edge 111, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 16.2, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      16.2
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/color_value/color-mix#browser_compatibility" target="_blank">Source</a>
</div>
<p><a href="https://developer.chrome.com/blog/css-color-mix/" rel="noopener">Learn more about <code>color-mix()</code></a></p>
<p>These new functions and color spaces promise to bring vibrant HD color to the web. For inspiration, make a start by creating some beautiful gradients using the HD gradient generator at <a href="https://gradient.style/" rel="noopener">gradient.style</a>.</p>
<p><em>Hero image by <a href="https://unsplash.com/fr/@yogidan2012" rel="noopener">Daniele Levis Pelusi</a></em></p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[5月份网络平台新功能]]></title>
            <link>https://web.dev/web-platform-05-2023/</link>
            <guid>https://web.dev/web-platform-05-2023/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>2023年5月，Firefox 113、Chrome 113、Chrome 114和Safari 16.5发布了稳定版。这对于Web平台意味着什么呢？

Chrome 113引入了WebGPU，这是WebGL和WebGL 2图形API的继任者。它提供了现代化的功能，如GPU计算、更低的GPU硬件访问开销、从单个图形设备渲染到多个画布的能力以及更好、更可预测的性能。

Chrome 113还包括了First-Party Sets（FPS）和CSS媒体特性等功能。FPS是隐私沙箱的一部分，它允许组织声明站点之间的关系，以便浏览器可以决定何时允许有限的第三方Cookie访问。CSS方面，Chrome 113引入了overflow-inline和overflow-block媒体特性，以及更新的媒体特性和线性缓动函数。

Firefox 113包括了CSS Color Level 4功能、更多对:nth-child()选择器的控制、压缩流API和弹出窗口API等功能。

Safari 16.5解决了一些问题，并添加了对CSS嵌套的支持。

Chrome 114引入了text-wrap: balance属性，用于平衡标题的显示效果。

Chrome 114还包括了CHIPS和Popover API等功能。CHIPS允许通过新的cookie属性Partitioned将第三方Cookie按顶级站点进行分</summary>
    <div>
    <div>OriginTitle: New to the web platform in May</div>

    </div></div><h2 id="stable-browser-releases">稳定的浏览器版本<a class="headline-link" href="https://web.dev/web-platform-05-2023/#stable-browser-releases">#</a></h2>
<p>2023 年 5 月，<a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/113" rel="noopener">火狐113</a>,<a href="https://developer.chrome.com/blog/new-in-chrome-113/" rel="noopener">铬113</a>,<a href="https://developer.chrome.com/blog/new-in-chrome-114/" rel="noopener">铬114</a>， 和<a href="https://developer.apple.com/documentation/safari-release-notes/safari-16_5-release-notes" rel="noopener">Safari 16.5</a>变得稳定。 让我们看看这对网络平台意味着什么。</p>
<aside class="aside flow bg-state-bad-bg color-state-bad-text"><p class="cluster color-state-bad-text"><span class="aside__icon box-block "><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Error sign">   <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-2h2v2h-2zm0-10v6h2V7h-2z"></path> </svg></span><strong>警告</strong></p><div class=" flow">我们在这些帖子中包含从 MDN 中提取的浏览器兼容性数据，这些数据对于最新的浏览器版本可能尚未更新。 该帖子一旦出现在帖子中，就会显示正确的信息<a href="https://github.com/mdn/browser-compat-data/releases">浏览器兼容数据发布</a>。</div></aside>
<h3 id="webgpu">网络GPU<a class="headline-link" href="https://web.dev/web-platform-05-2023/#webgpu">#</a></h3>
<p>Chrome 113 包括<a href="https://developer.chrome.com/blog/webgpu-release/" rel="noopener">网络GPU</a>，WebGL 和 WebGL 2 网络图形 API 的后继者。 它提供了现代功能，例如 GPU 计算、对 GPU 硬件的较低开销访问、从单个图形设备渲染到多个画布的能力，以及更好、更可预测的性能。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 113，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐预览, 预览</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="preview" title="Preview" aria-label="Preview">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘 113，支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
113
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/API/GPU#browser_compatibility" target="_blank">来源</a>
</div>
<h3 id="first-party-sets">第一方套装<a class="headline-link" href="https://web.dev/web-platform-05-2023/#first-party-sets">#</a></h3>
<p><a href="https://developer.chrome.com/docs/privacy-sandbox/first-party-sets/" rel="noopener">第一方套装 (FPS)</a>是的一部分<a href="https://privacysandbox.com/" rel="noopener">隐私沙箱</a>。 它是组织声明站点之间关系的一种方式，以便浏览器可以决定何时允许对一组内的站点进行有限的第三方 cookie 访问。 FPS 开始在 Chrome 113 中分阶段推出。</p>
<h3 id="css-media-features-and-more">CSS 媒体功能及更多<a class="headline-link" href="https://web.dev/web-platform-05-2023/#css-media-features-and-more">#</a></h3>
<p>对于 CSS，Chrome 113 包括<code>内嵌溢出</code>和<code>溢出块</code>媒体功能。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 113，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐 66，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      66
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">边缘 113，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/@media/overflow-inline#browser_compatibility" target="_blank">来源</a>
</div>
<p>还有<code>更新</code>媒体功能。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 113，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐 102，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      102
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">边缘 113，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/@media/update-frequency#browser_compatibility" target="_blank">来源</a>
</div>
<p>还包括<code>线性()</code>缓动函数，您可以在文章中了解更多信息<a href="https://developer.chrome.com/articles/css-linear-easing-function/" rel="noopener">使用 CSS 创建复杂的动画曲线<code>线性()</code>缓动函数</a>。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 113，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐 112，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      112
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">边缘 113，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><p></p>
  </ul>
</div>
<h3 id="css-color-level-4-features">CSS 颜色级别 4 功能<a class="headline-link" href="https://web.dev/web-platform-05-2023/#css-color-level-4-features">#</a></h3>
<p>火狐 113 包括<code>颜色（）</code>,<code>实验室（）</code>,<code>lch()</code>,<code>oklab()</code>,<code>oklch()</code>， 和<code>颜色混合()</code>函数符号，以及强制颜色调整属性。 这意味着所有三个主要引擎现在都支持新的色彩空间和功能。 您可以在中了解有关这些色彩空间和功能的更多信息<a href="https://web.dev/articles/high-definition-css-color-guide/">高清 CSS 色彩指南</a>。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 111，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐 113，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">边缘 111，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 16.2，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      16.2
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/color_value/color-mix#browser_compatibility" target="_blank">来源</a>
</div>
<h3 id="more-control-over-nth-child-selections">更多控制<code>:第n个孩子()</code>选择<a class="headline-link" href="https://web.dev/web-platform-05-2023/#more-control-over-nth-child-selections">#</a></h3>
<p>Firefox 113 还添加了将选择器列表传递给<code>:第n个孩子()</code>和<code>第 n 个最后一个孩子()</code>。 了解更多相关信息，并查看帖子中的示例<a href="https://developer.chrome.com/articles/css-nth-child-of-s/" rel="noopener">使用 of S 语法更好地控制 :nth-child() 选择</a>。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 111，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐 113，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">边缘 111，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 9，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      9
    </span>
    </li>
  </ul>
</div>
<h3 id="compressions-streams-api">压缩流 API<a class="headline-link" href="https://web.dev/web-platform-05-2023/#compressions-streams-api">#</a></h3>
<p>由于包含在 Firefox 113 中，压缩流 API 现在在所有三个主要引擎中均受支持，可以实现流的压缩和解压缩。 这意味着 JavaScript 应用程序不再需要捆绑压缩库。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 80，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      80
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐 113，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">边缘 80，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      80
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 16.4，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      16.4
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/API/CompressionStream#browser_compatibility" target="_blank">来源</a>
</div>
<h3 id="css-nesting">CSS 嵌套<a class="headline-link" href="https://web.dev/web-platform-05-2023/#css-nesting">#</a></h3>
<p>Safari 16.5 解决了大部分问题，但还增加了对<a href="https://developer.chrome.com/articles/css-nesting/" rel="noopener">CSS 嵌套</a>，使用新的嵌套选择器<code>&amp;gt;</code>，用于嵌套相关的样式规则，其方式对于使用过预处理器的开发人员来说是熟悉的：</p>
<div><pre class="language-css"><code class="language-css"><span class="token selector">.嵌套</span> <span class="token punctuation">{</span><br>  <span class="token property">颜色</span><span class="token punctuation">:</span>亮粉色<span class="token punctuation">;</span><br><br>  <span class="token selector">&amp;gt; .是</span> <span class="token punctuation">{</span><br>    <span class="token property">颜色</span><span class="token punctuation">:</span>丽贝卡·普尔普尔<span class="token punctuation">;</span><br><br>    <span class="token selector">&amp;gt; .太棒了</span> <span class="token punctuation">{</span><br>      <span class="token property">颜色</span><span class="token punctuation">:</span>深粉色<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 112，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      112
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐浏览器，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘 112，支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
112
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari 16.5，支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
16.5
</span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/Nesting_selectors#browser_compatibility" target="_blank">来源</a>
</div>
<h3 id="balancing-headlines-with-text-wrap-balance">平衡头条新闻<code>文本换行：平衡</code> <a class="headline-link" href="https://web.dev/web-platform-05-2023/#balancing-headlines-with-text-wrap-balance">#</a></h3>
<p>从 Chrome 114 开始，您可以使用<code>文本换行：平衡</code>。 这使您可以平衡标题，避免最后一行只有一个单词的问题，从而提供更令人愉悦和可读的结果。 您可以在以下位置了解更多信息<a href="https://developer.chrome.com/blog/css-text-wrap-balance/" rel="noopener">CSS 文本换行：平衡</a>。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 114，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      114
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">火狐浏览器，不支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘 114，支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
114
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari，不支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/text-wrap#browser_compatibility" target="_blank">来源</a>
</div>
<h3 id="chips-cookies-having-independent-partitioned-state">CHIPS：具有独立分区状态的 Cookie<a class="headline-link" href="https://web.dev/web-platform-05-2023/#chips-cookies-having-independent-partitioned-state">#</a></h3>
<p>作为工作的一部分<a href="https://developer.chrome.com/docs/privacy-sandbox/third-party-cookie-phase-out/" rel="noopener">逐步淘汰第三方 cookie</a>,<a href="https://developer.chrome.com/docs/privacy-sandbox/chips/" rel="noopener">芯片</a>允许使用新的 cookie 属性选择加入由顶级站点分区的第三方 cookie<code>已分区</code>。 CHIPS 在 Chrome 114 中可用。</p>
<h3 id="the-popover-api">弹出框 API<a class="headline-link" href="https://web.dev/web-platform-05-2023/#the-popover-api">#</a></h3>
<p>Chrome 114 中还有<a href="https://developer.mozilla.org/docs/Web/API/Popover_API" rel="noopener">弹出框 API</a>使构建显示在所有其他 Web 应用程序 UI 之上的瞬态用户界面 (UI) 元素变得更加容易。</p>
<p>其中包括用户交互元素，如操作菜单、表单元素建议、内容选择器和教学 UI。</p>
<p>新的 popover 属性使任何元素都可以显示在<a href="https://developer.chrome.com/blog/top-layer-devtools/" rel="noopener">顶层</a>自动地。 这意味着开发人员不再需要担心定位、堆叠元素、焦点或键盘交互。</p>
<p>了解更多信息<a href="https://developer.chrome.com/blog/introducing-popover-api/" rel="noopener">介绍弹出框 API</a>。</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">浏览器支持</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 114，支持</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      114
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 114，旗帜背后</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="flag" title="Behind a flag" aria-label="Behind a flag">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">边缘 114，支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
114
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari 17，支持</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
17 号
</span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/API/ToggleEvent#browser_compatibility" target="_blank">来源</a>
</div>
<h2 id="beta-browser-releases">测试版浏览器发布<a class="headline-link" href="https://web.dev/web-platform-05-2023/#beta-browser-releases">#</a></h2>
<p>Beta 浏览器版本可让您预览浏览器下一个稳定版本中的内容。 现在是测试新功能或删除的好时机，这些功能或删除可能会在发布该版本之前影响您的网站。 新的测试版是<a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/114" rel="noopener">火狐114</a>,<a href="https://developer.chrome.com/blog/chrome-115-beta/" rel="noopener">铬115</a>， 和<a href="https://developer.apple.com/documentation/safari-release-notes/safari-16_6-release-notes" rel="noopener">Safari 16.6</a>。 这些版本为该平台带来了许多出色的功能。 查看发行说明以了解所有详细信息，这里仅列出一些亮点。</p>
<p>Chrome 115 包含多个 CSS 值<code>展示</code>财产。 这意味着<code>显示： 柔性</code>变成<code>显示：块柔性</code>和<code>显示：块</code>变成<code>显示：块流</code>。 单个值作为旧关键字进行维护，一旦进入 Chrome 稳定版，这将使多个值在所有引擎上可用。</p>
<p>Chrome 115 中还有<code>滚动时间轴</code>和<code>查看时间线</code>Web 动画规范的扩展。 这些使<a href="https://developer.chrome.com/articles/scroll-driven-animations/" rel="noopener">滚动驱动的动画</a>通过 CSS 和 JavaScript。</p>
<p>火狐 114 包括<a href="https://developer.mozilla.org/docs/Web/API/WebTransport_API" rel="noopener">网络传输API</a>，WebSocket 的现代更新，提供对多个流、单向流和无序交付的支持。</p>
<p><em>拍摄者<a href="https://unsplash.com/@photozace" rel="noopener">摄影王牌</a>。</em></p>
<hr><h2 id="stable-browser-releases">Stable browser releases <a class="headline-link" href="https://web.dev/web-platform-05-2023/#stable-browser-releases">#</a></h2>
<p>In May 2023, <a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/113" rel="noopener">Firefox 113</a>, <a href="https://developer.chrome.com/blog/new-in-chrome-113/" rel="noopener">Chrome 113</a>, <a href="https://developer.chrome.com/blog/new-in-chrome-114/" rel="noopener">Chrome 114</a>, and <a href="https://developer.apple.com/documentation/safari-release-notes/safari-16_5-release-notes" rel="noopener">Safari 16.5</a> became stable. Let's take a look at what this means for the web platform.</p>
<aside class="aside flow bg-state-bad-bg color-state-bad-text"><p class="cluster color-state-bad-text"><span class="aside__icon box-block "><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Error sign">   <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-2h2v2h-2zm0-10v6h2V7h-2z"></path> </svg></span><strong>Caution</strong></p><div class=" flow"> We include browser compatibility data pulled from MDN in these posts which may not have been updated yet for very recent browser releases. The post will show the correct information as soon as it appears in the <a href="https://github.com/mdn/browser-compat-data/releases">browser-compat-data release</a>. </div></aside>
<h3 id="webgpu">WebGPU <a class="headline-link" href="https://web.dev/web-platform-05-2023/#webgpu">#</a></h3>
<p>Chrome 113 includes <a href="https://developer.chrome.com/blog/webgpu-release/" rel="noopener">WebGPU</a>, the successor to the WebGL and WebGL 2 graphics APIs for the web. It provides modern features such as GPU compute, lower overhead access to GPU hardware, the ability to render to multiple canvases from a single graphics device, and better, more predictable performance.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 113, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox preview, Preview</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="preview" title="Preview" aria-label="Preview">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge 113, Supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
113
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/API/GPU#browser_compatibility" target="_blank">Source</a>
</div>
<h3 id="first-party-sets">First-Party Sets <a class="headline-link" href="https://web.dev/web-platform-05-2023/#first-party-sets">#</a></h3>
<p><a href="https://developer.chrome.com/docs/privacy-sandbox/first-party-sets/" rel="noopener">First-Party Sets (FPS)</a> is part of the <a href="https://privacysandbox.com/" rel="noopener">Privacy Sandbox</a>. It is a way for organizations to declare relationships among sites, so that browsers can decide when to allow limited third-party cookie access for sites within a set. FPS began a staged rollout in Chrome 113.</p>
<h3 id="css-media-features-and-more">CSS media features and more <a class="headline-link" href="https://web.dev/web-platform-05-2023/#css-media-features-and-more">#</a></h3>
<p>For CSS, Chrome 113 includes the <code>overflow-inline</code> and <code>overflow-block</code> media features.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 113, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 66, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      66
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">Edge 113, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/@media/overflow-inline#browser_compatibility" target="_blank">Source</a>
</div>
<p>And the <code>update</code> media feature.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 113, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 102, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      102
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">Edge 113, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/@media/update-frequency#browser_compatibility" target="_blank">Source</a>
</div>
<p>Also included is the <code>linear()</code> easing function, which you can learn more about in the article <a href="https://developer.chrome.com/articles/css-linear-easing-function/" rel="noopener">Create complex animation curves in CSS with the <code>linear()</code> easing function</a>.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 113, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 112, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      112
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">Edge 113, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><p></p>
  </ul>
</div>
<h3 id="css-color-level-4-features">CSS Color Level 4 features <a class="headline-link" href="https://web.dev/web-platform-05-2023/#css-color-level-4-features">#</a></h3>
<p>Firefox 113 includes the <code>color()</code>, <code>lab()</code>, <code>lch()</code>, <code>oklab()</code>, <code>oklch()</code>, and <code>color-mix()</code> functional notations, along with the forced-color-adjust property. This means that the new color spaces and functions are now supported across all three major engines. You can learn more about these color spaces and functions in the <a href="https://web.dev/articles/high-definition-css-color-guide/">High definition CSS color guide</a>.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 111, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 113, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">Edge 111, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 16.2, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      16.2
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/color_value/color-mix#browser_compatibility" target="_blank">Source</a>
</div>
<h3 id="more-control-over-nth-child-selections">More control over <code>:nth-child()</code> selections <a class="headline-link" href="https://web.dev/web-platform-05-2023/#more-control-over-nth-child-selections">#</a></h3>
<p>Firefox 113 also adds the ability to pass a selector list into <code>:nth-child()</code> and <code>nth-last-child()</code>. Learn more about this, and see examples in the post <a href="https://developer.chrome.com/articles/css-nth-child-of-s/" rel="noopener">More control over :nth-child() selections with the of S syntax</a>.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 111, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 113, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">Edge 111, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      111
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 9, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      9
    </span>
    </li>
  </ul>
</div>
<h3 id="compressions-streams-api">Compressions Streams API <a class="headline-link" href="https://web.dev/web-platform-05-2023/#compressions-streams-api">#</a></h3>
<p>Now supported in all three major engines due to inclusion in Firefox 113, the Compressions Streams API enables the compression and decompression of streams. This means that JavaScript applications no longer need to bundle a compression library.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 80, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      80
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 113, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      113
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="edge">
      <span class="visually-hidden">Edge 80, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      80
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="safari">
      <span class="visually-hidden">Safari 16.4, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      16.4
    </span>
    </li>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/API/CompressionStream#browser_compatibility" target="_blank">Source</a>
</div>
<h3 id="css-nesting">CSS nesting <a class="headline-link" href="https://web.dev/web-platform-05-2023/#css-nesting">#</a></h3>
<p>Safari 16.5 mostly resolved issues, but also adds support for <a href="https://developer.chrome.com/articles/css-nesting/" rel="noopener">CSS Nesting</a>, with the new nesting selector <code>&gt;</code>, used to nest related style rules, in a way that will be familiar to developers who have used pre-processors:</p>
<div><pre class="language-css"><code class="language-css"><span class="token selector">.nesting</span> <span class="token punctuation">{</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> hotpink<span class="token punctuation">;</span><br><br>  <span class="token selector">&gt; .is</span> <span class="token punctuation">{</span><br>    <span class="token property">color</span><span class="token punctuation">:</span> rebeccapurple<span class="token punctuation">;</span><br><br>    <span class="token selector">&gt; .awesome</span> <span class="token punctuation">{</span><br>      <span class="token property">color</span><span class="token punctuation">:</span> deeppink<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</div><div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 112, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      112
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge 112, Supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
112
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari 16.5, Supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
16.5
</span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/Nesting_selectors#browser_compatibility" target="_blank">Source</a>
</div>
<h3 id="balancing-headlines-with-text-wrap-balance">Balancing headlines with <code>text-wrap: balance</code> <a class="headline-link" href="https://web.dev/web-platform-05-2023/#balancing-headlines-with-text-wrap-balance">#</a></h3>
<p>From Chrome 114 you can use <code>text-wrap: balance</code>. This allows you to balance headlines, avoiding the issue of having a single word on the final line, providing a more pleasing and readable result. You can find out more in <a href="https://developer.chrome.com/blog/css-text-wrap-balance/" rel="noopener">CSS text-wrap: balance</a>.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 114, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      114
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox, Not supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge 114, Supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
114
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari, Not supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="no" title="Not supported" aria-label="Not supported"><p></p>
<p></p></span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/CSS/text-wrap#browser_compatibility" target="_blank">Source</a>
</div>
<h3 id="chips-cookies-having-independent-partitioned-state">CHIPS: Cookies Having Independent Partitioned State <a class="headline-link" href="https://web.dev/web-platform-05-2023/#chips-cookies-having-independent-partitioned-state">#</a></h3>
<p>As part of the work to <a href="https://developer.chrome.com/docs/privacy-sandbox/third-party-cookie-phase-out/" rel="noopener">phase out third-party cookies</a>, <a href="https://developer.chrome.com/docs/privacy-sandbox/chips/" rel="noopener">CHIPS</a> enables opting-in to third-party cookies being partitioned by top-level site using the new cookie attribute <code>Partitioned</code>. CHIPS is available in Chrome 114.</p>
<h3 id="the-popover-api">The Popover API <a class="headline-link" href="https://web.dev/web-platform-05-2023/#the-popover-api">#</a></h3>
<p>Also in Chrome 114 is the <a href="https://developer.mozilla.org/docs/Web/API/Popover_API" rel="noopener">Popover API</a> making it easier to build transient user interface (UI) elements that are displayed on top of all other web app UI.</p>
<p>These include user-interactive elements like action menus, form element suggestions, content pickers, and teaching UI.</p>
<p>The new popover attribute enables any element to be displayed in the <a href="https://developer.chrome.com/blog/top-layer-devtools/" rel="noopener">top layer</a> automatically. This means no more worrying about positioning, stacking elements, focus or keyboard interactions for the developer.</p>
<p>Learn more in <a href="https://developer.chrome.com/blog/introducing-popover-api/" rel="noopener">Introducing the popover API</a>.</p>
<div class="wdi-browser-compat">
  <span class="wdi-browser-compat__label">Browser support</span>
  <ul class="wdi-browser-compat__items">
    <li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="chrome">
      <span class="visually-hidden">Chrome 114, Supported</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
      114
    </span>
    </li><li class="wdi-browser-compat__item">
    <span class="wdi-browser-compat__icon" data-browser="firefox">
      <span class="visually-hidden">Firefox 114, Behind a flag</span>
    </span>
    <span class="wdi-browser-compat__version" data-compat="flag" title="Behind a flag" aria-label="Behind a flag">
<p></p></span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="edge">
<span class="visually-hidden">Edge 114, Supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
114
</span>
</li><li class="wdi-browser-compat__item">
<span class="wdi-browser-compat__icon" data-browser="safari">
<span class="visually-hidden">Safari 17, Supported</span>
</span>
<span class="wdi-browser-compat__version" data-compat="yes" title="Supported" aria-label="Supported">
17
</span>
</li><p></p>
  </ul>
  <a class="wdi-browser-compat__link" href="https://developer.mozilla.org/docs/Web/API/ToggleEvent#browser_compatibility" target="_blank">Source</a>
</div>
<h2 id="beta-browser-releases">Beta browser releases <a class="headline-link" href="https://web.dev/web-platform-05-2023/#beta-browser-releases">#</a></h2>
<p>Beta browser versions give you a preview of things that will be in the next stable version of the browser. It's a great time to test new features, or removals, that could impact your site before the world gets that release. New betas are <a href="https://developer.mozilla.org/docs/Mozilla/Firefox/Releases/114" rel="noopener">Firefox 114</a>, <a href="https://developer.chrome.com/blog/chrome-115-beta/" rel="noopener">Chrome 115</a>, and <a href="https://developer.apple.com/documentation/safari-release-notes/safari-16_6-release-notes" rel="noopener">Safari 16.6</a>. These releases bring many great features to the platform. Check out the release notes for all of the details, here are just a few highlights.</p>
<p>Chrome 115 includes multiple values for the CSS <code>display</code> property. This means that <code>display: flex</code> becomes <code>display: block flex</code> and <code>display: block</code> becomes <code>display: block flow</code>. The single values are maintained as legacy keywords, and once in Chrome Stable this makes the multiple values available accross all engines.</p>
<p>Also in Chrome 115 are the <code>ScrollTimeline</code> and <code>ViewTimeline</code> extensions to the Web Animations specification. These enable <a href="https://developer.chrome.com/articles/scroll-driven-animations/" rel="noopener">scroll-driven animations</a> via CSS and JavaScript.</p>
<p>Firefox 114 includes the <a href="https://developer.mozilla.org/docs/Web/API/WebTransport_API" rel="noopener">WebTransport API</a>, a modern update to WebSockets providing support for multiple streams, unidirectional streams, and out-of-order delivery.</p>
<p><em>Photo by <a href="https://unsplash.com/@photozace" rel="noopener">Photoz ace</a>.</em></p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[部署 AVIF 以获得响应更快的网站]]></title>
            <link>https://web.dev/avif-updates-2023/</link>
            <guid>https://web.dev/avif-updates-2023/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>AVIF是一种新的图像格式，在网络上迅速流行起来，因为它具有高压缩率、高效性能和广泛的采用。AVIF是一种开放、免版税的图像格式，基于由开放媒体联盟标准化的AV1视频编解码器。本文将概述AVIF在生态系统中的采用情况，以及开发人员可以从AVIF中获得的静态图像和动画的性能和质量优势。

AVIF生态系统的最新情况是什么？
自Chrome、Firefox和Safari引入AVIF以来，AVIF在网络上的使用量稳步增长；几乎所有的浏览器都支持AVIF。

仅在Chrome中，AVIF的使用量在Chrome稳定版添加AVIF支持后的一年多时间里增长到了约1%。

一些图像CDN（内容分发网络），如Akamai、Cloudflare、Cloudinary和Imgix，今天都在提供AVIF图像服务。在一篇宣布支持AVIF的博文中，Imgix报告称与JPEG相比，AVIF可以节省60%的文件大小，与WebP相比可以节省35%。这种文件大小的节省不仅可以带来显著的存储节省，还可以帮助页面加载更快，从而提高最大内容绘制（LCP）时间。LCP是核心Web指标之一，表示页面上最大内容</summary>
    <div>
    <div>OriginTitle: Deploying AVIF for more responsive websites</div>

    </div></div><p><a href="https://aomedia.org/avif/" rel="noopener">AVIF</a>是一种新的图像格式，由于其高压缩率、高效的性能和广泛的采用而在网络上迅速流行。 AVIF 是一种开放、免版税的图像格式，基于开放媒体联盟标准化的 AV1 视频编解码器。 本博文将概述生态系统中如何采用 AVIF，以及开发人员可以从 AVIF 获得静态图像和动画的哪些性能和质量优势。</p>
<h2 id="whats-new-with-the-avif-ecosystem">AVIF 生态系统有哪些新变化？<a class="headline-link" href="https://web.dev/avif-updates-2023/#whats-new-with-the-avif-ecosystem">#</a></h2>
<p>自从在 Chrome、Firefox 和 Safari 中引入 AVIF 以来，AVIF 在网络上的使用量一直在稳步增长；<a href="https://caniuse.com/avif" rel="noopener">几乎所有浏览器</a>今天支持AVIF。</p>
<p>仅在 Chrome 中，在 Chrome 稳定版添加 AVIF 支持后的一年多时间里，AVIF 使用率就增长了约 1%。</p>
<figure>
  <img alt="A line graph of AVIF usage in Chrome from May 2021 to March 2023. Support has steadily grown from 0% to just beneath 1.4%." decoding="async" height="367" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<p>许多图像 CDN，例如<a href="https://techdocs.akamai.com/ivm/changelog/apr-07-2021-new-policy-filters-and-avif-image-format" rel="noopener">阿卡迈</a>,<a href="https://blog.cloudflare.com/images-avif-blur-bundle/" rel="noopener">云耀</a>,<a href="https://cloudinary.com/blog/how_to_adopt_avif_for_images_with_cloudinary" rel="noopener">云数</a>和<a href="https://blog.imgix.com/2021/10/27/avif-limited-availability" rel="noopener">伊姆吉克斯</a>今天提供 AVIF 图像。 在一个<a href="https://blog.imgix.com/2021/10/27/avif-limited-availability" rel="noopener">博客文章</a>在宣布支持 AVIF 后，Imgix 报告称，与 JPEG 相比，文件大小节省了 60%，与 WebP 相比，文件大小节省了 35%。 这些文件大小的节省不仅可以显着节省存储空间，而且还有助于更快地加载页面、更快地生成内容<a href="https://web.dev/lcp/">最大内容涂料 (LCP)</a>次。 LCP 是其中之一<a href="https://web.dev/learn-core-web-vitals/">核心网络生命力</a>，并表示页面上最大内容块的加载速度。 使用现代编解码器来压缩图像是其中之一<a href="https://web.dev/optimize-lcp/">关键技术</a>以减少LCP。<a href="https://developer.chrome.com/docs/lighthouse/overview/" rel="noopener">灯塔</a>是一个很棒的 Chrome 开发者工具，用于测试您的网站并查看<a href="https://developer.chrome.com/en/docs/lighthouse/performance/uses-webp-images/" rel="noopener">AVIF 会带来多少节省</a>。</p>
<p>WordPress 是<a href="https://www.wpbeginner.com/beginners-guide/ultimate-list-of-wordpress-stats-facts-and-other-research/" rel="noopener">最受欢迎</a>世界上最大的网站平台，并且有许多插件可供开发人员将图像转换为 AVIF，例如：</p>
<ul>
<li><a href="https://wordpress.org/plugins/autoptimize/" rel="noopener">自动优化</a></li>
<li><a href="https://wordpress.org/plugins/webp-converter-for-media/" rel="noopener">转换为媒体</a></li>
<li><a href="https://ewww.io/" rel="noopener">EWW图像优化器</a></li>
<li><a href="https://optimole.com/" rel="noopener">奥普莫勒</a></li>
<li><a href="https://shortpixel.com/" rel="noopener">短像素图像优化器</a></li>
</ul>
<p>对于更多实践开发人员来说，诸如<a href="https://imagemagick.org/index.php" rel="noopener">图像魔术师</a>和<a href="https://ffmpeg.org/" rel="noopener">FFmpeg</a>是一个很好的起点。</p>
<h2 id="avif-encode-speed">AVIF编码速度<a class="headline-link" href="https://web.dev/avif-updates-2023/#avif-encode-speed">#</a></h2>
<p>快速的编码速度和高视觉质量对于大规模部署图像压缩至关重要。 过去两年AVIF软件编码速度有了显着提高。 与其他现代静态图像格式相比，AVIF 生成的文件较小，但视觉质量相似（请参见下图，越低越好），但也<a href="https://storage.googleapis.com/avif-comparison/subset1.html" rel="noopener">编码速度更快</a>。</p>
<figure>
  <img alt="A bar chart comparing various image codec file sizes as a percentage of the output of TurboJPEG. AVIF is lowest, then JPEG XL, then WebP, and finally MozJPEG." decoding="async" height="415" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<p>下图（越高越好）说明了 AVIF 编码速度与其他图像格式的比较。 WebP 等上一代编解码器受益于不太复杂（但效率也较低）的压缩算法。 通过多线程编码方案，AVIF 在常见用例中实现了类似的性能，同时提供了显着的压缩增益。</p>
<figure>
  <img alt="A comparison of image codec encoding speed. The compared encoders are average AVIF, average JPEG XL, average WebP (one thread), and average MozJPEG (one thread). AVIF is generally one of the fastest image encoders in terms of best quality and default effort, but is the slowest of all encoders for on-the-fly performance." decoding="async" height="433" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<p>对于对更详细的编码速度和视觉质量比较感兴趣的开发人员，<a href="https://storage.googleapis.com/avif-comparison/index.html" rel="noopener">图像编码比较</a>网站包含可重复的基准测试结果。</p>
<p>虽然 AVIF 和 WebP 等现代图像编解码器的软件实现针对 x86 和 ARM 处理器架构进行了优化，但大规模压缩大量图像的计算成本可能很高。 降低压缩成本的一种替代方法是探索硬件加速。<a href="https://www.blue-dot.io/" rel="noopener">蓝点</a>开发了一种在可编程 FPGA 上运行的硬件加速 Pulsar-AVIF 编码器，例如 AMD 的 Alveo U250。 与基于软件的 avifenc 相比，Pulsar-AVIF 的速度提高了 7 至 23 倍，并且具有类似的性能<a href="https://www.blue-dot.io/avif-speed-quality-benchmark/" rel="noopener">压缩效率</a>。</p>
<div class="table-wrapper scrollbar">
  <table>
    <thead>
      <tr>
        <th>编码器</th>
        <th>编码时间（毫秒）</th>
        <th>每秒帧数</th>
        <th>CPU利用率</th>
        <th>硬件规格</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          脉冲星-AVIF<br>
          (FPGA)
        </td>
        <td>60</td>
        <td>409.85</td>
        <td>305%</td>
        <td>
          AMD Alveo U250 1ea + 英特尔(R) 至强(R)<br>
          Platinum 8171 CPU，2.6GHz，10 核
        </td>
      </tr>
      <tr>
        <td>
          阿维芬<br>
          （利巴姆）
        </td>
        <td>405</td>
        <td>59.26</td>
        <td>3200%</td>
        <td>
          Intel(R) Xeon(R) Platinum 8370C CPU 为<br>
          2.8GHz，32核
        </td>
      </tr>
      <tr>
        <td>
          阿维芬<br>
          (SVT-AV1)
        </td>
        <td>1325</td>
        <td>18.11</td>
        <td>3200%</td>
        <td>
          Intel(R) Xeon(R) Platinum 8370C CPU 为<br>
          2.8GHz，32核
        </td>
      </tr>
    </tbody>
    <caption>
      AVIF编码速度比较<br>
      <ul>
        <li>测试集：Kodak（24 张 768x512 图像）</li>
        <li>同时编码 24 个图像（24 个进程）</li>
        <li>每个软件编码过程由4个线程执行。 (-j 4)</li>
      </ul>
    </caption>
  </table>
</div>
<p>开发者可以使用云虚拟机部署Pulsar-AVIF编码器，例如<a href="https://learn.microsoft.com/en-us/azure/virtual-machines/np-series" rel="noopener">Azure NP 系列</a>。</p>
<h2 id="avif-features-for-responsive-web-pages">响应式网页的 AVIF 功能<a class="headline-link" href="https://web.dev/avif-updates-2023/#avif-features-for-responsive-web-pages">#</a></h2>
<p>AVIF 有一些有趣的功能，有助于提供响应更快的网页。 这次我们将深入研究动画 AVIF，这是迄今为止在网络上提供炫酷动画的最有效方式。</p>
<h3 id="animated-avif">动画 AVIF<a class="headline-link" href="https://web.dev/avif-updates-2023/#animated-avif">#</a></h3>
<p>动画<a href="https://en.wikipedia.org/wiki/GIF" rel="noopener">动图</a>还是<a href="https://almanac.httparchive.org/en/2022/media#gifs-animated-and-not" rel="noopener">一种流行的格式</a>尽管已经 35 岁，但仍致力于动画图像。 动画 GIF 的最大缺点是仅支持 256 色，压缩效果差，导致文件大小非常大，同时还限制了实际用例的分辨率或帧速率。 相比之下，动画 AVIF 编码实际上与 AV1 视频编码方案相同，与动画 GIF 相比，它可以显着节省文件大小。</p>
<p>我们运行了一个简单的基准测试，将一组动画 GIF 编码为 AVIF 和 JPEG XL。 在测试集中，与原始 GIF 文件相比，平均文件大小节省百分比约为 86%，与动画 JPEG XL 文件相比，平均文件大小节省百分比约为 73%*。</p>
<figure>
  <img alt="A comparison of animated image codec performance. AVIF outperforms GIF and JPEG XL in terms of both average and median file size." decoding="async" height="371" loading="lazy" sizes="(min-width: 600px) 600px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=1200 1200w" width="600">
  <figcaption>
     * libavif 和 libjxl 版本：libavif 版本 4cff6a3（libaom 版本 v3.5.0）、libjxl 版本 176b1c03。 测试集：15 个示例 GIF<a href="https://commons.wikimedia.org/wiki/Category:Animated_GIF_files." rel="noopener">维基百科</a>。
  </figcaption>
</figure>
<p>Chrome、Firefox 和 Safari 都支持动画 AVIF 播放。</p>
<p>FFmpeg 是一种用于创建动画 AVIF 文件的工具，下面是使用 FFmpeg 将 GIF 转换为 AVIF 的基本示例：</p>
<div><pre class="language-bash"><code class="language-bash">ffmpeg-i<span class="token string">”<span class="token variable">$INPUT_GIF</span>”</span>-crf<span class="token variable">$CRF</span>-b:v<span class="token number">0</span> <span class="token string">”<span class="token variable">$输出</span>.avif”</span></code></pre>
</div><p><code>$CRF</code>是所需的输出质量，其范围为<code>0</code>到<code>63</code>。 较低的值意味着更好的质量和更大的文件大小。<code>0</code>用途<a href="https://en.wikipedia.org/wiki/Lossless_compression" rel="noopener">无损压缩</a>。 从值开始<code>23</code>适用于小型动画 AVIF 文件。</p>
<p>FFmpeg 默认使用 libaom 来编码 AVIF 图像，但也可以使用<a href="https://github.com/xiph/rav1e" rel="noopener">拉夫1e</a>或者<a href="https://gitlab.com/AOMediaCodec/SVT-AV1" rel="noopener">SVT-AV1</a>有空的时候。 有关编码器选择、调整编码参数以实现速度/质量权衡的更多信息，请参阅<a href="https://trac.ffmpeg.org/wiki/Encode/AV1" rel="noopener">FFmpeg 的 AV1 编码指南</a>。</p>
<p>另一个用例是将 AV1 视频重新打包为 AVIF，而不重新编码原始文件。 这比解码/编码原始 AV1 文件要便宜得多，并且使 AV1 视频可用于<code></code>元素。 通过<code>-c:v 复制</code>FFmpeg 可以做到这一点。</p>
<div><pre class="language-bash"><code class="language-bash">ffmpeg-i<span class="token string">”<span class="token variable">$INPUT_AV1_VIDEO</span>”</span>-c:v 复制 -an<span class="token string">”<span class="token variable">$输出</span>.avif”</span></code></pre>
</div><h2 id="conclusions">结论<a class="headline-link" href="https://web.dev/avif-updates-2023/#conclusions">#</a></h2>
<p>自推出以来，AVIF 在网络上的使用量一直在稳步增长，并受到浏览器、图像 CDN、WordPress 插件和编码工具的广泛支持。 总而言之，AVIF 是在网络上提供图像的绝佳选择； AVIF 可以快速编码和解码，同时提供最佳质量或最小的文件大小，无论您更喜欢您的网站。 AVIF 是在网络上提供动画的最有效方式。 如果您有疑问、意见或功能请求，请联系<a href="https://groups.google.com/a/aomedia.org/g/av1-discuss" rel="noopener">av1-讨论邮件列表</a>,<a href="https://github.com/AOMediaCodec/community/wiki" rel="noopener">AOM Github 社区</a>， 和<a href="https://github.com/AOMediaCodec/av1-avif/wiki" rel="noopener">AVIF 维基</a>。</p>
<p><em>英雄形象来自<a href="https://unsplash.com/photos/oXlXu2qukGE" rel="noopener">未飞溅</a>， 经过<a href="https://unsplash.com/@amal_z7z" rel="noopener">阿迈勒小号
</a>。</em></p>
<hr><p><a href="https://aomedia.org/avif/" rel="noopener">AVIF</a> is a new image format that is quickly gaining popularity on the web because of its high compression rates, efficient performance, and broad adoption. AVIF is an open, royalty-free image format that is based on the AV1 video codec standardized by the Alliance for Open Media. This blog post will provide an overview of how AVIF is adopted in the ecosystem, and what kind of performance and quality benefits developers can expect from AVIF for still images and animations.</p>
<h2 id="whats-new-with-the-avif-ecosystem">What’s new with the AVIF ecosystem? <a class="headline-link" href="https://web.dev/avif-updates-2023/#whats-new-with-the-avif-ecosystem">#</a></h2>
<p>Since the introduction of AVIF in Chrome, Firefox and Safari, usage of AVIF on the web has been growing steadily; <a href="https://caniuse.com/avif" rel="noopener">almost all browsers</a> support AVIF today.</p>
<p>In Chrome alone, AVIF usage grew to approximately one percent in a little over a year after Chrome added AVIF support in stable.</p>
<figure>
  <img alt="A line graph of AVIF usage in Chrome from May 2021 to March 2023. Support has steadily grown from 0% to just beneath 1.4%." decoding="async" height="367" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QunCznNR5EJf8lp4rGNe.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<p>A number of image CDNs, such as <a href="https://techdocs.akamai.com/ivm/changelog/apr-07-2021-new-policy-filters-and-avif-image-format" rel="noopener">Akamai</a>, <a href="https://blog.cloudflare.com/images-avif-blur-bundle/" rel="noopener">Cloudflare</a>, <a href="https://cloudinary.com/blog/how_to_adopt_avif_for_images_with_cloudinary" rel="noopener">Cloudinary</a> and <a href="https://blog.imgix.com/2021/10/27/avif-limited-availability" rel="noopener">Imgix</a> are serving AVIF images today. In a <a href="https://blog.imgix.com/2021/10/27/avif-limited-availability" rel="noopener">blog post</a> announcing AVIF support, Imgix reported 60% file size savings compared to JPEG and 35% savings compared to WebP. These file size savings lead to significant storage savings, but also help pages load faster, yielding faster <a href="https://web.dev/lcp/">Largest Contentful Paint (LCP)</a> times. LCP is one of the <a href="https://web.dev/learn-core-web-vitals/">Core Web Vitals</a>, and represents how quickly the largest block of content on the page has loaded. Using modern codecs to compress images is one of the <a href="https://web.dev/optimize-lcp/">key techniques</a> to reduce LCP. <a href="https://developer.chrome.com/docs/lighthouse/overview/" rel="noopener">Lighthouse</a> is a great Chrome developer tool for testing your web site and to see <a href="https://developer.chrome.com/en/docs/lighthouse/performance/uses-webp-images/" rel="noopener">how much savings AVIF would bring</a>.</p>
<p>WordPress is the <a href="https://www.wpbeginner.com/beginners-guide/ultimate-list-of-wordpress-stats-facts-and-other-research/" rel="noopener">most popular</a> website platform in the world, and there are number of plugins available for developers to convert their images to AVIF, such as:</p>
<ul>
<li><a href="https://wordpress.org/plugins/autoptimize/" rel="noopener">AutoOptimize</a></li>
<li><a href="https://wordpress.org/plugins/webp-converter-for-media/" rel="noopener">Converted for Media</a></li>
<li><a href="https://ewww.io/" rel="noopener">EWWW Image Optimizer</a></li>
<li><a href="https://optimole.com/" rel="noopener">Optimole</a></li>
<li><a href="https://shortpixel.com/" rel="noopener">ShortPixel Image Optimizer</a></li>
</ul>
<p>For more hands-on developers, tools like <a href="https://imagemagick.org/index.php" rel="noopener">ImageMagick</a> and <a href="https://ffmpeg.org/" rel="noopener">FFmpeg</a> are a good starting point.</p>
<h2 id="avif-encode-speed">AVIF encode speed <a class="headline-link" href="https://web.dev/avif-updates-2023/#avif-encode-speed">#</a></h2>
<p>Fast encoding speed and high visual quality are critical for deploying image compression at scale. AVIF software encoding speed has improved significantly over the past two years. Compared to other modern still image formats, AVIF produces smaller files with similar visual quality (see the following graph, lower is better) but is also <a href="https://storage.googleapis.com/avif-comparison/subset1.html" rel="noopener">faster to encode</a>.</p>
<figure>
  <img alt="A bar chart comparing various image codec file sizes as a percentage of the output of TurboJPEG. AVIF is lowest, then JPEG XL, then WebP, and finally MozJPEG." decoding="async" height="415" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/bmoOLQMWjYTQzWK8hPE8.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<p>The chart below (higher is better) illustrates how AVIF encoding speed compares to other image formats. Previous generation codecs like WebP benefit from the less complex (but also less efficient) compression algorithms. With a multi-threaded encoding scheme, AVIF achieves similar performance for common use cases while delivering significant compression gains.</p>
<figure>
  <img alt="A comparison of image codec encoding speed. The compared encoders are average AVIF, average JPEG XL, average WebP (one thread), and average MozJPEG (one thread). AVIF is generally one of the fastest image encoders in terms of best quality and default effort, but is the slowest of all encoders for on-the-fly performance." decoding="async" height="433" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/FSzUG4d4ixJQytow1WNU.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<p>For developers interested in more detailed encoding speed and visual quality comparisons, the <a href="https://storage.googleapis.com/avif-comparison/index.html" rel="noopener">Image Coding Comparisons</a> site contains reproducible benchmark results.</p>
<p>While software implementations for modern image codecs like AVIF and WebP are optimized for x86 and ARM processors architectures, compressing vast amounts of images at scale can be computationally expensive. One alternative to reduce compression costs is to explore hardware acceleration. <a href="https://www.blue-dot.io/" rel="noopener">Bluedot</a> has developed a hardware accelerated Pulsar-AVIF encoder running on programmable FPGAs, such as AMD's Alveo U250. Compared to software based avifenc, Pulsar-AVIF delivers a 7 to 23 times speed improvement with similar <a href="https://www.blue-dot.io/avif-speed-quality-benchmark/" rel="noopener">compression efficiency</a>.</p>
<div class="table-wrapper scrollbar">
  <table>
    <thead>
      <tr>
        <th>Encoder</th>
        <th>Encode time (ms)</th>
        <th>Frames per second</th>
        <th>CPU utilization</th>
        <th>Hardware specification</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          Pulsar-AVIF<br>
          (FPGA)
        </td>
        <td>60</td>
        <td>409.85</td>
        <td>305%</td>
        <td>
          AMD Alveo U250 1ea + Intel(R) Xeon(R)<br>
          Platinum 8171 CPU at 2.6GHz, 10 cores
        </td>
      </tr>
      <tr>
        <td>
          avifenc<br>
          (libaom)
        </td>
        <td>405</td>
        <td>59.26</td>
        <td>3200%</td>
        <td>
          Intel(R) Xeon(R) Platinum 8370C CPU at<br>
          2.8GHz, 32 cores
        </td>
      </tr>
      <tr>
        <td>
          avifenc<br>
          (SVT-AV1)
        </td>
        <td>1325</td>
        <td>18.11</td>
        <td>3200%</td>
        <td>
          Intel(R) Xeon(R) Platinum 8370C CPU at<br>
          2.8GHz, 32 cores
        </td>
      </tr>
    </tbody>
    <caption>
      AVIF encode speed comparison<br>
      <ul>
        <li>Test set: Kodak (24 images of 768x512)</li>
        <li>Encoding 24 images simultaneously (24 processes)</li>
        <li>Each software encoding process is executed with 4 threads. (-j 4)</li>
      </ul>
    </caption>
  </table>
</div>
<p>Developers can deploy Pulsar-AVIF encoder with cloud virtual machines, such as <a href="https://learn.microsoft.com/en-us/azure/virtual-machines/np-series" rel="noopener">Azure NP-Series</a>.</p>
<h2 id="avif-features-for-responsive-web-pages">AVIF features for responsive web pages <a class="headline-link" href="https://web.dev/avif-updates-2023/#avif-features-for-responsive-web-pages">#</a></h2>
<p>AVIF has a few interesting features that will help to deliver more responsive web pages. This time we’ll dive a bit into animated AVIFs, which are by far the most efficient way of delivering cool animations on the web.</p>
<h3 id="animated-avif">Animated AVIF <a class="headline-link" href="https://web.dev/avif-updates-2023/#animated-avif">#</a></h3>
<p>Animated <a href="https://en.wikipedia.org/wiki/GIF" rel="noopener">GIF</a> is still <a href="https://almanac.httparchive.org/en/2022/media#gifs-animated-and-not" rel="noopener">a popular format</a> for animated images, despite being 35 years old. Biggest drawbacks of animated GIFs are the support for 256 colors only and poor compression leading to very large file sizes while also limiting the resolution or frame rate for practical use cases. In contrast, animated AVIF coding is actually the same as AV1 video coding scheme which provides significant file size savings compared to animated GIF.</p>
<p>We ran a simple benchmark where we encoded a set of animated GIFs to both AVIF and JPEG XL. Over the test set, median file size savings percentage was approximately 86% compared to original GIF files and about 73% compared to animated JPEG XL files*.</p>
<figure>
  <img alt="A comparison of animated image codec performance. AVIF outperforms GIF and JPEG XL in terms of both average and median file size." decoding="async" height="371" loading="lazy" sizes="(min-width: 600px) 600px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ltmx3lsTIyqiVcRAaYXL.png?auto=format&amp;w=1200 1200w" width="600">
  <figcaption>
    * libavif and libjxl versions: libavif version 4cff6a3 (libaom version v3.5.0), libjxl version 176b1c03. Test set: 15 sample GIFs from <a href="https://commons.wikimedia.org/wiki/Category:Animated_GIF_files." rel="noopener">Wikipedia</a>.
  </figcaption>
</figure>
<p>Chrome, Firefox and Safari all support animated AVIF playbacks.</p>
<p>FFmpeg is one tool to use for creating animated AVIF files, here’s a basic example of converting a GIF to AVIF using FFmpeg:</p>
<div><pre class="language-bash"><code class="language-bash">ffmpeg -i <span class="token string">"<span class="token variable">$INPUT_GIF</span>"</span> -crf <span class="token variable">$CRF</span> -b:v <span class="token number">0</span> <span class="token string">"<span class="token variable">$OUTPUT</span>.avif"</span></code></pre>
</div><p><code>$CRF</code> is the desired output quality on a scale of <code>0</code> to <code>63</code>. Lower values mean better quality and greater file size. <code>0</code> uses <a href="https://en.wikipedia.org/wiki/Lossless_compression" rel="noopener">lossless compression</a>. Start with a value of <code>23</code> for small animated AVIF files.</p>
<p>FFmpeg uses libaom by default for encoding AVIF images, but it can also use <a href="https://github.com/xiph/rav1e" rel="noopener">rav1e</a> or <a href="https://gitlab.com/AOMediaCodec/SVT-AV1" rel="noopener">SVT-AV1</a> when available. More information about encoder choices, tuning the encoding parameters for speed/quality trade-offs can be found in <a href="https://trac.ffmpeg.org/wiki/Encode/AV1" rel="noopener">FFmpeg's AV1 encoding guide</a>.</p>
<p>Another use case is to repackage an AV1 video into AVIF without re-encoding the original file. This is significantly cheaper than decoding/encoding the original AV1 file and makes the AV1 video available for use with the <code>&lt;img&gt;</code> element. Passing <code>-c:v copy</code> to FFmpeg can do this.</p>
<div><pre class="language-bash"><code class="language-bash">ffmpeg -i <span class="token string">"<span class="token variable">$INPUT_AV1_VIDEO</span>"</span> -c:v copy -an <span class="token string">"<span class="token variable">$OUTPUT</span>.avif"</span></code></pre>
</div><h2 id="conclusions">Conclusions <a class="headline-link" href="https://web.dev/avif-updates-2023/#conclusions">#</a></h2>
<p>AVIF use on the web has been steadily increasing since launch and is widely supported by browsers, image CDNs, WordPress plugins and encoding tools. All in all, AVIF is a great choice for serving images on the web; AVIF is fast to encode and decode while providing the best quality or smallest file size, whichever you prefer for your website. AVIF is the most efficient way to deliver animations on the web. If you have questions, comments, or feature requests, please reach out on the <a href="https://groups.google.com/a/aomedia.org/g/av1-discuss" rel="noopener">av1-discuss mailing list</a>, <a href="https://github.com/AOMediaCodec/community/wiki" rel="noopener">AOM Github community</a>, and <a href="https://github.com/AOMediaCodec/av1-avif/wiki" rel="noopener">AVIF wiki</a>.</p>
<p><em>Hero image from <a href="https://unsplash.com/photos/oXlXu2qukGE" rel="noopener">Unsplash</a>, by <a href="https://unsplash.com/@amal_z7z" rel="noopener">Amal S
</a>.</em></p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[redBus 如何改进其网站的 Next Paint 交互 (INP) 并将销售额提高 7%]]></title>
            <link>https://web.dev/redbus-inp/</link>
            <guid>https://web.dev/redbus-inp/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>本文介绍了redBus如何通过优化Interaction to Next Paint (INP)指标来改善其网站的性能和用户体验。redBus通过使用Google的web-vitals JavaScript库来跟踪INP和其他重要的用户体验指标，并使用ELK分析前端收集到的数据。他们发现搜索页面的滚动和日期更改交互导致INP较差，因此他们采取了一系列优化措施，如对滚动事件进行防抖处理、使用requestAnimationFrame回调来优化渲染工作等。这些优化措施显著提高了搜索页面的INP，并使销售额增加了7%。此外，他们还通过减少不必要的重新渲染来优化了输入字段的交互，进一步提高了INP。通过优化INP，redBus成功改善了网站的性能和用户体验，取得了良好的商业效果。</summary>
    <div>
    <div>OriginTitle: How redBus improved their website's Interaction to Next Paint (INP) and increased sales by 7%</div>

    </div></div><p>网络及其功能正在快速发展。 您现在可以在 Web 上构建丰富且功能齐全的体验，这些体验可以实现本机应用程序在功能方面的大部分功能。</p>
<p>JavaScript 是整个网络交互的主要驱动力，但如果不小心使用，交互可能会感觉缓慢，并导致用户认为您的网站没有响应或完全损坏。 值得庆幸的是，<a href="https://web.dev/inp/">与下一个油漆的相互作用 (INP)</a>创建指标是为了解决这个特定的用户体验问题。</p>
<p>INP 测量页面在其生命周期内进行的所有交互，并报告代表网站响应用户输入的速度的单个值。 简单地说，如果一个页面的 INP 等于或低于<a href="https://web.dev/inp/#what-is-a-good-inp-score">良好的门槛</a>，与页面进行的所有交互都可以说是可靠且快速的。</p>
<p><a href="https://www.redbus.in/" rel="noopener">红巴士</a>位于印度的巴士预订和票务网站，即使在 INP 仍被视为实验性指标的时期，也付出了巨大的努力来改进其网站的 INP。 经过他们的努力，他们的销售额增加了 7%，再次说明了网络性能与业务健康之间的关系。 以下是 redBus 为提高网站 INP 所做的努力。</p>
<h2 id="top-goals">首要目标<a class="headline-link" href="https://web.dev/redbus-inp/#top-goals">#</a></h2>
<p>当 redBus 开始优化其网站的 INP 时，他们想到了三个目标：</p>
<ol>
<li>无论网络速度和设备功能如何，都专注于交互延迟，为用户提供更好的用户体验。</li>
<li>优化他们的网站以尽可能快地保持互动。</li>
<li>确保 API 的响应尽可能轻，以确保数据快速传输到前端。</li>
</ol>
<h2 id="the-journey">旅程<a class="headline-link" href="https://web.dev/redbus-inp/#the-journey">#</a></h2>
<p>redBus 通过两种方式对交互延迟进行分类：</p>
<ol>
<li>客户端 JavaScript 阻塞导致的交互延迟。 当交互使用过多的 JavaScript 来阻塞主线程时，渲染会延迟，这会影响页面的 INP。</li>
<li>API 调用导致的网络延迟。 虽然网络活动不是 INP 测量的内容，但在较慢的网络上，或者如果请求导致大量响应，依赖于远程 API 调用的交互可能会感觉缓慢。</li>
</ol>
<p>redBus 最初非常有信心他们网站的 INP 会很好，但是<a href="https://en.wikipedia.org/wiki/Real_user_monitoring" rel="noopener">真实用户监控 (RUM)</a>该指标第 95 个百分位数的数据讲述了一个不同的故事。</p>
<h2 id="how-redbus-measured-inp">redBus 如何测量 INP<a class="headline-link" href="https://web.dev/redbus-inp/#how-redbus-measured-inp">#</a></h2>
<p>redBus 依靠的是<a href="https://github.com/GoogleChrome/web-vitals" rel="noopener"><code>网络生命周期</code>JavaScript 库</a>由 Google 构建，不仅可以跟踪 INP，还可以跟踪其网站上所有页面的所有重要用户体验指标。 除了<code>网络生命周期</code>JavaScript库，使用redBus<a href="https://www.elastic.co/what-is/elk-stack" rel="noopener">麋鹿</a>分析前端收集的 INP 数据。</p>
<p>但是，您如何跟踪网站的 INP<a href="https://web.dev/lab-and-field-data-differences/#field-data">场</a>可能与 redBus 解决问题的方式完全不同。 我们强烈建议您阅读<a href="https://web.dev/find-slow-interactions-in-the-field/">如何发现现场缓慢的互动</a>了解如何最好地跟踪您网站的 INP，然后<a href="https://web.dev/diagnose-slow-interactions-in-the-lab/">如何在实验室中重现它们</a>在你开始之前<a href="https://web.dev/optimize-inp/">优化交互</a>。</p>
<p>一旦 redBus 拥有了跟踪 INP 的系统，他们就能够分析数据，以便更好地了解交互速度慢的情况。</p>
<figure>
  <img alt="A screenshot of the ELK logging system reporting INP values for analysis." decoding="async" height="287" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>
     redBus 用于分析从现场收集的 INP 值的日志系统的屏幕截图。 （<a href="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png" rel="noopener" target="_blank">单击此图像的更高分辨率版本</a>.)
  </figcaption>
</figure>
<h2 id="use-cases">用例<a class="headline-link" href="https://web.dev/redbus-inp/#use-cases">#</a></h2>
<p>当用户在redBus网站上搜索票价时，他们可以更改搜索页面上的日期，以筛选所需目的地的选定票价。 更改此页面上的日期的交互速度很慢，并且是 INP 较差的一个原因。</p>
<p>此外，当用户滚动浏览票价时，会从 API 延迟加载其他票价。<a href="https://web.dev/inp/#whats-in-an-interaction">尽管滚动本身并不影响 INP 的测量</a>， 这<code>滚动</code>事件侦听器本身安排了许多必须在主线程上运行的工作。 这项工作导致了主线程上的争用，从而增加了交互延迟，导致搜索页面上的 INP 较差。</p>
<figure>
  <video autoplay="" loop="" muted="" playsinline="">
    <source src="https://web-dev.imgix.net/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/xcxqqKz4JaUO9yQlS3Ex.webm" type="video/webm">
  </video>
  <figcaption>
     延迟加载行为用于在滚动时从 API 加载额外票价。 （<a href="https://web-dev.imgix.net/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/xcxqqKz4JaUO9yQlS3Ex.webm" rel="noopener" target="_blank">点击查看该视频的更高分辨率版本</a>.)
  </figcaption>
</figure>
<h2 id="how-redbus-optimized-inp-for-the-search-page">redBus 如何针对搜索页面优化 INP<a class="headline-link" href="https://web.dev/redbus-inp/#how-redbus-optimized-inp-for-the-search-page">#</a></h2>
<p>为了提高搜索页面的INP，redBus做了几处优化：</p>
<ul>
<li>这<a href="https://developer.mozilla.org/docs/Web/API/Element/scroll_event" rel="noopener"><code>滚动</code></a>事件处理程序是<a href="https://web.dev/debounce-your-input-handlers/">去抖</a>为了减少在给定时间段内触发事件回调的次数。 通过降低频率<code>滚动</code>事件回调运行后，主线程能够更快地响应搜索页面上的用户交互。</li>
<li>由此产生的渲染工作通过使用优先级<a href="https://developer.mozilla.org/docs/Web/API/window/requestAnimationFrame" rel="noopener"><code>请求动画帧</code></a>打回来。<code>请求动画帧</code>告诉浏览器回调中的工作必须在下一帧之前完成。</li>
</ul>
<figure>
  <img alt="A screenshot of the performance panel in Chrome DevTools showing the redBus website firing scroll event callbacks which are not debounced. The result is that the main thread becomes blocked." decoding="async" height="500" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>
     之前：滚动处理程序在没有应用于事件回调的去抖动的情况下触发。 主线程上存在相当多的阻塞任务，这会延迟交互。 
  </figcaption>
</figure>
<figure>
  <img alt="A screenshot of the performance panel in Chrome DevTools showing the redBus website firing scroll event callbacks which are debounced. The result is that the main thread is less blocked because the scroll event handlers fire far less frequently." decoding="async" height="500" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>
     之后：滚动处理程序在应用去抖动的情况下触发。 滚动事件回调触发的频率较低，使主线程有更多机会响应用户交互。 
  </figcaption>
</figure>
<p>此外，对搜索结果页面还进行了以下进一步优化：</p>
<ul>
<li>在搜索结果页面上倒数第二个卡上获取新批次的结果，以便通过提前触发延迟加载来改善用户体验和视觉性能。</li>
<li>延迟加载期间每次网络调用获取的结果较少。 通过将获取结果从 30 个减少到 10 个，观察到 INP 范围从 870 到 900 减少到 350 到 370。</li>
</ul>
<figure>
  <video autoplay="" loop="" muted="" playsinline="">
    <source src="https://web-dev.imgix.net/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ZjeONw0InjN2H5FEU0PM.webm" type="video/webm">
  </video>
  <figcaption>
     延迟加载行为用于在滚动时从 API 加载额外票价。 （<a href="https://web-dev.imgix.net/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ZjeONw0InjN2H5FEU0PM.webm" rel="noopener" target="_blank">点击查看该视频的更高分辨率版本</a>.)
  </figcaption>
</figure>
<p>虽然这些变化显着提高了搜索页面的 INP，但仍然存在一个问题：<a href="https://developer.mozilla.org/docs/Web/API/HTMLElement/change_event" rel="noopener"><code>改变</code></a>搜索页面输入字段上的事件将调用昂贵的减速器函数来更新用户界面。 这导致用户界面不必要的重新渲染，从而影响了页面的 INP。</p>
<figure>
  <video autoplay="" loop="" muted="" playsinline="">
    <source src="https://web-dev.imgix.net/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/9A46NHqYLxgWLkFsKGmF.webm" type="video/webm">
  </video>
  <figcaption>
     当用户在输入字段中键入时，控制台中会报告 INP 值。 在实验室环境中观察到的最终 INP 值 344 属于“需要改进”阈值。 （<a href="https://web-dev.imgix.net/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/9A46NHqYLxgWLkFsKGmF.webm" rel="noopener" target="_blank">点击查看该视频的更高分辨率版本</a>.)
  </figcaption>
</figure>
<p>为了优化这种交互，redBus 在本地管理输入组件的状态并将其与<a href="https://react-redux.js.org/" rel="noopener">终极版</a>仅当输入时才存储<a href="https://developer.mozilla.org/docs/Web/API/Element/blur_event" rel="noopener"><code>模糊</code></a>事件被解雇。 此更改减少了重新渲染的次数，并通过降低调用减速器的频率消除了不需要的用户界面重新渲染。</p>
<figure>
  <video autoplay="" loop="" muted="" playsinline="">
    <source src="https://web-dev.imgix.net/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/gD8RNByfNP8IsjytGbXZ.webm" type="video/webm">
  </video>
  <figcaption>
     由于在输入字段更改时调用减速器的频率较低，因此改进了 INP。 （<a href="https://web-dev.imgix.net/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/gD8RNByfNP8IsjytGbXZ.webm" rel="noopener" target="_blank">点击查看该视频的更高分辨率版本</a>.)
  </figcaption>
</figure>
<p>通过这一更改，页面的 INP 提高了 72%，从而带来更快、更流畅的用户体验，让用户更有可能参与其中。</p>
<h2 id="business-impact">商业冲击<a class="headline-link" href="https://web.dev/redbus-inp/#business-impact">#</a></h2>
<p>业务健康状况和页面性能之间的关系是众所周知的。 尽管与其他 Core Web Vitals 相比，INP 是一个相对较新的指标，但 redBus 通过专注于改进这一以用户为中心的重要性能指标，观察到了更好的业务成果。<strong>结果是销售额总体增长了 7%。</strong></p>
<p>简而言之，INP 帮助在 redBus 网站上描绘了运行时性能问题的图景。 知道需要改进后，redBus 能够观察问题、重现问题，并使用这些关键信息进行有利于 redBus 及其业务的优化。</p>
<hr><p>The web and its capabilities are evolving at a fast pace. You can now build rich and full-featured experiences on the web that can achieve much of what native applications can in terms of capabilities.</p>
<p>JavaScript is a primary driver for interactivity across the web, but if it's not used with care, interactions can feel sluggish, and lead users to perceive your website to be non-responsive or altogether broken. Thankfully, the <a href="https://web.dev/inp/">Interaction to Next Paint (INP)</a> metric was created to address this specific user experience problem.</p>
<p>INP measures all interactions made with a page during its lifecycle, and reports a single value that is representative of a website's speed in responding to user inputs. Simply put, if a page's INP is at or below the <a href="https://web.dev/inp/#what-is-a-good-inp-score">good threshold</a>, all interactions made with a page can be said to be reliably fast.</p>
<p><a href="https://www.redbus.in/" rel="noopener">redBus</a>, a bus booking and ticketing website based in India, undertook a substantial effort to improve their website's INP, even during the time when it was still considered an experimental metric. As a result of their efforts, they were able to increase sales by 7%, illustrating once again the relationship between web performance and business health. Here's what redBus did to improve their website's INP.</p>
<h2 id="top-goals">Top goals <a class="headline-link" href="https://web.dev/redbus-inp/#top-goals">#</a></h2>
<p>When redBus set out to optimize their website's INP, they had three goals in mind:</p>
<ol>
<li>Provide a better user experience for users by focusing on interaction latency regardless of network speed and device capabilities.</li>
<li>Optimize their website to keep interactions as fast as possible.</li>
<li>Ensure that responses from their API were as light as possible to ensure fast data transfer to the front end.</li>
</ol>
<h2 id="the-journey">The journey <a class="headline-link" href="https://web.dev/redbus-inp/#the-journey">#</a></h2>
<p>redBus categorized interaction latency in two ways:</p>
<ol>
<li>Interaction latency caused by blocking JavaScript on the client. When interactions use excessive JavaScript that blocks the main thread, rendering is delayed, and this affects a page's INP.</li>
<li>Network latency caused by API calls. While network activity is not something that INP measures, an interaction reliant on a call to a remote API can feel sluggish on slower networks, or if requests result in large responses.</li>
</ol>
<p>redBus was initially quite confident that the INP for their website would be good, but the <a href="https://en.wikipedia.org/wiki/Real_user_monitoring" rel="noopener">Real User Monitoring (RUM)</a> data for this metric at the 95th percentile told a different story.</p>
<h2 id="how-redbus-measured-inp">How redBus measured INP <a class="headline-link" href="https://web.dev/redbus-inp/#how-redbus-measured-inp">#</a></h2>
<p>redBus relied on the <a href="https://github.com/GoogleChrome/web-vitals" rel="noopener"><code>web-vitals</code> JavaScript library</a> built by Google to track not just INP, but all important user experience metrics for all pages across their website. In addition to the <code>web-vitals</code> JavaScript library, redBus used <a href="https://www.elastic.co/what-is/elk-stack" rel="noopener">ELK</a> to analyze INP data that was collected on the front end.</p>
<p>However, how you track your website's INP in <a href="https://web.dev/lab-and-field-data-differences/#field-data">the field</a> may be quite different from how redBus approached the problem. We highly recommend that you read about <a href="https://web.dev/find-slow-interactions-in-the-field/">how to find slow interactions in the field</a> to learn how to best to track INP for your websites, and subsequently <a href="https://web.dev/diagnose-slow-interactions-in-the-lab/">how to reproduce them in the lab</a> before you begin <a href="https://web.dev/optimize-inp/">optimizing interactions</a>.</p>
<p>Once redBus had a system in place for tracking INP, they were able to analyze the data in order to gain a better understanding of where slow interactivity was present.</p>
<figure>
  <img alt="A screenshot of the ELK logging system reporting INP values for analysis." decoding="async" height="287" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>
    A screenshot of the logging system used by redBus to analyze INP values collected from the field. (<a href="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/s4JxEJgRhQAYZRSi7X3m.png" rel="noopener" target="_blank">Click for a higher resolution version of this image</a>.)
  </figcaption>
</figure>
<h2 id="use-cases">Use cases <a class="headline-link" href="https://web.dev/redbus-inp/#use-cases">#</a></h2>
<p>When users search for fares on the redBus website, they can change the date on the search page to filter selected fares for the desired destination. The interaction to change the date on this page was slow, and was a cause of poor INP.</p>
<p>Additionally, when a user scrolls through fares, additional fares are lazy-loaded from the API. <a href="https://web.dev/inp/#whats-in-an-interaction">Though scrolling itself isn't factored in how INP is measured</a>, the <code>scroll</code> event listener itself schedules a lot of work that must run on the main thread. This work was causing contention on the main thread that increased interaction latency, leading to poor INP on the search page.</p>
<figure>
  <video autoplay="" loop="" muted="" playsinline="">
    <source src="https://web-dev.imgix.net/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/xcxqqKz4JaUO9yQlS3Ex.webm" type="video/webm">
  </video>
  <figcaption>
    The lazy-loading behavior used to load additional fares from the API on scroll. (<a href="https://web-dev.imgix.net/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/xcxqqKz4JaUO9yQlS3Ex.webm" rel="noopener" target="_blank">Click for a higher resolution version of this video</a>.)
  </figcaption>
</figure>
<h2 id="how-redbus-optimized-inp-for-the-search-page">How redBus optimized INP for the search page <a class="headline-link" href="https://web.dev/redbus-inp/#how-redbus-optimized-inp-for-the-search-page">#</a></h2>
<p>To improve the search page's INP, redBus made several optimizations:</p>
<ul>
<li>The <a href="https://developer.mozilla.org/docs/Web/API/Element/scroll_event" rel="noopener"><code>scroll</code></a> event handler was <a href="https://web.dev/debounce-your-input-handlers/">debounced</a> in order to reduce the amount of times the event callback would fire in a given period. By lowering the frequency in which <code>scroll</code> event callback ran, the main thread was able to respond more quickly to user interactions on the search page.</li>
<li>The resulting rendering work was prioritized by using a <a href="https://developer.mozilla.org/docs/Web/API/window/requestAnimationFrame" rel="noopener"><code>requestAnimationFrame</code></a> callback. <code>requestAnimationFrame</code> tells the browser that the work in the callback must be done before the next frame.</li>
</ul>
<figure>
  <img alt="A screenshot of the performance panel in Chrome DevTools showing the redBus website firing scroll event callbacks which are not debounced. The result is that the main thread becomes blocked." decoding="async" height="500" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/seddeACyZ710UvE5s5L7.jpg?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>
    Before: scroll handlers firing without debouncing applied to the event callback. A considerable number of blocking tasks on the main thread are present, which will delay interactions.
  </figcaption>
</figure>
<figure>
  <img alt="A screenshot of the performance panel in Chrome DevTools showing the redBus website firing scroll event callbacks which are debounced. The result is that the main thread is less blocked because the scroll event handlers fire far less frequently." decoding="async" height="500" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/op1p5FGFPsSi8cNU21WS.jpg?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>
    After: scroll handlers firing with debouncing applied. The scroll event callbacks fire less frequently, giving the main thread more opportunities to respond to user interactions.
  </figcaption>
</figure>
<p>Additionally, the following further optimizations were made to the search results page:</p>
<ul>
<li>New batches of results were fetched on the second to last card on the search results page in order to improve the user experience and visual performance by triggering lazy loading earlier.</li>
<li>Fewer results were fetched on each network call during lazy loading. By reducing fetches from 30 to 10 results, a reduction in INP ranges at 870 to 900 down to 350 to 370 were observed.</li>
</ul>
<figure>
  <video autoplay="" loop="" muted="" playsinline="">
    <source src="https://web-dev.imgix.net/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ZjeONw0InjN2H5FEU0PM.webm" type="video/webm">
  </video>
  <figcaption>
    The lazy-loading behavior used to load additional fares from the API on scroll. (<a href="https://web-dev.imgix.net/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ZjeONw0InjN2H5FEU0PM.webm" rel="noopener" target="_blank">Click for a higher resolution version of this video</a>.)
  </figcaption>
</figure>
<p>While these changes significantly improved the INP of the search page, there was still the problem where the <a href="https://developer.mozilla.org/docs/Web/API/HTMLElement/change_event" rel="noopener"><code>change</code></a> event on the search page's input fields would call an expensive reducer function to update the user interface. This resulted in unnecessary rerendering of the user interface, which affected the page's INP.</p>
<figure>
  <video autoplay="" loop="" muted="" playsinline="">
    <source src="https://web-dev.imgix.net/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/9A46NHqYLxgWLkFsKGmF.webm" type="video/webm">
  </video>
  <figcaption>
    INP values reported in the console while the user types in an input field. The resulting INP value of 344 observed in a lab setting falls within the "need improvement" thresholds. (<a href="https://web-dev.imgix.net/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/9A46NHqYLxgWLkFsKGmF.webm" rel="noopener" target="_blank">Click for a higher resolution version of this video</a>.)
  </figcaption>
</figure>
<p>To optimize this interaction, redBus managed the state of input components locally and synced it with the <a href="https://react-redux.js.org/" rel="noopener">Redux</a> store only when an input's <a href="https://developer.mozilla.org/docs/Web/API/Element/blur_event" rel="noopener"><code>blur</code></a> event was fired. This change reduced the number of rerenders and eliminated unwanted rerendering of the user interface by calling the reducer less frequently.</p>
<figure>
  <video autoplay="" loop="" muted="" playsinline="">
    <source src="https://web-dev.imgix.net/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/gD8RNByfNP8IsjytGbXZ.webm" type="video/webm">
  </video>
  <figcaption>
    Improved INP as a result of calling the reducer less frequently on an input field change. (<a href="https://web-dev.imgix.net/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/gD8RNByfNP8IsjytGbXZ.webm" rel="noopener" target="_blank">Click for a higher resolution version of this video</a>.)
  </figcaption>
</figure>
<p>With this change, the page's INP improved by 72%, resulting in a faster and smoother user experience that users are more likely to engage with.</p>
<h2 id="business-impact">Business impact <a class="headline-link" href="https://web.dev/redbus-inp/#business-impact">#</a></h2>
<p>The relationship between business health and page performance is well-known. Though INP is a relatively new metric compared to other Core Web Vitals, redBus observed better business outcomes by focusing on improving this important user-centric performance metric. <strong>The result was a 7% overall increase in sales.</strong></p>
<p>In short, INP helped to paint a picture of runtime performance issues on the redBus website. With the knowledge that there were improvements to be made, redBus was able to observe the problem, reproduce it, and use that crucial information to make optimizations that were beneficial to redBus and its business.</p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[介绍基线]]></title>
            <link>https://web.dev/introducing-baseline/</link>
            <guid>https://web.dev/introducing-baseline/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>这篇文章介绍了Baseline的概念和目的。Baseline是一个用于判断网站或Web应用程序中的功能或API是否安全使用的指标。由于Web平台的快速变化，开发者很难跟上所有的变化。为了解决这个问题，Google改进了自己的沟通渠道，并与其他浏览器厂商和相关公司合作，形成了WebDX社区小组，共同思考如何提供平台的清晰度。Baseline是一个不断变化的标准，包括在最新两个主要浏览器版本中完全支持的功能。通过将支持与Baseline关联，可以为开发者和利益相关者提供明确的支持水平。未来，Google将继续在web.dev上推广Baseline，并提供支持Baseline特性集的小部件。同时，他们也将努力确保Chrome中的新功能尽快成为Baseline的一部分，并收集开发者的反馈意见。</summary>
    <div>
    <div>OriginTitle: Introducing Baseline</div>

    </div></div><p>Baseline 可帮助您一目了然地了解某个功能或 API 在您的网站或 Web 应用程序中使用是否安全。 在这篇文章中，了解产生这个概念的想法，以及我们希望它如何帮助您。</p>
<div class="youtube">  <lite-youtube videoid="eZa3BgGaAeA">  </lite-youtube></div>
<h2 id="keeping-up-with-changes-to-the-web-platform">跟上网络平台的变化<a class="headline-link" href="https://web.dev/introducing-baseline/#keeping-up-with-changes-to-the-web-platform">#</a></h2>
<p>当今的网络变化很快。 我们的浏览器是<em>常绿</em>，每个月都有新功能登陆稳定的浏览器。 这是令人兴奋的，但它也带来了问题。 Web 开发人员如何跟上所有这些变化？ 您如何知道何时可以安全使用某项功能？ 什么时候是开始学习和投资新功能的合适时机？</p>
<p>过去，我们经常通过将浏览器支持与某个浏览器版本（例如 Internet Explorer 11）联系起来来向利益相关者解释浏览器支持，因为非常青浏览器创建的沙子中的界限对每个人来说都是清楚的。 如今，情况往往看起来不太清晰，因为有如此多的功能落地，检查对我们使用的所有东西的支持需要做大量的工作。</p>
<p>我们知道这对开发人员来说是一个多大的问题，因为您一直以来<a href="https://web.dev/deep-dive-into-developer-pain-points/">告诉我们这是一个问题</a>。 两年多前，我们决定这是一个我们想要尝试解决的问题。</p>
<h2 id="getting-our-own-house-in-order">把我们自己的房子整理好<a class="headline-link" href="https://web.dev/introducing-baseline/#getting-our-own-house-in-order">#</a></h2>
<p>我们认识到，我们将实验性内容与网站上的稳定内容混合在一起，增加了对功能状态的混乱。 因此，我们提高了自己沟通渠道的清晰度。 我们现在使用 web.dev 发布有关稳定网络的内容，我们现在可以将这些内容描述为 Baseline 的一部分，以及那些非常接近该状态的内容。 我们还强调其他浏览器的工作，因为我们共同努力提高平台的互操作性。</p>
<p>在 web.dev 上，您会找到诸如以下内容<a href="https://web.dev/tags/newly-interoperable/">新的互操作性</a>系列，庆祝所有三个主要引擎现在都支持的功能。 我们还有每月系列，涵盖<a href="https://web.dev/tags/new-to-the-web/">网络平台有什么新变化</a>分享所有浏览器的工作成果，以及有关 Interop 2023 的更新。该网站也是我们在性能、可访问性和基本 Web 开发技能等方面的最佳实践指南的所在地。</p>
<p>在<a href="https://developer.chrome.com/" rel="noopener">开发者.chrome.com</a>您可以了解 Chrome 为网络平台带来的新事物。 其中一些东西是实验性的，或者目前仅在 Chrome 中。 我们在developer.chrome.com 上发布的许多内容都将登陆其他浏览器，我们希望很快就能庆祝它们的互操作时刻，但我们希望您清楚地了解它们的状态和浏览器支持。</p>
<p>我们还向我们发布的所有内容以及我们的团队在会议上讨论功能时添加了明确的浏览器支持信息。</p>
<p>文档对于新功能的采用非常重要，今年我们确保在 Chrome 中登陆的新功能在 MDN 上都有文档。 例如，查看以下文档<a href="https://developer.mozilla.org/docs/Web/API/View_Transitions_API" rel="noopener">查看转场</a>和<a href="https://developer.mozilla.org/docs/Web/API/WebGPU_API" rel="noopener">网络GPU</a>。 我们也帮忙支持<a href="https://openwebdocs.org/" rel="noopener">打开网络文档</a>他们向 MDN 贡献整个 Web 平台的文档。</p>
<h2 id="working-with-others">与他人合作<a class="headline-link" href="https://web.dev/introducing-baseline/#working-with-others">#</a></h2>
<p>改进我们的工作很重要，但是为了解决更大的问题，我们需要与其他人合作。 我们已经通过以下方式与其他浏览器供应商和相关公司的合作伙伴成功合作：<a href="https://web.dev/interop-2022-wrapup/">互操作 2022</a>和<a href="https://web.dev/interop-2023/">2023年</a>。 形成<a href="https://www.w3.org/community/webdx/" rel="noopener">WebDX 社区组</a>让每个人聚集在一起思考整个平台的清晰度问题。</p>
<p>该小组正在共同致力于一项<a href="https://github.com/web-platform-dx/feature-set" rel="noopener">功能集</a>，一种对 Web 平台功能进行分组以显示其支持状态的方法，此功能集是 Baseline 概念的关键。</p>
<h2 id="creating-platform-wide-clarity-with-baseline">使用 Baseline 创建平台范围内的清晰度<a class="headline-link" href="https://web.dev/introducing-baseline/#creating-platform-wide-clarity-with-baseline">#</a></h2>
<p><a href="https://web.dev/baseline">基线</a>在浏览器常青的世界里，这条线很难辨认。 主要浏览器的最新两个版本完全支持的所有内容都将成为 Baseline 的一部分。 因此，如果您的库声明使用的所有功能都是 Baseline 的一部分，那么开发人员就会明白您的意思。 在为新应用程序创建提案时，您可以向利益相关者解释浏览器支持将与基线相关联，从而使每个人都清楚支持级别。</p>
<p>从今天开始，您将开始看到页面上出现基线<a href="https://developer.mozilla.org/docs/Web/CSS/grid" rel="noopener">在 MDN 上</a>，以及关于<a href="https://web.dev/baseline-features/">网络开发</a>。</p>
<p>由于 Baseline 将是一条不断变化的产品线，每个月都会有新功能成为该系列的一部分，因此每年我们都会在某个时刻发布一部分属于 Baseline 的功能。 例如，为了更加清晰，您可以将支持与 Baseline 24 联系起来。</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow">我们也对能够逐年比较基线的情况感到非常兴奋。 基线 24 和基线 25 之间有何变化？ 这将会很有趣。</div></aside>
<h2 id="whats-next">下一步是什么？<a class="headline-link" href="https://web.dev/introducing-baseline/#whats-next">#</a></h2>
<p>我们将继续在 web.dev 上推出 Baseline。 阅读文章或教程时，您将能够看到所描述的功能何时是基线的一部分。 您不会在完成某件事后意识到它使用的东西没有良好的浏览器支持。</p>
<p>我们将提供您可以在自己的文章或库中使用的小部件，表明对基线功能集的支持。</p>
<p>我们还将努力确保我们在 Chrome 中登陆的新功能尽快成为 Baseline 的一部分。 请留意未来的帖子，我们将更多地讨论这项工作。</p>
<p>我们将收集开发人员的反馈，以了解这个想法在实践中如何运作，以及您还希望看到什么。 密切关注<a href="https://web.dev/baseline/">基线页</a>，或立即通过以下方式提供反馈<a href="https://www.w3.org/community/webdx/" rel="noopener">WebDX 社区组</a>。</p>
<hr><p>Baseline helps you to see, at a glance, whether a feature or API is safe to use in your site or web applications. In this post, learn about the ideas that led to this concept, and how we hope it will help you.</p>
<div class="youtube">  <lite-youtube videoid="eZa3BgGaAeA">  </lite-youtube></div>
<h2 id="keeping-up-with-changes-to-the-web-platform">Keeping up with changes to the web platform <a class="headline-link" href="https://web.dev/introducing-baseline/#keeping-up-with-changes-to-the-web-platform">#</a></h2>
<p>The web of today changes rapidly. Our browsers are <em>evergreen</em>, with new features landing in stable browsers each month. This is exciting, however it also poses problems. How do web developers keep up with all of this change? How do you know when it's safe to use a feature? When is it the right time to start to learn, and to invest in new features?</p>
<p>In the past, we often explained browser support to stakeholders by tying it to a certain browser release (for example, Internet Explorer 11) because the line in the sand a non-evergreen browser created was clear to everyone. Today, the landscape can often seem less clear, with so many features landing it's a lot of work to check support for everything we use.</p>
<p>We know how much of a problem this is to developers, because you have consistently <a href="https://web.dev/deep-dive-into-developer-pain-points/">told us that it's a problem</a>. Over two years ago we decided it was a problem we wanted to try to address.</p>
<h2 id="getting-our-own-house-in-order">Getting our own house in order <a class="headline-link" href="https://web.dev/introducing-baseline/#getting-our-own-house-in-order">#</a></h2>
<p>We recognized that we were adding to confusion about the status of features, mixing experimental things in with stable content on our sites. So, we've improved the clarity of our own communication channels. We now use web.dev to publish content about the stable web, those things that we can now describe as part of Baseline, and those that are very close to that status. We also highlight the work of other browsers, as we all work together to improve the interoperability of the platform.</p>
<p>On web.dev you'll find content such as the <a href="https://web.dev/tags/newly-interoperable/">newly interoperable</a> series, celebrating features that are now supported in all three major engines. We also have our monthly series, covering <a href="https://web.dev/tags/new-to-the-web/">what's new to the web platform</a> sharing the work of all browsers, and updates about Interop 2023. This site is also home to our best practices guidance in subjects such as performance, accessibility, and fundamental web development skills.</p>
<p>On <a href="https://developer.chrome.com/" rel="noopener">developer.chrome.com</a> you can learn about the new things that Chrome is bringing to the web platform. Some of these things are experimental, or only in Chrome right now. Many of the things we post about on developer.chrome.com are coming to other browsers, and we hope to celebrate their interoperable moments very soon, but we want you to have clarity about their status and browser support.</p>
<p>We have also been adding clear browser support information to everything that we publish, and when our team talks about features at conferences.</p>
<p>Documentation is really important for adoption of new features, and this year we've made sure that the new features we are landing in Chrome have documentation over on MDN. For example, take a look at the documentation for <a href="https://developer.mozilla.org/docs/Web/API/View_Transitions_API" rel="noopener">View Transitions</a> and <a href="https://developer.mozilla.org/docs/Web/API/WebGPU_API" rel="noopener">WebGPU</a>. We also help support <a href="https://openwebdocs.org/" rel="noopener">Open Web Docs</a> who contribute documentation for the entire web platform to MDN.</p>
<h2 id="working-with-others">Working with others <a class="headline-link" href="https://web.dev/introducing-baseline/#working-with-others">#</a></h2>
<p>Improving what we do was important, however to address the bigger issue we needed to work with others. We've been successfully working with our partners at other browser vendors and related companies through <a href="https://web.dev/interop-2022-wrapup/">Interop 2022</a> and <a href="https://web.dev/interop-2023/">2023</a>. Forming the <a href="https://www.w3.org/community/webdx/" rel="noopener">WebDX Community Group</a> brought everyone together to think about this issue of clarity across the platform as a whole.</p>
<p>The group is working together on a <a href="https://github.com/web-platform-dx/feature-set" rel="noopener">feature set</a>, a way to group web platform features to show their support status, and this feature-set is key to the concept of Baseline.</p>
<h2 id="creating-platform-wide-clarity-with-baseline">Creating platform-wide clarity with Baseline <a class="headline-link" href="https://web.dev/introducing-baseline/#creating-platform-wide-clarity-with-baseline">#</a></h2>
<p><a href="https://web.dev/baseline">Baseline</a> is the line in the sand that is hard to identify in a world of evergreen browsers. Everything that is fully supported in the most recent two versions of major browsers will be part of Baseline. Therefore if your library states that all features used are part of Baseline, developers know what you mean. When creating a proposal for a new application, you can explain to stakeholders that browser support will be tied to Baseline, thus creating clarity for everyone as to levels of support.</p>
<p>From today you will start to see Baseline appearing on pages <a href="https://developer.mozilla.org/docs/Web/CSS/grid" rel="noopener">on MDN</a>, and on <a href="https://web.dev/baseline-features/">web.dev</a>.</p>
<p>As Baseline will be a continuously moving line, with new features becoming part of that set each month, every year we will publish a cut of features that are part of Baseline at one moment in time. For extra clarity, you can tie support to Baseline 24, for example.</p>
<aside class="aside flow bg-state-info-bg color-state-info-text"><div class=" flow"> We're also quite excited by the ability to compare year-on-year what Baseline looks like. What will have changed between Baseline 24 and Baseline 25? That will be interesting to see. </div></aside>
<h2 id="whats-next">What's next? <a class="headline-link" href="https://web.dev/introducing-baseline/#whats-next">#</a></h2>
<p>We'll be continuing the rollout of Baseline across web.dev. When reading an article or tutorial, you'll be able to see when the features described are part of Baseline. You won't get part of the way through something and realize it uses something that doesn't have good browser support.</p>
<p>We'll be providing widgets that you can use on your own articles or libraries, indicating support for the Baseline feature set.</p>
<p>We'll also be working to ensure that new features we are landing in Chrome become part of Baseline as quickly as possible. Watch out for future posts where we'll talk more about that work.</p>
<p>And we'll be gathering feedback from developers to find out how this idea is working in practice, and what more you would like to see. Keep an eye on the <a href="https://web.dev/baseline/">Baseline page</a>, or offer feedback right now via the <a href="https://www.w3.org/community/webdx/" rel="noopener">WebDX Community Group</a>.</p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[推进交互到下一个绘画]]></title>
            <link>https://web.dev/inp-cwv/</link>
            <guid>https://web.dev/inp-cwv/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>这篇文章介绍了Chrome浏览器的Web Vitals计划，该计划旨在帮助开发人员关注对于优秀用户体验至关重要的指标——核心Web Vitals。其中一个关注的重点是响应能力，即网页对用户交互的快速反应能力。

文章首先提到了第一次输入延迟（FID）作为衡量响应能力的核心Web Vitals指标，但也指出了FID的局限性。为了更有效地解决这些局限性，Chrome团队引入了一项实验性指标——Interaction to Next Paint（INP），并在2022年开始与社区合作测试其有效性。

经过一年的测试和社区反馈，INP已经不再是实验性指标。从2024年3月开始，INP将取代FID成为新的核心Web Vitals响应能力指标。

文章详细介绍了INP相对于FID的优势和改进之处。INP不仅考虑了所有交互，而不仅仅是第一次交互，还测量了从交互开始到浏览器能够绘制下一帧的整个持续时间。这使得INP比FID更全面地衡量了用户感知的响应能力。

为了帮助开发人员过渡到INP，Chrome团队提供了更新的API和工具，并提供了优</summary>
    <div>
    <div>OriginTitle: Advancing Interaction to Next Paint</div>

    </div></div><p>Chrome 的使命<a href="https://web.dev/vitals/">网络生命体征计划</a>是为了帮助开发人员专注于对卓越用户体验至关重要的指标——核心网络生命力。 我们一直关注的用户体验的一个重要方面是响应能力，这是网页对用户交互快速做出反应的能力。</p>
<p><a href="https://web.dev/fid/">首次输入延迟 (FID)</a>是衡量响应能力的核心网络重要指标，但正如我们过去所写的，有<a href="https://web.dev/better-responsiveness-metric/">FID 的已知局限性</a>。 这促使我们探索并寻求有关（当时）的反馈<a href="https://web.dev/responsiveness/">实验指标</a>更有效地解决这些限制。 2022 年，我们宣布<a href="https://web.dev/inp/">与下一个油漆的相互作用 (INP)</a>作为这个新指标，我们将其广泛应用于我们的工具中，并开始与社区合作测试其功效。</p>
<p>经过又一年的测试和收集社区反馈后，我们准备卸下训练轮并宣布 INP 不再是实验性的。 此外，自 2024 年 3 月起，我们还致力于将 INP 推广为新的响应能力核心 Web 重要指标，取代 FID。</p>
<p>在这篇文章中，我们将详细介绍该决定背后的动机、具体的变化以及如何开始。 有关这如何影响 Google 搜索的更多信息，请参阅<a href="https://developers.google.com/search/blog/2023/05/introducing-inp" rel="noopener">他们的博客文章</a>。</p>
<h2 id="a-better-responsiveness-metric">更好的响应指标<a class="headline-link" href="https://web.dev/inp-cwv/#a-better-responsiveness-metric">#</a></h2>
<p>当我们<a href="https://blog.chromium.org/2020/05/introducing-web-vitals-essential-metrics.html" rel="noopener">介绍</a>它是 2020 年核心 Web 的重要组成部分。它为开发人员提供了一种衡量响应能力的新方法<em>正如真实用户体验的那样</em>，这一直是 Web Vitals 计划的重要组成部分。 与仅近似页面交互性的类似指标不同，例如<a href="https://web.dev/tbt/">总阻塞时间 (TBT)</a>和<a href="https://web.dev/tti/">交互时间 (TTI)</a>——FID直接衡量用户体验。 至关重要的是，由于真实用户与页面交互的方式，页面可能具有较慢的 TBT 或 TTI，但仍然被认为具有响应能力。</p>
<p>虽然 FID 确实改进了我们衡量响应能力的方式，但它也并非没有局限性。 这个名字本身实际上给出了两个这样的限制：“第一次输入”和“延迟”。 FID仅报告响应能力<em>第一的</em>用户与页面交互的时间。 尽管第一印象很重要，但第一次互动并不一定代表<em>全部</em>交互贯穿页面的整个生命周期。 此外，FID 仅测量<em>输入延迟</em>第一次交互的一部分，这是浏览器在开始处理交互之前必须等待的时间（由于主线程繁忙）。</p>
<p>输入INP。 INP 不仅仅测量第一次相互作用，<a href="https://web.dev/inp/#whats-in-an-interaction"><em>全部</em>互动</a>考虑在内，报告页面整个生命周期中最慢的页面之一。 而且，INP 不仅仅测量延迟部分，而是测量从交互开始到事件处理程序直到浏览器能够绘制下一帧的整个持续时间。 因此，交互<em>下一个油漆</em>。 这些实现细节使 INP 成为比 FID 更全面的用户感知响应度衡量标准。</p>
<h2 id="evolving-inp">不断发展的INP<a class="headline-link" href="https://web.dev/inp-cwv/#evolving-inp">#</a></h2>
<p>从今天开始，INP 不再是实验性的，而是将被视为<a href="https://web.dev/vitals/#pending"><em>待办的</em>核心网络重要指标</a>。 这是一个新名称，表明 INP 已证明其已准备好取代 FID，但我们目前还没有做出改变。 为了给生态系统留出调整的时间，INP 将于 2024 年 3 月正式成为稳定的 Core Web Vital 指标。</p>
<figure>
  <img alt="Graphic showing the timeline of INP phases, starting from when Chrome announced experimental support for INP in May 2022, to today in May 2023 when Chrome is announcing that INP is now a non-experimental, pending Core Web Vital metric, and finally to March 2024 when INP becomes a stable Core Web Vital metric, replacing FID." decoding="async" height="270" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>
    显示 INP 阶段时间线的图表。
  </figcaption>
</figure>
<p>通过我们的工具，您将开始看到 INP，而无需<code>实验性的</code>前缀或图标。 如果您以编程方式使用来自以下任何 API 的 INP 数据，则需要更新代码以切换到非实验 INP 字段。</p>
<div class="table-wrapper scrollbar">
  <table>
    <thead>
      <tr>
        <th>工具</th>
        <th>已弃用的字段</th>
        <th>新领域</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>CrUX API</td>
        <td><code>实验交互到下一个油漆</code></td>
        <td><code>与下一个绘制的交互</code></td>
      </tr>
      <tr>
        <td>CrUX 历史 API</td>
        <td><code>实验交互到下一个油漆</code></td>
        <td><code>与下一个绘制的交互</code></td>
      </tr>
      <tr>
        <td>CrUX BigQuery</td>
        <td><code>实验.interaction_to_next_paint</code></td>
        <td><code>与下一个绘制的交互</code></td>
      </tr>
      <tr>
        <td>PageSpeed 见解 API</td>
        <td><code>实验交互到下一个油漆</code></td>
        <td><code>与下一个绘制的交互</code></td>
      </tr>
      <tr>
        <td>灯塔报告*</td>
        <td><code>下一个绘画的实验交互</code></td>
        <td><code>与下一次绘制的交互</code></td>
      </tr>
    </tbody>
    <caption style="max-width: 60ch;">
      API 与其旧 INP 字段名称和新 INP 字段名称的映射。<br>
      * Lighthouse 将在版本 11 中停止使用实验性 INP 字段。
    </caption>
  </table>
</div>
<p>为了简化过渡并避免破坏任何下游应用程序，这些 API 将继续为实验性 INP 领域提供另外 90 天的服务。 对实验性 INP 字段的 API 支持将于 2023 年 8 月 8 日结束。</p>
<p>同时，FID 仍将是核心网络至关重要，直至 2024 年 3 月。届时，INP 将加入<a href="https://web.dev/lcp/">最大内容涂料 (LCP)</a>和<a href="https://web.dev/cls/">累积布局偏移 (CLS)</a>作为三个稳定的核心网络生命。 在未来的更新中，我们将分享更多有关更改的准确时间以及 FID 被替换为 Core Web Vital 后的计划的信息。</p>
<h2 id="getting-started-with-inp">INP 入门<a class="headline-link" href="https://web.dev/inp-cwv/#getting-started-with-inp">#</a></h2>
<style>
   .inp-移动{ 
     显示方式：内嵌； 
   } 

   .inp-桌面 { 
     显示：无； 
   } 

   @media 屏幕和（最小宽度：640px）{ 
     .inp-移动{ 
       显示：无； 
     } 

     .inp-桌面 { 
       显示方式：内嵌； 
     } 
   } 
</style>
<figure>
  <svg title="A diagram of the INP thresholds. An INP at or below 200 milliseconds is considered good. Between 200 and 500 milliseconds suggests a page's responsiveness needs improvement. Anything over 500 milliseconds means that a page's responsiveness is poor." class="inp-mobile" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 296.6 220.2" style="enable-background:new 0 0 296.6 220.2" xml:space="preserve"><style>.st0{fill:#2979FF} .st1{fill-rule:evenodd;clip-rule:evenodd;fill:#0CCE6B} .st2{fill:#191919} .st3{fill-rule:evenodd;clip-rule:evenodd ;fill:#FFA400} .st4{fill-rule:evenodd;clip-rule:evenodd;fill:#FF4E42} @media screen 和 (prefers-color-scheme: light){.st2{fill:#191919}} [ data-user-theme=light] .st2 {fill:#191919} @media screen 和 (prefers-color-scheme: dark){.st2{fill:#fff}} [data-user-theme=dark] .st2 {填充：#fff}</style><path class="st0" d="M83.3 63V0h11.9v63H83.3zm26.3 0V0h13.8l25.3 42.2h.7l-.7-12.1V0h11.8v63H148l-26.8-44.6h-.7l.7 12.1V63h-11.6zm65.4 0V0h22.2c4.1 0 7.7.8 10.9 2.5s5.8 4 7.7 7 2.9 6.4 2.9 10.4c0 3.9-1 7.4-2.9 10.4s-4.5 5.4-7.7 7c-3.2 1.7-6.9 2.5-10.9 2.5h-15.6V28.6h15.9c2.1 0 3.8-.4 5.2-1.2s2.5-1.9 3.2-3.2c.7-1.3 1.1-2.8 1.1-4.3s-.4-2.9-1.1-4.2c-.7-1.3-1.8-2.3-3.2-3.2s-3.1-1.2-5.2-1.2h-10.7V63H175z"></path><path class="st1" d="M0 137.1h96v38.4H0v-38.4z"></path><path class="st2" d="M34 161c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-.9-.4-.4-.7-.9-1-1.4-.2-.6-.3-1.1-.3-1.8 0-.6.1-1.2.3-1.8.2-.6.6-1 1-1.4.4-.4.9-.7 1.4-.9.5-.2 1.1-.3 1.8-.3s1.3.1 1.8.3c.6.2 1 .6 1.4 1l-.9.9c-.2-.2-.4-.4-.6-.5-.2-.1-.5-.3-.8-.3-.3-.1-.6-.1-.9-.1-.4 0-.8.1-1.2.2-.4.1-.7.4-1 .6-.3.3-.5.6-.7 1-.2.4-.2.8-.2 1.3s.1.9.2 1.3c.2.4.4.7.7 1 .3.3.6.5 1 .7.4.1.8.2 1.2.2.4 0 .8-.1 1.1-.2.3-.1.6-.3.9-.5.3-.2.5-.5.6-.8.2-.3.3-.6.3-1H34v-1.2h4.2v.7c0 .6-.1 1.2-.3 1.7-.2.5-.5.9-.9 1.3s-.8.6-1.3.8c-.5.3-1.1.4-1.7.4zm9.5 0c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8 0-.6.1-1.2.3-1.8.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8 0 .6-.1 1.2-.3 1.8-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.5.2-1.1.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.5.3 1 .4 1.6.4zm9.9 1.2c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8 0-.6.1-1.2.3-1.8.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8 0 .6-.1 1.2-.3 1.8-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.6.2-1.2.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.5.3 1 .4 1.6.4zm6 1.1v-8.6h2.8c.9 0 1.7.2 2.3.5.7.4 1.2.9 1.5 1.5.4.6.5 1.4.5 2.2 0 .8-.2 1.6-.5 2.2-.4.6-.9 1.2-1.5 1.5-.6.4-1.4.5-2.3.5h-2.8zm1.3-1.3h1.4c.6 0 1.2-.1 1.7-.4.5-.3.8-.6 1.1-1 .2-.5.4-1 .4-1.6 0-.6-.1-1.2-.4-1.6-.2-.5-.6-.8-1.1-1-.5-.3-1-.4-1.7-.4h-1.4v6z"></path><path class="st3" d="M96 137.1h105.6v38.4H96v-38.4z"></path><path class="st2" d="M130.8 153.9v-8.6h1.6l3.9 6.3h.1l-.1-1.7v-4.7h1.3v8.6h-1.4l-4.1-6.6h-.1l.1 1.7v5h-1.3zm8.7 0v-8.6h5.2v1.2h-3.9v6.1h3.9v1.2h-5.2zm.7-3.7V149h4.1v1.2h-4.1zm6.2 3.7v-8.6h5.2v1.2h-3.9v6.1h3.9v1.2h-5.2zm.7-3.7V149h4.1v1.2h-4.1zm6.1 3.7v-8.6h2.8c.9 0 1.7.2 2.3.5.7.4 1.2.9 1.5 1.5.4.6.5 1.4.5 2.2s-.2 1.6-.5 2.2c-.4.6-.9 1.2-1.5 1.5-.6.4-1.4.5-2.3.5h-2.8zm1.3-1.3h1.4c.6 0 1.2-.1 1.7-.4.5-.2.8-.6 1.1-1 .2-.5.4-1 .4-1.6 0-.6-.1-1.2-.4-1.6-.2-.5-.6-.8-1.1-1-.5-.2-1-.4-1.7-.4h-1.4v6zm9.9 1.4c-.5 0-.9-.1-1.3-.3-.4-.2-.8-.4-1.1-.8-.3-.4-.5-.8-.7-1.3l1.2-.5c.1.5.3.9.7 1.2.3.3.7.5 1.2.5.3 0 .5 0 .8-.1.2-.1.4-.2.6-.4s.2-.4.2-.7c0-.3-.1-.5-.2-.7-.1-.2-.3-.3-.6-.5s-.6-.3-1-.5l-.5-.2c-.2-.1-.5-.2-.7-.3-.2-.1-.5-.3-.7-.5-.2-.2-.4-.4-.5-.7-.1-.3-.2-.6-.2-.9 0-.4.1-.8.3-1.2.2-.4.5-.6.9-.8.4-.2.9-.3 1.4-.3.6 0 1 .1 1.4.3.4.2.7.4.9.7.2.3.4.5.4.8l-1.2.5c0-.2-.1-.3-.2-.5s-.3-.3-.5-.4c-.2-.1-.4-.2-.8-.2-.2 0-.5.1-.7.2-.2.1-.4.2-.5.4-.1.2-.2.3-.2.6s.1.6.4.8c.3.2.6.4 1.1.5l.6.2c.3.1.6.2.8.3.3.1.5.3.7.5.2.2.4.4.5.7.1.3.2.6.2 1s-.1.8-.3 1.2c-.2.3-.4.6-.7.8-.3.2-.6.3-.9.4s-.5.2-.8.2zM107 167.9v-8.6h1.3v8.6H107zm3.2 0v-8.6h1.8l2.5 6.5h.1l2.5-6.5h1.8v8.6h-1.3V163l.1-1.5h-.1l-2.5 6.4h-1l-2.5-6.4h-.1l.1 1.5v4.9h-1.4zm10.6 0v-8.6h3c.5 0 1 .1 1.4.3.4.2.8.5 1 .9.3.4.4.9.4 1.4 0 .5-.1 1-.4 1.4-.2.4-.6.7-1 .9-.4.2-.9.3-1.4.3h-2.2v-1.2h2.3c.3 0 .6-.1.8-.2.2-.1.4-.3.5-.5.1-.2.2-.4.2-.7 0-.2-.1-.4-.2-.7-.1-.2-.3-.4-.5-.5-.2-.1-.5-.2-.8-.2h-1.7v7.3h-1.4zm7.2 0v-8.6h3c.5 0 1 .1 1.4.3.4.2.7.5 1 .9.2.4.4.8.4 1.4 0 .3-.1.7-.2 1s-.3.6-.6.8c-.3.2-.6.4-1 .6-.4.1-.8.2-1.2.2h-2.1v-1.2h2.3c.3 0 .5-.1.7-.2.2-.1.4-.3.5-.5.1-.2.2-.5.2-.7 0-.2-.1-.5-.2-.7-.1-.2-.3-.4-.5-.5-.2-.1-.5-.2-.8-.2h-1.7v7.4H128zm2-4h1.5l2.7 3.9v.1h-1.5l-2.7-4zm9.3 4.1c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8s.1-1.2.3-1.8c.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8s-.1 1.2-.3 1.8c-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.6.2-1.2.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.5.3 1 .4 1.6.4zm7.9 1.1-3-8.6h1.4l1.9 5.7.3 1h.1l.3-1 2-5.7h1.4l-3.1 8.6h-1.3zm5.6 0v-8.6h5.2v1.2h-3.9v6.1h3.9v1.2h-5.2zm.7-3.7V163h4.1v1.2h-4.1zm6.2 3.7v-8.6h1.8l2.5 6.5h.1l2.5-6.5h1.8v8.6H167V163l.1-1.5h-.1l-2.5 6.4h-1l-2.5-6.4h-.1l.1 1.5v4.9h-1.3zm10.6 0v-8.6h5.2v1.2h-3.9v6.1h3.9v1.2h-5.2zm.7-3.7V163h4.1v1.2H171zm6.1 3.7v-8.6h1.6l3.9 6.3h.1l-.1-1.7v-4.7h1.3v8.6h-1.4l-4.1-6.6h-.1l.1 1.7v5h-1.3zm10.5 0V160h1.3v7.9h-1.3zm-2.4-7.4v-1.2h6.1v1.2h-6.1z"></path><path class="st4" d="M200.6 137.1h96v38.4h-96v-38.4z"></path><path class="st2" d="M232.5 160.9v-8.6h3c.5 0 1 .1 1.4.3.4.2.8.5 1 .9.3.4.4.9.4 1.4 0 .5-.1 1-.4 1.4-.2.4-.6.7-1 .9-.4.2-.9.3-1.4.3h-2.2v-1.2h2.3c.3 0 .6-.1.8-.2.2-.1.4-.3.5-.5.1-.2.2-.4.2-.7 0-.2-.1-.4-.2-.7-.1-.2-.3-.4-.5-.5-.2-.1-.5-.2-.8-.2h-1.7v7.3h-1.4zm11 .1c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8s.1-1.2.3-1.8c.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8s-.1 1.2-.3 1.8c-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.5.2-1.1.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.6.3 1.1.4 1.6.4zm9.9 1.2c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8s.1-1.2.3-1.8c.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8s-.1 1.2-.3 1.8c-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.6.2-1.1.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.5.3 1 .4 1.6.4zm6 1.1v-8.6h3c.5 0 1 .1 1.4.3.4.2.7.5 1 .9.2.4.4.8.4 1.4 0 .3-.1.7-.2 1s-.3.6-.6.8c-.3.2-.6.4-1 .6-.4.1-.8.2-1.2.2h-2.1v-1.2h2.3c.3 0 .5-.1.7-.2.2-.1.4-.3.5-.5.1-.2.2-.5.2-.7 0-.2-.1-.5-.2-.7-.1-.2-.3-.4-.5-.5-.2-.1-.5-.2-.8-.2h-1.7v7.4h-1.2zm2-4h1.5l2.7 3.9v.1H264l-2.6-4zM178.1 219.9c-.5 0-1-.1-1.5-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-1-.8-1.7l1.5-.6c.1.6.4 1 .8 1.4.4.4.9.5 1.4.5.6 0 1.1-.2 1.5-.6.4-.4.6-.9.6-1.5s-.2-1.1-.6-1.5c-.4-.4-.9-.6-1.5-.6-.4 0-.7.1-1 .2-.3.1-.5.4-.7.6l-1.7-.8.7-5.5h5.9v1.6h-4.5l-.4 2.9h.1c.2-.2.5-.3.8-.5.3-.1.7-.2 1.2-.2.6 0 1.2.2 1.7.5s1 .7 1.3 1.3c.3.5.5 1.2.5 1.9s-.2 1.3-.5 1.9c-.3.6-.8 1-1.3 1.3-.7.5-1.4.7-2.1.7zm9.9 0c-.7 0-1.3-.1-1.9-.4-.5-.3-1-.7-1.4-1.2-.4-.5-.7-1.1-.9-1.8-.2-.7-.3-1.4-.3-2.2 0-.8.1-1.6.3-2.2.2-.7.5-1.3.9-1.8s.9-.9 1.4-1.2c.6-.3 1.2-.5 1.9-.5s1.3.2 1.9.5c.6.3 1 .7 1.4 1.2.4.5.7 1.1.9 1.8.2.7.3 1.4.3 2.2 0 .8-.1 1.6-.3 2.2-.2.7-.5 1.3-.9 1.8s-.9.9-1.4 1.2c-.6.2-1.2.4-1.9.4zm.1-1.7c.6 0 1-.2 1.5-.5.4-.4.7-.9 1-1.5.2-.6.3-1.3.3-2.1s-.1-1.5-.3-2.1c-.2-.6-.5-1.1-1-1.5-.4-.4-.9-.5-1.5-.5s-1.1.2-1.5.5c-.4.4-.7.8-.9 1.5-.2.6-.3 1.3-.3 2.1s.1 1.5.3 2.1c.2.6.5 1.1.9 1.5.4.3.9.5 1.5.5zm10.5 1.7c-.7 0-1.3-.1-1.9-.4-.5-.3-1-.7-1.4-1.2-.4-.5-.7-1.1-.9-1.8-.2-.7-.3-1.4-.3-2.2 0-.8.1-1.6.3-2.2.2-.7.5-1.3.9-1.8s.9-.9 1.4-1.2c.6-.3 1.2-.5 1.9-.5s1.3.2 1.9.5c.6.3 1 .7 1.4 1.2.4.5.7 1.1.9 1.8.2.7.3 1.4.3 2.2 0 .8-.1 1.6-.3 2.2-.2.7-.5 1.3-.9 1.8s-.9.9-1.4 1.2c-.6.2-1.2.4-1.9.4zm0-1.7c.6 0 1-.2 1.5-.5.4-.4.7-.9 1-1.5.2-.6.3-1.3.3-2.1s-.1-1.5-.3-2.1c-.2-.6-.5-1.1-1-1.5-.4-.4-.9-.5-1.5-.5s-1.1.2-1.5.5c-.4.4-.7.8-.9 1.5-.2.6-.3 1.3-.3 2.1s.1 1.5.3 2.1c.2.6.5 1.1.9 1.5.4.3.9.5 1.5.5zm10 1.4v-8.2h1.6v1.1h.1c.2-.3.4-.5.6-.7.3-.2.6-.4.9-.5.3-.1.7-.2 1-.2.6 0 1.1.1 1.5.4.4.3.7.7.9 1.1.3-.4.6-.8 1.1-1.1.5-.3 1-.5 1.7-.5 1 0 1.7.3 2.1.9.5.6.7 1.4.7 2.3v5.2h-1.7v-4.9c0-.7-.1-1.1-.4-1.4-.3-.3-.7-.5-1.2-.5-.4 0-.7.1-1 .3-.3.2-.5.5-.7.9-.2.4-.2.8-.2 1.2v4.4h-1.7v-4.9c0-.7-.1-1.1-.4-1.4-.3-.3-.7-.5-1.2-.5-.4 0-.7.1-1 .3-.3.2-.5.5-.7.9-.2.4-.2.8-.2 1.2v4.4h-1.8zm17.2.3c-.6 0-1.2-.1-1.7-.3-.5-.2-.9-.5-1.2-.8-.3-.3-.5-.7-.7-1.1l1.5-.7c.2.4.5.8.8 1 .4.2.8.3 1.2.3.4 0 .8-.1 1.1-.2.3-.2.5-.4.5-.8 0-.2-.1-.4-.2-.6-.1-.1-.3-.3-.6-.4-.2-.1-.5-.2-.8-.2l-1-.2c-.4-.1-.8-.3-1.1-.5-.3-.2-.6-.5-.8-.8-.2-.3-.3-.7-.3-1.1 0-.5.1-.9.4-1.3.3-.4.7-.6 1.1-.8.5-.2 1-.3 1.6-.3.5 0 1 .1 1.4.2.4.1.8.3 1.1.6.3.3.6.6.8 1l-1.5.7c-.2-.4-.4-.6-.7-.8-.3-.1-.6-.2-1-.2s-.7.1-1 .2c-.3.2-.4.4-.4.6 0 .3.1.5.4.7.2.2.5.3.9.4l1.2.3c.8.2 1.4.5 1.8.9.4.4.6.9.6 1.5 0 .5-.2 1-.5 1.4-.3.4-.7.7-1.2.9-.6.2-1.1.4-1.7.4zM69 220v-1.6s.2-.1.4-.4c.2-.2.5-.5.8-.9l1.1-1.1 1-1c.3-.3.5-.6.7-.8.3-.3.5-.6.7-.8.2-.2.3-.5.4-.7.1-.2.1-.5.1-.8 0-.3-.1-.5-.2-.8-.1-.3-.3-.4-.6-.6-.3-.1-.6-.2-1-.2s-.7.1-1 .2c-.3.1-.5.3-.6.6-.1.2-.3.4-.3.7l-1.5-.6c.1-.3.2-.5.4-.8.2-.3.4-.5.7-.8.3-.3.6-.5 1-.6.4-.2.9-.3 1.4-.2.7 0 1.3.2 1.9.5.5.3.9.7 1.2 1.2.3.5.4 1 .4 1.6 0 .5-.1.9-.2 1.3-.2.4-.4.8-.7 1.2-.3.4-.5.7-.8 1l-.5.5c-.2.2-.4.5-.7.7l-.7.7-.6.6-.4.4h4.8v1.6H69zm13.2.2c-.7 0-1.3-.1-1.9-.4-.5-.3-1-.7-1.4-1.2-.4-.5-.7-1.1-.9-1.8-.2-.7-.3-1.4-.3-2.2 0-.8.1-1.6.3-2.2.2-.7.5-1.3.9-1.8s.9-.9 1.4-1.2c.6-.3 1.2-.5 1.9-.5s1.3.2 1.9.5c.6.3 1 .7 1.4 1.2.4.5.7 1.1.9 1.8.2.7.3 1.4.3 2.2 0 .8-.1 1.6-.3 2.2-.2.7-.5 1.3-.9 1.8s-.9.9-1.4 1.2c-.6.3-1.2.4-1.9.4zm0-1.6c.6 0 1-.2 1.5-.5.4-.4.7-.9 1-1.5.2-.6.3-1.3.3-2.1s-.1-1.5-.3-2.1c-.2-.6-.5-1.1-1-1.5-.4-.4-.9-.5-1.5-.5s-1.1.2-1.5.5c-.4.4-.7.8-.9 1.5-.2.6-.3 1.3-.3 2.1s.1 1.5.3 2.1c.2.6.5 1.1.9 1.5.4.3.9.5 1.5.5zm10.5 1.6c-.7 0-1.3-.1-1.9-.4-.5-.3-1-.7-1.4-1.2-.4-.5-.7-1.1-.9-1.8-.2-.7-.3-1.4-.3-2.2 0-.8.1-1.6.3-2.2.2-.7.5-1.3.9-1.8s.9-.9 1.4-1.2c.6-.3 1.2-.5 1.9-.5s1.3.2 1.9.5c.6.3 1 .7 1.4 1.2.4.5.7 1.1.9 1.8.2.7.3 1.4.3 2.2 0 .8-.1 1.6-.3 2.2-.2.7-.5 1.3-.9 1.8s-.9.9-1.4 1.2c-.6.3-1.2.4-1.9.4zm0-1.6c.6 0 1-.2 1.5-.5.4-.4.7-.9 1-1.5.2-.6.3-1.3.3-2.1s-.1-1.5-.3-2.1c-.2-.6-.5-1.1-1-1.5-.4-.4-.9-.5-1.5-.5s-1.1.2-1.5.5c-.4.4-.7.8-.9 1.5-.2.6-.3 1.3-.3 2.1s.1 1.5.3 2.1c.2.6.5 1.1.9 1.5.5.3 1 .5 1.5.5zm10 1.4v-8.2h1.6v1.1h.1c.2-.3.4-.5.6-.7.3-.2.6-.4.9-.5.3-.1.7-.2 1-.2.6 0 1.1.1 1.5.4.4.3.7.7.9 1.1.3-.4.6-.8 1.1-1.1.5-.3 1-.5 1.7-.5 1 0 1.7.3 2.1.9.5.6.7 1.4.7 2.3v5.2h-1.7v-4.9c0-.7-.1-1.1-.4-1.4-.3-.3-.7-.5-1.2-.5-.4 0-.7.1-1 .3-.3.2-.5.5-.7.9-.2.4-.2.8-.2 1.2v4.4H108v-4.9c0-.7-.1-1.1-.4-1.4-.3-.3-.7-.5-1.2-.5-.4 0-.7.1-1 .3-.3.2-.5.5-.7.9-.2.4-.2.8-.2 1.2v4.4h-1.8zm17.2.2c-.6 0-1.2-.1-1.7-.3-.5-.2-.9-.5-1.2-.8-.3-.3-.5-.7-.7-1.1l1.5-.7c.2.4.5.8.8 1 .4.2.8.3 1.2.3.4 0 .8-.1 1.1-.2.3-.2.5-.4.5-.8 0-.2-.1-.4-.2-.6-.1-.1-.3-.3-.6-.4-.2-.1-.5-.2-.8-.2l-1-.2c-.4-.1-.8-.3-1.1-.5-.3-.2-.6-.5-.8-.8-.2-.3-.3-.7-.3-1.1 0-.5.1-.9.4-1.3.3-.4.7-.6 1.1-.8.5-.2 1-.3 1.6-.3.5 0 1 .1 1.4.2.4.1.8.3 1.1.6.3.3.6.6.8 1l-1.5.7c-.2-.4-.4-.6-.7-.8-.3-.1-.6-.2-1-.2s-.7.1-1 .2c-.3.2-.4.4-.4.6 0 .3.1.5.4.7.2.2.5.3.9.4l1.2.3c.8.2 1.4.5 1.8.9.4.4.6.9.6 1.5 0 .5-.2 1-.5 1.4-.3.4-.7.7-1.2.9-.5.3-1.1.4-1.7.4zM42.4 96.3V82h1.7v14.3h-1.7zm4.6 0V86.1h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V90c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7H47zm10-10.2h6v1.5h-6v-1.5zm1.8 7.5V83.3h1.7v10c0 .5.1.9.3 1.2s.6.4 1.1.4c.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.5-.6-.7-1.3-.7-2.2zm10.3 3c-1 0-1.9-.2-2.6-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.6-1.7-.6-2.8 0-1 .2-1.9.6-2.7s1-1.5 1.7-2 1.6-.8 2.6-.8 1.9.2 2.6.7c.7.4 1.3 1.1 1.7 1.8.4.8.6 1.7.6 2.7v.5H65V90h7c0-.3-.1-.6-.2-.9-.1-.3-.3-.6-.5-.9-.2-.3-.6-.5-.9-.7-.4-.2-.8-.3-1.4-.3-.7 0-1.2.2-1.7.5s-.8.8-1.1 1.4c-.3.6-.4 1.2-.4 2 0 .9.2 1.6.5 2.2.3.6.8 1 1.3 1.3.5.3 1.1.4 1.7.4.8 0 1.4-.2 1.8-.5.5-.4.9-.8 1.2-1.3l1.4.7c-.4.8-1 1.4-1.7 1.9-.9.6-1.8.8-2.9.8zm6.7-.3V86.1h1.6v1.6h.1c.1-.4.4-.7.7-1 .3-.3.7-.5 1.1-.7s.8-.2 1.2-.2h.7c.2 0 .3.1.5.2v1.8c-.2-.1-.5-.2-.7-.2-.2-.1-.5-.1-.7-.1-.5 0-1 .1-1.4.4-.4.3-.7.7-1 1.1-.2.5-.4 1-.4 1.5v5.7h-1.7zm10.4.3c-.8 0-1.4-.1-2-.4s-1-.7-1.3-1.2c-.3-.5-.5-1.1-.5-1.8 0-.8.2-1.4.6-1.9.4-.5.9-.9 1.5-1.2.7-.3 1.4-.4 2.2-.4.4 0 .9 0 1.2.1s.7.2 1 .3c.3.1.5.2.7.3v-.6c0-.8-.3-1.4-.8-1.8-.5-.5-1.2-.7-2-.7-.6 0-1.1.1-1.6.4-.5.2-.9.6-1.1 1l-1.3-1c.3-.4.6-.7 1-1 .4-.3.9-.5 1.4-.7.5-.2 1.1-.2 1.6-.2 1.4 0 2.5.4 3.2 1.1.8.7 1.2 1.7 1.2 3v6.5h-1.6v-1.5h-.1c-.2.3-.4.6-.7.8s-.7.5-1.1.7c-.5.2-1 .2-1.5.2zm.1-1.5c.6 0 1.1-.1 1.6-.4.5-.3.9-.7 1.2-1.2.3-.5.5-1 .5-1.6-.3-.2-.7-.4-1.2-.5s-1-.2-1.5-.2c-1 0-1.7.2-2.1.6-.4.4-.7.9-.7 1.5s.2 1 .6 1.4 1 .4 1.6.4zm11.8 1.5c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-2 .7-2.8.4-.8 1.1-1.5 1.8-1.9.8-.5 1.7-.7 2.7-.7 1.1 0 2.1.3 2.8.8.7.5 1.3 1.2 1.6 2l-1.5.6c-.2-.6-.6-1.1-1.1-1.4-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.7.5s-.9.8-1.2 1.4c-.3.6-.5 1.3-.5 2 0 .8.2 1.4.5 2 .3.6.7 1 1.2 1.4.5.3 1.1.5 1.7.5.7 0 1.3-.2 1.9-.5s.9-.8 1.2-1.4l1.5.6c-.3.8-.9 1.5-1.6 2s-1.9.8-3 .8zm5.5-10.5h6v1.5h-6v-1.5zm1.7 7.5V83.3h1.7v10c0 .5.1.9.3 1.2s.6.4 1.1.4c.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8s-.7-1.3-.7-2.2zm6.5 2.7V86.1h1.7v10.2h-1.7zm.9-12c-.3 0-.6-.1-.9-.4s-.4-.5-.4-.9c0-.3.1-.6.4-.9.2-.2.5-.4.9-.4.3 0 .6.1.9.4.2.2.4.5.4.9 0 .3-.1.6-.4.9-.3.2-.6.4-.9.4zm8.1 12.3c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-1.9.7-2.8.4-.8 1.1-1.5 1.8-2 .8-.5 1.7-.7 2.7-.7 1 0 1.9.2 2.7.7.8.5 1.4 1.1 1.9 2s.7 1.7.7 2.7c0 1-.2 1.9-.7 2.8-.4.8-1.1 1.5-1.9 1.9-.8.6-1.7.8-2.7.8zm0-1.5c.6 0 1.2-.2 1.7-.5s1-.8 1.3-1.3c.3-.6.5-1.3.5-2.1s-.2-1.5-.5-2.1-.8-1-1.3-1.3c-.5-.3-1.1-.5-1.7-.5-.6 0-1.2.2-1.7.5s-1 .7-1.3 1.3-.5 1.3-.5 2.1.2 1.5.5 2.1c.3.6.8 1 1.3 1.3.5.4 1.1.5 1.7.5zm7 1.2V86.1h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V90c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7h-1.7zM143 86.1h6v1.5h-6v-1.5zm1.7 7.5V83.3h1.7v10c0 .5.1.9.3 1.2s.6.4 1.1.4c.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.6-.7-1.3-.7-2.2zm10.5 3c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-1.9.7-2.8.4-.8 1.1-1.5 1.8-2 .8-.5 1.7-.7 2.7-.7 1 0 1.9.2 2.7.7.8.5 1.4 1.1 1.9 2 .4.8.7 1.7.7 2.7 0 1-.2 1.9-.7 2.8-.4.8-1.1 1.5-1.9 1.9-.8.6-1.7.8-2.7.8zm0-1.5c.6 0 1.2-.2 1.7-.5s1-.8 1.3-1.3c.3-.6.5-1.3.5-2.1s-.2-1.5-.5-2.1c-.3-.6-.8-1-1.3-1.3-.5-.3-1.1-.5-1.7-.5-.6 0-1.2.2-1.7.5s-1 .7-1.3 1.3c-.3.6-.5 1.3-.5 2.1s.2 1.5.5 2.1c.3.6.8 1 1.3 1.3.5.4 1.1.5 1.7.5zm12.2 1.2V82h2.1l7.2 11.4h.1l-.1-2.8V82h1.7v14.3h-1.8l-7.5-11.9h-.1l.1 2.8v9.2h-1.7zm18.2.3c-1 0-1.9-.2-2.6-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.6-1.7-.6-2.8 0-1 .2-1.9.6-2.7.4-.8 1-1.5 1.7-2s1.6-.8 2.6-.8 1.9.2 2.6.7c.7.4 1.3 1.1 1.7 1.8.4.8.6 1.7.6 2.7v.5h-8.8V90h7c0-.3-.1-.6-.2-.9-.1-.3-.3-.6-.5-.9-.2-.3-.6-.5-.9-.7-.4-.2-.8-.3-1.4-.3-.7 0-1.2.2-1.7.5s-.8.8-1.1 1.4c-.3.6-.4 1.2-.4 2 0 .9.2 1.6.5 2.2.3.6.8 1 1.3 1.3.5.3 1.1.4 1.7.4.8 0 1.4-.2 1.8-.5.5-.4.9-.8 1.2-1.3l1.4.7c-.4.8-1 1.4-1.7 1.9-1 .6-1.9.8-3 .8zm5.5-.3 4.1-5.9h.2l2.9-4.3h2l-4 5.6h-.1l-3.1 4.6h-2zm.1-10.2h1.9l3.2 4.5h.1l4 5.7h-2l-3-4.5h-.1l-4.1-5.7zm9.9 0h6v1.5h-6v-1.5zm1.8 7.5V83.3h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.6-.7-1.3-.7-2.2zm11.2 2.7V82h4.8c.8 0 1.5.2 2.2.5.7.4 1.2.8 1.6 1.5.4.6.6 1.4.6 2.2 0 .8-.2 1.6-.6 2.2-.4.6-.9 1.1-1.6 1.5-.7.4-1.4.5-2.2.5H215v-1.6h4c.6 0 1-.1 1.4-.4.4-.3.7-.6.9-1 .2-.4.3-.8.3-1.2s-.1-.8-.3-1.2c-.2-.4-.5-.7-.9-1-.4-.3-.9-.4-1.4-.4h-3.2v12.7h-1.7zm14.1.3c-.8 0-1.4-.1-2-.4s-1-.7-1.3-1.2-.5-1.1-.5-1.8c0-.8.2-1.4.6-1.9s.9-.9 1.5-1.2c.7-.3 1.4-.4 2.2-.4.4 0 .9 0 1.2.1s.7.2 1 .3c.3.1.5.2.7.3v-.6c0-.8-.3-1.4-.8-1.8-.5-.5-1.2-.7-2-.7-.6 0-1.1.1-1.6.4-.5.2-.9.6-1.1 1l-1.3-1c.3-.4.6-.7 1-1 .4-.3.9-.5 1.4-.7s1.1-.2 1.6-.2c1.4 0 2.5.4 3.2 1.1.8.7 1.2 1.7 1.2 3v6.5h-1.6v-1.5h-.1c-.2.3-.4.6-.7.8s-.7.5-1.1.7c-.6.2-1 .2-1.5.2zm.1-1.5c.6 0 1.1-.1 1.6-.4.5-.3.9-.7 1.2-1.2.3-.5.5-1 .5-1.6-.3-.2-.7-.4-1.2-.5s-1-.2-1.5-.2c-1 0-1.7.2-2.1.6-.4.4-.7.9-.7 1.5s.2 1 .6 1.4 1 .4 1.6.4zm7.4 1.2V86.1h1.7v10.2h-1.7zm.8-12c-.3 0-.6-.1-.9-.4s-.4-.5-.4-.9c0-.3.1-.6.4-.9.2-.2.5-.4.9-.4.3 0 .6.1.9.4.2.2.4.5.4.9 0 .3-.1.6-.4.9-.2.2-.5.4-.9.4zm3.5 12V86.1h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V90c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7H240zm10.1-10.2h6v1.5h-6v-1.5zm1.7 7.5V83.3h1.7v10c0 .5.1.9.3 1.2s.6.4 1.1.4c.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8s-.7-1.3-.7-2.2zM96 172.8c-2.4 0-4.3 1.9-4.3 4.3 0 2 1.4 3.7 3.3 4.2v20.1h2v-20.1c1.9-.5 3.3-2.1 3.3-4.2 0-2.3-1.9-4.3-4.3-4.3zM201.6 172.6c-2.4 0-4.3 1.9-4.3 4.3 0 2 1.4 3.7 3.3 4.2v19.8h2v-19.8c1.9-.5 3.3-2.1 3.3-4.2 0-2.4-1.9-4.3-4.3-4.3z"></path></svg>
  <svg title="A diagram of the INP thresholds. An INP at or below 200 milliseconds is considered good. Between 200 and 500 milliseconds suggests a page's responsiveness needs improvement. Anything over 500 milliseconds means that a page's responsiveness is poor." class="inp-desktop" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 658.4 113.6" style="enable-background:new 0 0 658.4 113.6" xml:space="preserve"><style>.st0{填充：#2979FF} v.st1{填充规则：evenodd；剪辑规则：evenodd；填充：#0CCE6B} .st2 {填充：#191919} .st3{填充规则：evenodd；剪辑规则： Evenodd;fill: #FFA400} .st4{fill-rule:evenodd;clip-rule:evenodd;fill:#FF4E42} @media screen 和 (prefers-color-scheme: light){.st2{fill: #191919}} @media screen and (prefers-color-scheme: dark){.st2{fill: #fff}} [data-user-theme=dark] .st2{fill: #fff}</style><path class="st0" d="M30.2 68.7V0h13v68.7h-13zm28.7 0V0H74l27.7 46.1h.8l-.8-13.2V0h12.9v68.7H101L71.7 20.1h-.8l.8 13.2v35.4H58.9zm71.3 0V0h24.2c4.4 0 8.4.9 11.9 2.7 3.5 1.8 6.3 4.4 8.4 7.6 2.1 3.3 3.1 7 3.1 11.3 0 4.3-1 8.1-3.1 11.4-2.1 3.3-4.9 5.8-8.4 7.7-3.5 1.8-7.5 2.7-11.9 2.7h-17V31.2h17.4c2.2 0 4.1-.4 5.7-1.3 1.5-.9 2.7-2.1 3.5-3.5.8-1.4 1.2-3 1.2-4.7 0-1.7-.4-3.2-1.2-4.6-.8-1.4-1.9-2.6-3.5-3.5-1.5-.9-3.4-1.3-5.7-1.3h-11.6v56.5h-13z"></path><path class="st1" d="M303.2 14.9h115.2v43.2H303.2V14.9z"></path><path class="st2" d="M345.3 41.5c-.7 0-1.3-.1-1.9-.4-.6-.2-1.1-.6-1.6-1s-.8-1-1.1-1.6c-.3-.6-.4-1.3-.4-2s.1-1.4.4-2c.3-.6.6-1.1 1.1-1.6.5-.5 1-.8 1.6-1 .6-.2 1.2-.4 1.9-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1l-1 1c-.2-.2-.4-.4-.7-.6-.3-.2-.5-.3-.9-.4-.3-.1-.6-.1-1-.1-.5 0-.9.1-1.3.3-.4.2-.8.4-1.1.7-.3.3-.6.7-.8 1.1-.2.4-.3.9-.3 1.5s.1 1 .3 1.5c.2.4.5.8.8 1.1.3.3.7.6 1.1.7.4.2.9.2 1.3.2s.8-.1 1.2-.2c.4-.1.7-.3 1-.5.3-.2.5-.5.7-.8.2-.3.3-.7.3-1.1h-3.3v-1.3h4.6v.8c0 .7-.1 1.3-.4 1.9-.2.6-.6 1-1 1.5-.4.4-.9.7-1.5.9-.3.2-.9.3-1.6.3zm10.5 0c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1-1.2.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3s.5-1.2.5-1.9-.2-1.3-.5-1.9-.7-1-1.2-1.3c-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.8.5-.5.3-.9.7-1.2 1.3s-.5 1.2-.5 1.9.2 1.3.5 1.9.7 1 1.2 1.3c.6.4 1.2.5 1.8.5zm11 1.4c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1-1.3.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3s.5-1.2.5-1.9-.2-1.3-.5-1.9-.7-1-1.2-1.3c-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.8.5-.5.3-.9.7-1.2 1.3s-.5 1.2-.5 1.9.2 1.3.5 1.9.7 1 1.2 1.3c.6.4 1.2.5 1.8.5zm6.6 1.2v-9.5h3c1 0 1.9.2 2.6.6.7.4 1.3 1 1.7 1.7s.6 1.5.6 2.5c0 .9-.2 1.8-.6 2.5s-1 1.3-1.7 1.7c-.7.4-1.6.6-2.6.6h-3zm1.5-1.4h1.5c.7 0 1.3-.1 1.8-.4.5-.3.9-.7 1.2-1.2.3-.5.4-1.1.4-1.8s-.1-1.3-.4-1.8c-.3-.5-.7-.9-1.2-1.2-.5-.3-1.1-.4-1.8-.4h-1.5v6.8z"></path><path class="st3" d="M418.4 14.9h124.8v43.2H418.4V14.9z"></path><path class="st2" d="M460.8 33.3v-9.5h1.7l4.3 7h.1l-.1-1.8v-5.2h1.5v9.5h-1.5l-4.5-7.4h-.1l.1 1.8v5.5h-1.5zm9.7 0v-9.5h5.8v1.4H472V32h4.3v1.4h-5.8zm.7-4.1v-1.4h4.6v1.4h-4.6zm6.9 4.1v-9.5h5.8v1.4h-4.3V32h4.3v1.4h-5.8zm.8-4.1v-1.4h4.6v1.4h-4.6zm6.8 4.1v-9.5h3c1 0 1.9.2 2.6.6.7.4 1.3 1 1.7 1.7s.6 1.5.6 2.5c0 .9-.2 1.8-.6 2.5s-1 1.3-1.7 1.7c-.7.4-1.6.6-2.6.6h-3zm1.5-1.4h1.5c.7 0 1.3-.1 1.8-.4.5-.3.9-.7 1.2-1.2.3-.5.4-1.1.4-1.8s-.1-1.3-.4-1.8c-.3-.5-.7-.9-1.2-1.2-.5-.3-1.1-.4-1.8-.4h-1.5v6.8zm10.9 1.6c-.5 0-1-.1-1.5-.3-.5-.2-.9-.5-1.2-.9-.3-.4-.6-.9-.8-1.5l1.4-.6c.1.5.4.9.8 1.3.4.3.8.5 1.3.5.3 0 .6-.1.8-.2.3-.1.5-.3.6-.5.2-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.6-.5-.3-.2-.7-.3-1.1-.5l-.6-.2c-.3-.1-.5-.2-.8-.4-.3-.1-.5-.3-.7-.5-.2-.2-.4-.5-.5-.7-.1-.3-.2-.6-.2-1 0-.5.1-.9.4-1.3.2-.4.6-.7 1-.9.4-.2 1-.4 1.6-.4.6 0 1.1.1 1.5.3.4.2.7.5 1 .8.2.3.4.6.5.9l-1.3.6c-.1-.2-.2-.4-.3-.5-.1-.2-.3-.3-.5-.4-.2-.1-.5-.2-.8-.2-.3 0-.5.1-.8.2-.2.1-.4.2-.6.4-.1.2-.2.4-.2.6 0 .3.1.6.4.8s.7.4 1.2.6l.6.2c.3.1.6.2.9.4.3.1.6.3.8.6.2.2.4.5.6.8.1.3.2.7.2 1.2s-.1.9-.3 1.3c-.2.4-.4.6-.8.9-.3.2-.7.4-1 .5-.3 0-.7.1-1 .1zM434.4 49.3v-9.5h1.5v9.5h-1.5zm3.6 0v-9.5h2l2.8 7.3h.1l2.8-7.3h2v9.5h-1.4v-5.4l.1-1.7h-.1l-2.8 7.1h-1.2l-2.8-7.1h-.1l.1 1.7v5.4H438zm11.7 0v-9.5h3.3c.6 0 1.1.1 1.6.4.5.2.9.6 1.1 1 .3.4.4.9.4 1.5s-.1 1.1-.4 1.5c-.3.4-.7.8-1.1 1-.5.2-1 .4-1.6.4h-2.5v-1.4h2.5c.4 0 .7-.1.9-.2.2-.1.4-.3.5-.6.1-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.2-.5-.2-.9-.2h-1.8v8.2h-1.5zm8 0v-9.5h3.3c.6 0 1.1.1 1.6.4.5.2.8.6 1.1 1s.4.9.4 1.5c0 .4-.1.8-.2 1.1s-.4.7-.7.9c-.3.3-.6.5-1 .6-.4.1-.9.2-1.4.2h-2.3v-1.3h2.5c.3 0 .6-.1.8-.2.2-.1.4-.3.6-.6.2-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.1-.5-.2-.9-.2h-1.9v8.2h-1.4zm2.2-4.4h1.7l3 4.3v.1h-1.7l-3-4.4zm10.3 4.6c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1c-.6.3-1.2.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3.3-.5.5-1.2.5-1.9s-.2-1.3-.5-1.9c-.3-.5-.7-1-1.2-1.3-.5-.3-1.1-.5-1.8-.5s-1.2.2-1.8.5c-.5.3-.9.7-1.2 1.3-.3.5-.5 1.2-.5 1.9s.2 1.3.5 1.9c.3.5.7 1 1.2 1.3.6.4 1.2.5 1.8.5zm8.8 1.2-3.4-9.5h1.6l2.2 6.3.3 1.1h.1l.4-1.1 2.2-6.3h1.6l-3.5 9.5H479zm6.2 0v-9.5h5.8v1.4h-4.3V48h4.3v1.4h-5.8zm.8-4.1v-1.4h4.6v1.4H486zm6.8 4.1v-9.5h2l2.8 7.3h.1l2.8-7.3h2v9.5H501v-5.4l.1-1.7h-.1l-2.8 7.1H497l-2.8-7.1h-.1l.1 1.7v5.4h-1.4zm11.8 0v-9.5h5.8v1.4h-4.3V48h4.3v1.4h-5.8zm.8-4.1v-1.4h4.6v1.4h-4.6zm6.8 4.1v-9.5h1.7l4.3 7h.1l-.1-1.8v-5.2h1.5v9.5h-1.5l-4.5-7.4h-.1l.1 1.8v5.5h-1.5zm11.7 0v-8.8h1.5v8.8h-1.5zm-2.7-8.2v-1.4h6.8v1.4h-6.8z"></path><path class="st4" d="M543.2 14.9h115.2v43.2H543.2V14.9z"></path><path class="st2" d="M582.9 41.3v-9.5h3.3c.6 0 1.1.1 1.6.4.5.2.9.6 1.1 1 .3.4.4.9.4 1.5s-.1 1.1-.4 1.5c-.3.4-.7.8-1.1 1-.5.2-1 .4-1.6.4h-2.5v-1.4h2.5c.4 0 .7-.1.9-.2.2-.1.4-.3.5-.6.1-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.2-.5-.2-.9-.2h-1.8v8.2h-1.5zm12.3.2c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1c-.7.3-1.3.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3.3-.5.5-1.2.5-1.9s-.2-1.3-.5-1.9c-.3-.5-.7-1-1.2-1.3-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.8.5-.5.3-.9.7-1.2 1.3-.3.5-.5 1.2-.5 1.9s.2 1.3.5 1.9c.3.5.7 1 1.2 1.3.6.4 1.1.5 1.8.5zm10.9 1.4c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1c-.6.3-1.3.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3.3-.5.5-1.2.5-1.9s-.2-1.3-.5-1.9c-.3-.5-.7-1-1.2-1.3-.5-.3-1.1-.5-1.8-.5s-1.2.2-1.8.5c-.5.3-.9.7-1.2 1.3-.3.5-.5 1.2-.5 1.9s.2 1.3.5 1.9c.3.5.7 1 1.2 1.3.6.4 1.2.5 1.8.5zm6.7 1.2v-9.5h3.3c.6 0 1.1.1 1.6.4.5.2.8.6 1.1 1s.4.9.4 1.5c0 .4-.1.8-.2 1.1s-.4.7-.7.9c-.3.3-.6.5-1 .6-.4.1-.9.2-1.4.2h-2.3v-1.3h2.5c.3 0 .6-.1.8-.2.2-.1.4-.3.6-.6.2-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.1-.5-.2-.9-.2h-1.9v8.2h-1.4zm2.2-4.4h1.7l3 4.3v.1H618l-3-4.4zM517.7 102.9c-.6 0-1.1-.1-1.7-.3-.6-.2-1-.6-1.5-1-.4-.5-.7-1.1-.9-1.8l1.7-.7c.2.6.4 1.1.8 1.5.4.4.9.6 1.6.6.7 0 1.2-.2 1.6-.6.4-.4.7-1 .7-1.6 0-.7-.2-1.2-.6-1.6-.4-.4-1-.7-1.6-.7-.4 0-.8.1-1.1.2-.3.2-.6.4-.8.7l-1.8-.8.7-6h6.4v1.7h-4.9l-.4 3.2h.1c.3-.2.6-.4.9-.5.4-.1.8-.2 1.3-.2.7 0 1.3.2 1.9.5.6.3 1 .8 1.4 1.4.4.6.5 1.3.5 2 0 .8-.2 1.5-.5 2.1-.4.6-.8 1.1-1.5 1.4-.7.3-1.5.5-2.3.5zm10.8 0c-.7 0-1.4-.2-2-.5-.6-.3-1.1-.8-1.5-1.3-.4-.6-.8-1.2-1-2-.2-.8-.3-1.6-.3-2.4 0-.9.1-1.7.3-2.5.2-.8.6-1.4 1-2 .4-.6.9-1 1.5-1.3.6-.3 1.3-.5 2-.5.8 0 1.4.2 2 .5.6.3 1.1.8 1.5 1.3.4.6.8 1.2 1 2 .2.8.3 1.6.3 2.5 0 .9-.1 1.7-.3 2.4-.2.8-.5 1.4-1 2-.4.6-.9 1-1.5 1.3-.6.3-1.2.5-2 .5zm0-1.8c.6 0 1.1-.2 1.6-.6.4-.4.8-.9 1-1.6.2-.7.4-1.4.4-2.2 0-.8-.1-1.6-.4-2.3-.2-.7-.6-1.2-1-1.6-.4-.4-1-.6-1.6-.6-.6 0-1.2.2-1.6.6-.4.4-.8.9-1 1.6-.2.7-.4 1.4-.4 2.3 0 .8.1 1.6.4 2.2.2.7.6 1.2 1 1.6.5.4 1 .6 1.6.6zm11.4 1.8c-.7 0-1.4-.2-2-.5-.6-.3-1.1-.8-1.5-1.3-.4-.6-.8-1.2-1-2-.2-.8-.3-1.6-.3-2.4 0-.9.1-1.7.3-2.5.2-.8.6-1.4 1-2 .4-.6.9-1 1.5-1.3.6-.3 1.3-.5 2-.5.8 0 1.4.2 2 .5.6.3 1.1.8 1.5 1.3.4.6.8 1.2 1 2 .2.8.3 1.6.3 2.5 0 .9-.1 1.7-.3 2.4-.2.8-.5 1.4-1 2-.4.6-.9 1-1.5 1.3-.5.3-1.2.5-2 .5zm.1-1.8c.6 0 1.1-.2 1.6-.6.4-.4.8-.9 1-1.6.2-.7.4-1.4.4-2.2 0-.8-.1-1.6-.4-2.3-.2-.7-.6-1.2-1-1.6-.4-.4-1-.6-1.6-.6-.6 0-1.2.2-1.6.6-.4.4-.8.9-1 1.6-.2.7-.4 1.4-.4 2.3 0 .8.1 1.6.4 2.2.2.7.6 1.2 1 1.6.4.4.9.6 1.6.6zm10.8 1.5v-8.8h1.8V95h.1c.2-.3.4-.5.7-.8s.6-.4.9-.5c.4-.1.7-.2 1.1-.2.7 0 1.2.2 1.7.5s.8.7 1 1.2c.3-.5.7-.8 1.2-1.2.5-.3 1.1-.5 1.8-.5 1 0 1.8.3 2.3 1 .5.6.8 1.5.8 2.5v5.7h-1.9v-5.4c0-.7-.2-1.2-.5-1.5-.3-.3-.7-.5-1.3-.5-.4 0-.8.1-1.1.4-.3.2-.6.6-.8 1s-.3.9-.3 1.3v4.7h-1.9v-5.4c0-.7-.2-1.2-.5-1.5-.3-.3-.8-.5-1.3-.5-.4 0-.8.1-1.1.4-.3.2-.6.6-.7 1s-.3.9-.3 1.3v4.7h-1.7zm18.6.3c-.7 0-1.3-.1-1.8-.3-.5-.2-.9-.5-1.3-.9-.3-.4-.6-.8-.7-1.2l1.7-.7c.2.5.5.8.9 1.1.4.2.8.4 1.3.4s.9-.1 1.2-.2c.3-.2.5-.4.5-.8 0-.2-.1-.5-.2-.6s-.4-.3-.6-.4l-.9-.3-1.1-.2c-.4-.1-.8-.3-1.2-.5-.4-.2-.7-.5-.9-.9-.2-.4-.3-.8-.3-1.2 0-.5.2-1 .5-1.4.3-.4.7-.7 1.2-.9.5-.2 1.1-.3 1.7-.3.6 0 1.1.1 1.5.2.5.1.9.3 1.2.6.3.3.6.6.8 1l-1.6.7c-.2-.4-.5-.7-.8-.8-.3-.2-.7-.2-1.1-.2-.4 0-.8.1-1.1.3-.3.2-.4.4-.4.7 0 .3.1.5.4.7.3.2.6.3 1 .4l1.3.3c.9.2 1.5.6 2 1 .4.4.7 1 .7 1.6 0 .6-.2 1.1-.5 1.5-.3.4-.8.7-1.3 1-.8.2-1.5.3-2.1.3zM389.2 102.6v-1.8l.4-.4.9-.9c.4-.4.7-.8 1.1-1.2l1.1-1.1.8-.8c.3-.3.6-.6.8-.9.2-.3.3-.5.4-.8.1-.2.1-.5.1-.8 0-.3-.1-.6-.2-.8-.1-.3-.4-.5-.7-.6-.3-.2-.6-.2-1.1-.2-.4 0-.7.1-1 .2-.3.2-.5.4-.7.6-.2.2-.3.5-.3.7l-1.7-.7c.1-.3.2-.6.4-.9.2-.3.4-.6.8-.9.3-.3.7-.5 1.1-.7.4-.2.9-.3 1.5-.3.8 0 1.4.2 2 .5.6.3 1 .7 1.3 1.2.3.5.5 1.1.5 1.7 0 .5-.1 1-.3 1.5-.2.5-.4.9-.7 1.3-.3.4-.6.7-.9 1-.2.1-.4.3-.6.6-.2.2-.5.5-.7.8l-.8.8-.7.7-.4.4h5.2v1.7h-7.6zm14.2.3c-.7 0-1.4-.2-2-.5-.6-.3-1.1-.8-1.5-1.3-.4-.6-.8-1.2-1-2-.2-.8-.3-1.6-.3-2.4 0-.9.1-1.7.3-2.5.2-.8.6-1.4 1-2 .4-.6.9-1 1.5-1.3.6-.3 1.3-.5 2-.5.8 0 1.4.2 2 .5.6.3 1.1.8 1.5 1.3.4.6.8 1.2 1 2 .2.8.3 1.6.3 2.5 0 .9-.1 1.7-.3 2.4-.2.8-.5 1.4-1 2-.4.6-.9 1-1.5 1.3-.5.3-1.2.5-2 .5zm0-1.8c.6 0 1.1-.2 1.6-.6.4-.4.8-.9 1-1.6.2-.7.4-1.4.4-2.2 0-.8-.1-1.6-.4-2.3-.2-.7-.6-1.2-1-1.6-.4-.4-1-.6-1.6-.6-.6 0-1.2.2-1.6.6-.4.4-.8.9-1 1.6-.2.7-.4 1.4-.4 2.3 0 .8.1 1.6.4 2.2.2.7.6 1.2 1 1.6.5.4 1 .6 1.6.6zm11.5 1.8c-.7 0-1.4-.2-2-.5-.6-.3-1.1-.8-1.5-1.3-.4-.6-.8-1.2-1-2-.2-.8-.3-1.6-.3-2.4 0-.9.1-1.7.3-2.5.2-.8.6-1.4 1-2 .4-.6.9-1 1.5-1.3.6-.3 1.3-.5 2-.5.8 0 1.4.2 2 .5.6.3 1.1.8 1.5 1.3.4.6.8 1.2 1 2 .2.8.3 1.6.3 2.5 0 .9-.1 1.7-.3 2.4-.2.8-.5 1.4-1 2-.4.6-.9 1-1.5 1.3-.6.3-1.3.5-2 .5zm0-1.8c.6 0 1.1-.2 1.6-.6.4-.4.8-.9 1-1.6.2-.7.4-1.4.4-2.2 0-.8-.1-1.6-.4-2.3-.2-.7-.6-1.2-1-1.6-.4-.4-1-.6-1.6-.6-.6 0-1.2.2-1.6.6-.4.4-.8.9-1 1.6-.2.7-.4 1.4-.4 2.3 0 .8.1 1.6.4 2.2.2.7.6 1.2 1 1.6.4.4.9.6 1.6.6zm10.8 1.5v-8.8h1.8V95h.1c.2-.3.4-.5.7-.8s.6-.4.9-.5c.4-.1.7-.2 1.1-.2.7 0 1.2.2 1.7.5s.8.7 1 1.2c.3-.5.7-.8 1.2-1.2.5-.3 1.1-.5 1.8-.5 1 0 1.8.3 2.3 1 .5.6.8 1.5.8 2.5v5.7h-1.9v-5.4c0-.7-.2-1.2-.5-1.5-.3-.3-.7-.5-1.3-.5-.4 0-.8.1-1.1.4-.3.2-.6.6-.8 1s-.3.9-.3 1.3v4.7h-1.9v-5.4c0-.7-.2-1.2-.5-1.5-.3-.3-.8-.5-1.3-.5-.4 0-.8.1-1.1.4-.3.2-.6.6-.7 1s-.3.9-.3 1.3v4.7h-1.7zm18.6.3c-.7 0-1.3-.1-1.8-.3-.5-.2-.9-.5-1.3-.9-.3-.4-.6-.8-.7-1.2l1.7-.7c.2.5.5.8.9 1.1.4.2.8.4 1.3.4s.9-.1 1.2-.2c.3-.2.5-.4.5-.8 0-.2-.1-.5-.2-.6-.2-.2-.4-.3-.6-.4l-.9-.3-1.1-.2c-.4-.1-.8-.3-1.2-.5-.4-.2-.7-.5-.9-.9-.2-.4-.3-.8-.3-1.2 0-.5.2-1 .5-1.4.3-.4.7-.7 1.2-.9.5-.2 1.1-.3 1.7-.3.6 0 1.1.1 1.5.2.5.1.9.3 1.2.6.3.3.6.6.8 1l-1.6.7c-.2-.4-.5-.7-.8-.8-.3-.2-.7-.2-1.1-.2-.4 0-.8.1-1.1.3-.3.2-.4.4-.4.7 0 .3.1.5.4.7.3.2.6.3 1 .4l1.3.3c.9.2 1.5.6 2 1 .4.4.7 1 .7 1.6 0 .6-.2 1.1-.5 1.5-.3.4-.8.7-1.3 1-.8.2-1.4.3-2.1.3zM0 113.3V99h1.7v14.3H0zm4.6 0v-10.2h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V107c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7H4.6zm10-10.2h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.5-.5-.7-1.2-.7-2.1zm10.3 3c-1 0-1.9-.2-2.6-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.6-1.7-.6-2.8 0-1 .2-1.9.6-2.7.4-.8 1-1.5 1.7-2s1.6-.8 2.6-.8 1.9.2 2.6.7c.7.4 1.3 1.1 1.7 1.8.4.8.6 1.7.6 2.7v.5h-8.8V107h7c0-.3-.1-.6-.2-.9-.1-.3-.3-.6-.5-.9-.2-.3-.6-.5-.9-.7-.4-.2-.8-.3-1.4-.3-.7 0-1.2.2-1.7.5s-.8.8-1.1 1.4c-.3.6-.4 1.2-.4 2 0 .9.2 1.6.5 2.2.3.6.8 1 1.3 1.3.5.3 1.1.4 1.7.4.8 0 1.4-.2 1.8-.5.5-.4.9-.8 1.2-1.3l1.4.7c-.4.8-1 1.4-1.7 1.9-1 .5-1.9.8-3 .8zm6.7-.3v-10.2H35v1.6h.1c.1-.4.4-.7.7-1 .3-.3.7-.5 1.1-.7.4-.2.8-.2 1.2-.2h.7c.2 0 .3.1.5.2v1.8c-.2-.1-.5-.2-.7-.2-.2-.1-.5-.1-.7-.1-.5 0-1 .1-1.4.4-.4.3-.7.7-1 1.1-.2.5-.4 1-.4 1.5v5.7h-1.7zm10.4.3c-.8 0-1.4-.1-2-.4-.6-.3-1-.7-1.3-1.2-.3-.5-.5-1.1-.5-1.8 0-.8.2-1.4.6-1.9.4-.5.9-.9 1.5-1.2.7-.3 1.4-.4 2.2-.4.4 0 .9 0 1.2.1.4.1.7.2 1 .3.3.1.5.2.7.3v-.6c0-.8-.3-1.4-.8-1.8-.5-.5-1.2-.7-2-.7-.6 0-1.1.1-1.6.4-.5.2-.9.6-1.1 1l-1.3-1c.3-.4.6-.7 1-1 .4-.3.9-.5 1.4-.7.5-.2 1.1-.2 1.6-.2 1.4 0 2.5.4 3.2 1.1.8.7 1.2 1.7 1.2 3v6.5h-1.6v-1.5h-.1c-.2.3-.4.6-.7.8-.3.3-.7.5-1.1.7-.5.1-1 .2-1.5.2zm.1-1.5c.6 0 1.1-.1 1.6-.4.5-.3.9-.7 1.2-1.2.3-.5.5-1 .5-1.6-.3-.2-.7-.4-1.2-.5-.5-.1-1-.2-1.5-.2-1 0-1.7.2-2.1.6-.4.4-.7.9-.7 1.5s.2 1 .6 1.4c.4.2 1 .4 1.6.4zm11.7 1.5c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-2 .7-2.8.4-.8 1.1-1.5 1.8-1.9.8-.5 1.7-.7 2.7-.7 1.1 0 2.1.3 2.8.8.7.5 1.3 1.2 1.6 2l-1.5.6c-.2-.6-.6-1.1-1.1-1.4-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.7.5s-.9.8-1.2 1.4c-.3.6-.5 1.3-.5 2 0 .8.2 1.4.5 2 .3.6.7 1 1.2 1.4.5.3 1.1.5 1.7.5.7 0 1.3-.2 1.9-.5.5-.3.9-.8 1.2-1.4l1.5.6c-.3.8-.9 1.5-1.6 2-.9.5-1.8.8-3 .8zm5.5-10.5h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.5-.7-1.2-.7-2.1zm6.5 2.7v-10.2h1.7v10.2h-1.7zm.9-12.1c-.3 0-.6-.1-.9-.4-.2-.2-.4-.5-.4-.9 0-.3.1-.6.4-.9.2-.2.5-.4.9-.4.3 0 .6.1.9.4.2.2.4.5.4.9 0 .3-.1.6-.4.9-.3.3-.6.4-.9.4zm8.1 12.4c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-1.9.7-2.8.4-.8 1.1-1.5 1.8-2 .8-.5 1.7-.7 2.7-.7 1 0 1.9.2 2.7.7.8.5 1.4 1.1 1.9 2 .4.8.7 1.7.7 2.7 0 1-.2 1.9-.7 2.8-.4.8-1.1 1.5-1.9 1.9-.8.5-1.7.8-2.7.8zm0-1.6c.6 0 1.2-.2 1.7-.5s1-.8 1.3-1.3c.3-.6.5-1.3.5-2.1s-.2-1.5-.5-2.1c-.3-.6-.8-1-1.3-1.3-.5-.3-1.1-.5-1.7-.5-.6 0-1.2.2-1.7.5s-1 .7-1.3 1.3c-.3.6-.5 1.3-.5 2.1s.2 1.5.5 2.1c.3.6.8 1 1.3 1.3.5.4 1.1.5 1.7.5zm7 1.3v-10.2H87v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V107c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7h-1.7zm15.1-10.2h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.5-.7-1.2-.7-2.1zm10.5 3c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-1.9.7-2.8.4-.8 1.1-1.5 1.8-2 .8-.5 1.7-.7 2.7-.7 1 0 1.9.2 2.7.7.8.5 1.4 1.1 1.9 2 .4.8.7 1.7.7 2.7 0 1-.2 1.9-.7 2.8-.4.8-1.1 1.5-1.9 1.9-.8.5-1.7.8-2.7.8zm0-1.6c.6 0 1.2-.2 1.7-.5s1-.8 1.3-1.3c.3-.6.5-1.3.5-2.1s-.2-1.5-.5-2.1c-.3-.6-.8-1-1.3-1.3-.5-.3-1.1-.5-1.7-.5-.6 0-1.2.2-1.7.5s-1 .7-1.3 1.3c-.3.6-.5 1.3-.5 2.1s.2 1.5.5 2.1c.3.6.8 1 1.3 1.3.5.4 1.1.5 1.7.5zm12.2 1.3V99h2.1l7.2 11.4h.1l-.1-2.8V99h1.7v14.3h-1.8l-7.5-11.9h-.1l.1 2.8v9.2H125zm18.2.3c-1 0-1.9-.2-2.6-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.6-1.7-.6-2.8 0-1 .2-1.9.6-2.7.4-.8 1-1.5 1.7-2s1.6-.8 2.6-.8 1.9.2 2.6.7c.7.4 1.3 1.1 1.7 1.8.4.8.6 1.7.6 2.7v.5h-8.8V107h7c0-.3-.1-.6-.2-.9-.1-.3-.3-.6-.5-.9-.2-.3-.6-.5-.9-.7-.4-.2-.8-.3-1.4-.3-.7 0-1.2.2-1.7.5s-.8.8-1.1 1.4c-.3.6-.4 1.2-.4 2 0 .9.2 1.6.5 2.2.3.6.8 1 1.3 1.3.5.3 1.1.4 1.7.4.8 0 1.4-.2 1.8-.5.5-.4.9-.8 1.2-1.3l1.4.7c-.4.8-1 1.4-1.7 1.9-1 .5-1.9.8-3 .8zm5.5-.3 4.1-5.9h.2l2.9-4.3h2l-4 5.6h-.1l-3.1 4.6h-2zm.1-10.2h1.9l3.2 4.5h.1l4 5.7h-2l-3-4.5h-.1l-4.1-5.7zm9.9 0h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.5-.7-1.2-.7-2.1zm11.2 2.7V99h4.8c.8 0 1.5.2 2.2.5.7.4 1.2.8 1.6 1.5.4.6.6 1.4.6 2.2 0 .8-.2 1.6-.6 2.2-.4.6-.9 1.1-1.6 1.5-.7.4-1.4.5-2.2.5h-3.9v-1.6h4c.6 0 1-.1 1.4-.4.4-.3.7-.6.9-1 .2-.4.3-.8.3-1.2 0-.4-.1-.8-.3-1.2-.2-.4-.5-.7-.9-1-.4-.3-.9-.4-1.4-.4h-3.2v12.7h-1.7zm14 .3c-.8 0-1.4-.1-2-.4-.6-.3-1-.7-1.3-1.2-.3-.5-.5-1.1-.5-1.8 0-.8.2-1.4.6-1.9.4-.5.9-.9 1.5-1.2.7-.3 1.4-.4 2.2-.4.4 0 .9 0 1.2.1.4.1.7.2 1 .3.3.1.5.2.7.3v-.6c0-.8-.3-1.4-.8-1.8-.5-.5-1.2-.7-2-.7-.6 0-1.1.1-1.6.4-.5.2-.9.6-1.1 1l-1.3-1c.3-.4.6-.7 1-1 .4-.3.9-.5 1.4-.7.5-.2 1.1-.2 1.6-.2 1.4 0 2.5.4 3.2 1.1.8.7 1.2 1.7 1.2 3v6.5h-1.6v-1.5h-.1c-.2.3-.4.6-.7.8-.3.3-.7.5-1.1.7-.5.1-.9.2-1.5.2zm.2-1.5c.6 0 1.1-.1 1.6-.4.5-.3.9-.7 1.2-1.2.3-.5.5-1 .5-1.6-.3-.2-.7-.4-1.2-.5-.5-.1-1-.2-1.5-.2-1 0-1.7.2-2.1.6-.4.4-.7.9-.7 1.5s.2 1 .6 1.4c.4.2 1 .4 1.6.4zm7.4 1.2v-10.2h1.7v10.2h-1.7zm.8-12.1c-.3 0-.6-.1-.9-.4-.2-.2-.4-.5-.4-.9 0-.3.1-.6.4-.9.2-.2.5-.4.9-.4.3 0 .6.1.9.4.2.2.4.5.4.9 0 .3-.1.6-.4.9-.3.3-.5.4-.9.4zm3.5 12.1v-10.2h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V107c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7h-1.7zm10-10.2h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.5-.7-1.2-.7-2.1zM418.1 55.2c-1.8 0-3.3 1.5-3.3 3.3 0 1.5 1 2.7 2.3 3.1V83h2V61.6c1.3-.4 2.3-1.7 2.3-3.1 0-1.8-1.5-3.3-3.3-3.3zM546.5 58.6c0-1.8-1.5-3.3-3.3-3.3s-3.3 1.5-3.3 3.3c0 1.5 1 2.7 2.3 3.1v21.2h2V61.7c1.3-.4 2.3-1.6 2.3-3.1z"></path></svg>
  <figcaption>
    该图显示了良好和不良 INP 的阈值。
  </figcaption>
</figure>
<p>不要等到 2024 年 INP 成为核心 Web 关键才开始改进它。 您的网站很可能位于<a href="https://httparchive.org/reports/chrome-ux-report#cruxFastFid" rel="noopener">93%</a>在移动设备上具有良好 FID 性能的网站； 然而，您可能会惊讶地发现，只有<a href="https://httparchive.org/reports/chrome-ux-report#cruxFastInp" rel="noopener">65%</a>的网站在移动设备上具有良好的 INP。 INP 描绘了一幅更准确的响应能力图景，因此这些数字可以帮助我们更清楚地看到我们面前的改进空间。</p>
<p>要了解您的网站是否存在 INP 问题、如何解决这些问题以及所有 INP 问题，最好的起点是<a href="https://web.dev/optimize-inp/">INP优化指南</a>。 无论您是第一次学习响应能力还是性能专家，我们都添加了许多新指南，让每个人都能尽可能轻松地学习如何衡量和优化 INP。</p>
<p>INP 可能需要一些时间来学习，但这没关系。 为了帮助您专注于具有最大投资回报率的优化，今年早些时候我们发布了<a href="https://web.dev/top-cwv-2023/">一篇博文</a>将我们的指导提炼为改善核心网络生命力的最有效建议。 具体来说，我们写了三种同样适用于优化 FID 和 INP 的必备技术：避免或分解长任务、避免不必要的 JavaScript 以及避免大量渲染更新。 您可以了解有关这些以及许多其他 INP 优化技术的更多信息<a href="https://web.dev/optimize-inp/">我们的文档</a>。</p>
<h2 id="the-road-ahead">前方的路<a class="headline-link" href="https://web.dev/inp-cwv/#the-road-ahead">#</a></h2>
<p>响应能力的新标准已经设定，我们很高兴看到社区迎接挑战以提供更好的用户体验。 早期<a href="https://groups.google.com/g/web-vitals-feedback" rel="noopener">反馈</a>和<a href="https://web.dev/tags/case-study/">实例探究</a>一直充满希望，但我们知道，对于许多人来说，这可能是一条漫长而陌生的道路。 我们努力通过改进使这一旅程尽可能轻松<a href="https://github.com/w3c/longtasks/blob/main/loaf-explainer.md" rel="noopener">诊断</a>,<a href="https://web.dev/vitals-tools/">工具</a>， 和<a href="https://web.dev/optimize-inp/">文档</a>一路为开发者提供帮助。</p>
<p>请继续关注 INP 2024 年 3 月确切毕业日期的更新。尽管该指标不再是实验性的，但我们始终愿意接受反馈：<a href="mailto:web-vitals-feedback@googlegroups.com" rel="noopener">web-vitals-feedback@googlegroups.com</a>帮助我们整体改进 INP 和 Web Vitals 计划。</p>
<p><em>英雄形象来自<a href="https://unsplash.com/" rel="noopener">未飞溅</a>， 经过<a href="https://unsplash.com/@agebarros" rel="noopener">阿吉·巴罗斯</a>。</em></p>
<hr><p>Chrome's mission with the <a href="https://web.dev/vitals/">Web Vitals program</a> is to help developers focus on the metrics that are essential to great user experiences—the Core Web Vitals. One important aspect of the user experience that we've been focusing on is responsiveness, which is the ability of a web page to react quickly to user interactions.</p>
<p><a href="https://web.dev/fid/">First Input Delay (FID)</a> is the Core Web Vital metric that measures responsiveness, but as we've written in the past, there are <a href="https://web.dev/better-responsiveness-metric/">known limitations of FID</a>. This led us to explore and seek feedback on a (then) <a href="https://web.dev/responsiveness/">experimental metric</a> that addresses these limitations more effectively. In 2022, we announced <a href="https://web.dev/inp/">Interaction to Next Paint (INP)</a> as  that new metric, made it widely available in our tools, and started working with the community to test its efficacy.</p>
<p>After another year of testing and gathering feedback from the community, we're ready to take the training wheels off and announce that INP is no longer experimental. Furthermore, effective March 2024, we're also committed to promoting INP as the new Core Web Vital metric for responsiveness, replacing FID.</p>
<p>In this post, we'll cover more about the motivation behind the decision, exactly what's changing, and how to get started. For more on how this affects Google Search, refer to <a href="https://developers.google.com/search/blog/2023/05/introducing-inp" rel="noopener">their blog post</a>.</p>
<h2 id="a-better-responsiveness-metric">A better responsiveness metric <a class="headline-link" href="https://web.dev/inp-cwv/#a-better-responsiveness-metric">#</a></h2>
<p>FID was a huge step forward when we <a href="https://blog.chromium.org/2020/05/introducing-web-vitals-essential-metrics.html" rel="noopener">introduced</a> it as a Core Web Vital in 2020. It offered developers a new way to measure responsiveness <em>as real users experience it</em>, which has always been an important part of the Web Vitals program. Unlike similar metrics that only approximate page interactivity—like <a href="https://web.dev/tbt/">Total Blocking Time (TBT)</a> and <a href="https://web.dev/tti/">Time To Interactive (TTI)</a>—FID directly measures the user experience. Crucially, a page could have slow TBT or TTI and still be perceived as responsive, because of the way real users interact with the page.</p>
<p>While it did improve the way we measure responsiveness, FID wasn't without limitations. The name itself actually gives away two such limitations: "first input" and "delay".  FID only reports the responsiveness of the <em>first</em> time a user interacts with the page. Even though first impressions are important, the first interaction is not necessarily representative of <em>all</em> interactions throughout the life of a page. Further, FID only measures the <em>input delay</em> portion of the first interaction, which is the amount of time the browser had to wait (due to main thread busyness) before even beginning to handle the interaction.</p>
<p>Enter INP. Rather than only measuring the first interaction, INP takes <a href="https://web.dev/inp/#whats-in-an-interaction"><em>all</em> interactions</a> into account, reporting one of the slowest over the entire lifetime of the page. And, rather than only measuring the delay portion, INP measures the full duration from the start of the interaction, through the event handler, and until the browser is able to paint the next frame. Hence, Interaction to <em>Next Paint</em>. These implementation details make INP a much more comprehensive measure of user-perceived responsiveness than FID.</p>
<h2 id="evolving-inp">Evolving INP <a class="headline-link" href="https://web.dev/inp-cwv/#evolving-inp">#</a></h2>
<p>Starting today, INP is no longer experimental and will instead be considered a <a href="https://web.dev/vitals/#pending"><em>pending</em> Core Web Vital metric</a>. This is a new designation to indicate that INP has proven its readiness to replace FID—but we're not making the change just yet. To give the ecosystem time to adjust, INP will officially become a stable Core Web Vital metric in March 2024.</p>
<figure>
  <img alt="Graphic showing the timeline of INP phases, starting from when Chrome announced experimental support for INP in May 2022, to today in May 2023 when Chrome is announcing that INP is now a non-experimental, pending Core Web Vital metric, and finally to March 2024 when INP becomes a stable Core Web Vital metric, replacing FID." decoding="async" height="270" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/so4oTRZP5vEEB6m8xo5L.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>
    Graphic showing the timeline of INP phases.
  </figcaption>
</figure>
<p>Across our tools, you'll start to see INP without the <code>experimental</code> prefix or icon. If you programmatically consume INP data from any of the following APIs, you'll need to update your code to switch over to the non-experimental INP field.</p>
<div class="table-wrapper scrollbar">
  <table>
    <thead>
      <tr>
        <th>Tool</th>
        <th>Deprecated field</th>
        <th>New field</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>CrUX API</td>
        <td><code>experimental_interaction_to_next_paint</code></td>
        <td><code>interaction_to_next_paint</code></td>
      </tr>
      <tr>
        <td>CrUX History API</td>
        <td><code>experimental_interaction_to_next_paint</code></td>
        <td><code>interaction_to_next_paint</code></td>
      </tr>
      <tr>
        <td>CrUX BigQuery</td>
        <td><code>experimental.interaction_to_next_paint</code></td>
        <td><code>interaction_to_next_paint</code></td>
      </tr>
      <tr>
        <td>PageSpeed Insights API</td>
        <td><code>experimental_interaction_to_next_paint</code></td>
        <td><code>interaction_to_next_paint</code></td>
      </tr>
      <tr>
        <td>Lighthouse report*</td>
        <td><code>experimental-interaction-to-next-paint</code></td>
        <td><code>interaction-to-next-paint</code></td>
      </tr>
    </tbody>
    <caption style="max-width: 60ch;">
      Map of APIs to their old and new INP field name.<br>
      * Lighthouse will stop using the experimental INP field in version 11.
    </caption>
  </table>
</div>
<p>To ease the transition and avoid breaking any downstream applications, these APIs will continue to serve the experimental INP field for another 90 days. API support for the experimental INP field will end on August 8, 2023.</p>
<p>Meanwhile, FID will remain a Core Web Vital until March 2024. At that time, INP will join <a href="https://web.dev/lcp/">Largest Contentful Paint (LCP)</a> and <a href="https://web.dev/cls/">Cumulative Layout Shift (CLS)</a> as the three stable Core Web Vitals. In a future update, we'll share more information about the precise timing of the change and the plan for FID after it's replaced as a Core Web Vital.</p>
<h2 id="getting-started-with-inp">Getting started with INP <a class="headline-link" href="https://web.dev/inp-cwv/#getting-started-with-inp">#</a></h2>
<style>
  .inp-mobile {
    display: inline;
  }

  .inp-desktop {
    display: none;
  }

  @media screen and (min-width: 640px) {
    .inp-mobile {
      display: none;
    }

    .inp-desktop {
      display: inline;
    }
  }
</style>
<figure>
  <svg title="A diagram of the INP thresholds. An INP at or below 200 milliseconds is considered good. Between 200 and 500 milliseconds suggests a page's responsiveness needs improvement. Anything over 500 milliseconds means that a page's responsiveness is poor." class="inp-mobile" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 296.6 220.2" style="enable-background:new 0 0 296.6 220.2" xml:space="preserve"><style>.st0{fill:#2979FF} .st1{fill-rule:evenodd;clip-rule:evenodd;fill:#0CCE6B} .st2{fill:#191919} .st3{fill-rule:evenodd;clip-rule:evenodd;fill:#FFA400} .st4{fill-rule:evenodd;clip-rule:evenodd;fill:#FF4E42} @media screen and (prefers-color-scheme: light){.st2{fill:#191919}} [data-user-theme=light] .st2 {fill:#191919} @media screen and (prefers-color-scheme: dark){.st2{fill:#fff}} [data-user-theme=dark] .st2{fill:#fff}</style><path class="st0" d="M83.3 63V0h11.9v63H83.3zm26.3 0V0h13.8l25.3 42.2h.7l-.7-12.1V0h11.8v63H148l-26.8-44.6h-.7l.7 12.1V63h-11.6zm65.4 0V0h22.2c4.1 0 7.7.8 10.9 2.5s5.8 4 7.7 7 2.9 6.4 2.9 10.4c0 3.9-1 7.4-2.9 10.4s-4.5 5.4-7.7 7c-3.2 1.7-6.9 2.5-10.9 2.5h-15.6V28.6h15.9c2.1 0 3.8-.4 5.2-1.2s2.5-1.9 3.2-3.2c.7-1.3 1.1-2.8 1.1-4.3s-.4-2.9-1.1-4.2c-.7-1.3-1.8-2.3-3.2-3.2s-3.1-1.2-5.2-1.2h-10.7V63H175z"></path><path class="st1" d="M0 137.1h96v38.4H0v-38.4z"></path><path class="st2" d="M34 161c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-.9-.4-.4-.7-.9-1-1.4-.2-.6-.3-1.1-.3-1.8 0-.6.1-1.2.3-1.8.2-.6.6-1 1-1.4.4-.4.9-.7 1.4-.9.5-.2 1.1-.3 1.8-.3s1.3.1 1.8.3c.6.2 1 .6 1.4 1l-.9.9c-.2-.2-.4-.4-.6-.5-.2-.1-.5-.3-.8-.3-.3-.1-.6-.1-.9-.1-.4 0-.8.1-1.2.2-.4.1-.7.4-1 .6-.3.3-.5.6-.7 1-.2.4-.2.8-.2 1.3s.1.9.2 1.3c.2.4.4.7.7 1 .3.3.6.5 1 .7.4.1.8.2 1.2.2.4 0 .8-.1 1.1-.2.3-.1.6-.3.9-.5.3-.2.5-.5.6-.8.2-.3.3-.6.3-1H34v-1.2h4.2v.7c0 .6-.1 1.2-.3 1.7-.2.5-.5.9-.9 1.3s-.8.6-1.3.8c-.5.3-1.1.4-1.7.4zm9.5 0c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8 0-.6.1-1.2.3-1.8.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8 0 .6-.1 1.2-.3 1.8-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.5.2-1.1.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.5.3 1 .4 1.6.4zm9.9 1.2c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8 0-.6.1-1.2.3-1.8.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8 0 .6-.1 1.2-.3 1.8-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.6.2-1.2.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.5.3 1 .4 1.6.4zm6 1.1v-8.6h2.8c.9 0 1.7.2 2.3.5.7.4 1.2.9 1.5 1.5.4.6.5 1.4.5 2.2 0 .8-.2 1.6-.5 2.2-.4.6-.9 1.2-1.5 1.5-.6.4-1.4.5-2.3.5h-2.8zm1.3-1.3h1.4c.6 0 1.2-.1 1.7-.4.5-.3.8-.6 1.1-1 .2-.5.4-1 .4-1.6 0-.6-.1-1.2-.4-1.6-.2-.5-.6-.8-1.1-1-.5-.3-1-.4-1.7-.4h-1.4v6z"></path><path class="st3" d="M96 137.1h105.6v38.4H96v-38.4z"></path><path class="st2" d="M130.8 153.9v-8.6h1.6l3.9 6.3h.1l-.1-1.7v-4.7h1.3v8.6h-1.4l-4.1-6.6h-.1l.1 1.7v5h-1.3zm8.7 0v-8.6h5.2v1.2h-3.9v6.1h3.9v1.2h-5.2zm.7-3.7V149h4.1v1.2h-4.1zm6.2 3.7v-8.6h5.2v1.2h-3.9v6.1h3.9v1.2h-5.2zm.7-3.7V149h4.1v1.2h-4.1zm6.1 3.7v-8.6h2.8c.9 0 1.7.2 2.3.5.7.4 1.2.9 1.5 1.5.4.6.5 1.4.5 2.2s-.2 1.6-.5 2.2c-.4.6-.9 1.2-1.5 1.5-.6.4-1.4.5-2.3.5h-2.8zm1.3-1.3h1.4c.6 0 1.2-.1 1.7-.4.5-.2.8-.6 1.1-1 .2-.5.4-1 .4-1.6 0-.6-.1-1.2-.4-1.6-.2-.5-.6-.8-1.1-1-.5-.2-1-.4-1.7-.4h-1.4v6zm9.9 1.4c-.5 0-.9-.1-1.3-.3-.4-.2-.8-.4-1.1-.8-.3-.4-.5-.8-.7-1.3l1.2-.5c.1.5.3.9.7 1.2.3.3.7.5 1.2.5.3 0 .5 0 .8-.1.2-.1.4-.2.6-.4s.2-.4.2-.7c0-.3-.1-.5-.2-.7-.1-.2-.3-.3-.6-.5s-.6-.3-1-.5l-.5-.2c-.2-.1-.5-.2-.7-.3-.2-.1-.5-.3-.7-.5-.2-.2-.4-.4-.5-.7-.1-.3-.2-.6-.2-.9 0-.4.1-.8.3-1.2.2-.4.5-.6.9-.8.4-.2.9-.3 1.4-.3.6 0 1 .1 1.4.3.4.2.7.4.9.7.2.3.4.5.4.8l-1.2.5c0-.2-.1-.3-.2-.5s-.3-.3-.5-.4c-.2-.1-.4-.2-.8-.2-.2 0-.5.1-.7.2-.2.1-.4.2-.5.4-.1.2-.2.3-.2.6s.1.6.4.8c.3.2.6.4 1.1.5l.6.2c.3.1.6.2.8.3.3.1.5.3.7.5.2.2.4.4.5.7.1.3.2.6.2 1s-.1.8-.3 1.2c-.2.3-.4.6-.7.8-.3.2-.6.3-.9.4s-.5.2-.8.2zM107 167.9v-8.6h1.3v8.6H107zm3.2 0v-8.6h1.8l2.5 6.5h.1l2.5-6.5h1.8v8.6h-1.3V163l.1-1.5h-.1l-2.5 6.4h-1l-2.5-6.4h-.1l.1 1.5v4.9h-1.4zm10.6 0v-8.6h3c.5 0 1 .1 1.4.3.4.2.8.5 1 .9.3.4.4.9.4 1.4 0 .5-.1 1-.4 1.4-.2.4-.6.7-1 .9-.4.2-.9.3-1.4.3h-2.2v-1.2h2.3c.3 0 .6-.1.8-.2.2-.1.4-.3.5-.5.1-.2.2-.4.2-.7 0-.2-.1-.4-.2-.7-.1-.2-.3-.4-.5-.5-.2-.1-.5-.2-.8-.2h-1.7v7.3h-1.4zm7.2 0v-8.6h3c.5 0 1 .1 1.4.3.4.2.7.5 1 .9.2.4.4.8.4 1.4 0 .3-.1.7-.2 1s-.3.6-.6.8c-.3.2-.6.4-1 .6-.4.1-.8.2-1.2.2h-2.1v-1.2h2.3c.3 0 .5-.1.7-.2.2-.1.4-.3.5-.5.1-.2.2-.5.2-.7 0-.2-.1-.5-.2-.7-.1-.2-.3-.4-.5-.5-.2-.1-.5-.2-.8-.2h-1.7v7.4H128zm2-4h1.5l2.7 3.9v.1h-1.5l-2.7-4zm9.3 4.1c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8s.1-1.2.3-1.8c.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8s-.1 1.2-.3 1.8c-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.6.2-1.2.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.5.3 1 .4 1.6.4zm7.9 1.1-3-8.6h1.4l1.9 5.7.3 1h.1l.3-1 2-5.7h1.4l-3.1 8.6h-1.3zm5.6 0v-8.6h5.2v1.2h-3.9v6.1h3.9v1.2h-5.2zm.7-3.7V163h4.1v1.2h-4.1zm6.2 3.7v-8.6h1.8l2.5 6.5h.1l2.5-6.5h1.8v8.6H167V163l.1-1.5h-.1l-2.5 6.4h-1l-2.5-6.4h-.1l.1 1.5v4.9h-1.3zm10.6 0v-8.6h5.2v1.2h-3.9v6.1h3.9v1.2h-5.2zm.7-3.7V163h4.1v1.2H171zm6.1 3.7v-8.6h1.6l3.9 6.3h.1l-.1-1.7v-4.7h1.3v8.6h-1.4l-4.1-6.6h-.1l.1 1.7v5h-1.3zm10.5 0V160h1.3v7.9h-1.3zm-2.4-7.4v-1.2h6.1v1.2h-6.1z"></path><path class="st4" d="M200.6 137.1h96v38.4h-96v-38.4z"></path><path class="st2" d="M232.5 160.9v-8.6h3c.5 0 1 .1 1.4.3.4.2.8.5 1 .9.3.4.4.9.4 1.4 0 .5-.1 1-.4 1.4-.2.4-.6.7-1 .9-.4.2-.9.3-1.4.3h-2.2v-1.2h2.3c.3 0 .6-.1.8-.2.2-.1.4-.3.5-.5.1-.2.2-.4.2-.7 0-.2-.1-.4-.2-.7-.1-.2-.3-.4-.5-.5-.2-.1-.5-.2-.8-.2h-1.7v7.3h-1.4zm11 .1c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8s.1-1.2.3-1.8c.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8s-.1 1.2-.3 1.8c-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.5.2-1.1.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.6.3 1.1.4 1.6.4zm9.9 1.2c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8s.1-1.2.3-1.8c.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8s-.1 1.2-.3 1.8c-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.6.2-1.1.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.5.3 1 .4 1.6.4zm6 1.1v-8.6h3c.5 0 1 .1 1.4.3.4.2.7.5 1 .9.2.4.4.8.4 1.4 0 .3-.1.7-.2 1s-.3.6-.6.8c-.3.2-.6.4-1 .6-.4.1-.8.2-1.2.2h-2.1v-1.2h2.3c.3 0 .5-.1.7-.2.2-.1.4-.3.5-.5.1-.2.2-.5.2-.7 0-.2-.1-.5-.2-.7-.1-.2-.3-.4-.5-.5-.2-.1-.5-.2-.8-.2h-1.7v7.4h-1.2zm2-4h1.5l2.7 3.9v.1H264l-2.6-4zM178.1 219.9c-.5 0-1-.1-1.5-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-1-.8-1.7l1.5-.6c.1.6.4 1 .8 1.4.4.4.9.5 1.4.5.6 0 1.1-.2 1.5-.6.4-.4.6-.9.6-1.5s-.2-1.1-.6-1.5c-.4-.4-.9-.6-1.5-.6-.4 0-.7.1-1 .2-.3.1-.5.4-.7.6l-1.7-.8.7-5.5h5.9v1.6h-4.5l-.4 2.9h.1c.2-.2.5-.3.8-.5.3-.1.7-.2 1.2-.2.6 0 1.2.2 1.7.5s1 .7 1.3 1.3c.3.5.5 1.2.5 1.9s-.2 1.3-.5 1.9c-.3.6-.8 1-1.3 1.3-.7.5-1.4.7-2.1.7zm9.9 0c-.7 0-1.3-.1-1.9-.4-.5-.3-1-.7-1.4-1.2-.4-.5-.7-1.1-.9-1.8-.2-.7-.3-1.4-.3-2.2 0-.8.1-1.6.3-2.2.2-.7.5-1.3.9-1.8s.9-.9 1.4-1.2c.6-.3 1.2-.5 1.9-.5s1.3.2 1.9.5c.6.3 1 .7 1.4 1.2.4.5.7 1.1.9 1.8.2.7.3 1.4.3 2.2 0 .8-.1 1.6-.3 2.2-.2.7-.5 1.3-.9 1.8s-.9.9-1.4 1.2c-.6.2-1.2.4-1.9.4zm.1-1.7c.6 0 1-.2 1.5-.5.4-.4.7-.9 1-1.5.2-.6.3-1.3.3-2.1s-.1-1.5-.3-2.1c-.2-.6-.5-1.1-1-1.5-.4-.4-.9-.5-1.5-.5s-1.1.2-1.5.5c-.4.4-.7.8-.9 1.5-.2.6-.3 1.3-.3 2.1s.1 1.5.3 2.1c.2.6.5 1.1.9 1.5.4.3.9.5 1.5.5zm10.5 1.7c-.7 0-1.3-.1-1.9-.4-.5-.3-1-.7-1.4-1.2-.4-.5-.7-1.1-.9-1.8-.2-.7-.3-1.4-.3-2.2 0-.8.1-1.6.3-2.2.2-.7.5-1.3.9-1.8s.9-.9 1.4-1.2c.6-.3 1.2-.5 1.9-.5s1.3.2 1.9.5c.6.3 1 .7 1.4 1.2.4.5.7 1.1.9 1.8.2.7.3 1.4.3 2.2 0 .8-.1 1.6-.3 2.2-.2.7-.5 1.3-.9 1.8s-.9.9-1.4 1.2c-.6.2-1.2.4-1.9.4zm0-1.7c.6 0 1-.2 1.5-.5.4-.4.7-.9 1-1.5.2-.6.3-1.3.3-2.1s-.1-1.5-.3-2.1c-.2-.6-.5-1.1-1-1.5-.4-.4-.9-.5-1.5-.5s-1.1.2-1.5.5c-.4.4-.7.8-.9 1.5-.2.6-.3 1.3-.3 2.1s.1 1.5.3 2.1c.2.6.5 1.1.9 1.5.4.3.9.5 1.5.5zm10 1.4v-8.2h1.6v1.1h.1c.2-.3.4-.5.6-.7.3-.2.6-.4.9-.5.3-.1.7-.2 1-.2.6 0 1.1.1 1.5.4.4.3.7.7.9 1.1.3-.4.6-.8 1.1-1.1.5-.3 1-.5 1.7-.5 1 0 1.7.3 2.1.9.5.6.7 1.4.7 2.3v5.2h-1.7v-4.9c0-.7-.1-1.1-.4-1.4-.3-.3-.7-.5-1.2-.5-.4 0-.7.1-1 .3-.3.2-.5.5-.7.9-.2.4-.2.8-.2 1.2v4.4h-1.7v-4.9c0-.7-.1-1.1-.4-1.4-.3-.3-.7-.5-1.2-.5-.4 0-.7.1-1 .3-.3.2-.5.5-.7.9-.2.4-.2.8-.2 1.2v4.4h-1.8zm17.2.3c-.6 0-1.2-.1-1.7-.3-.5-.2-.9-.5-1.2-.8-.3-.3-.5-.7-.7-1.1l1.5-.7c.2.4.5.8.8 1 .4.2.8.3 1.2.3.4 0 .8-.1 1.1-.2.3-.2.5-.4.5-.8 0-.2-.1-.4-.2-.6-.1-.1-.3-.3-.6-.4-.2-.1-.5-.2-.8-.2l-1-.2c-.4-.1-.8-.3-1.1-.5-.3-.2-.6-.5-.8-.8-.2-.3-.3-.7-.3-1.1 0-.5.1-.9.4-1.3.3-.4.7-.6 1.1-.8.5-.2 1-.3 1.6-.3.5 0 1 .1 1.4.2.4.1.8.3 1.1.6.3.3.6.6.8 1l-1.5.7c-.2-.4-.4-.6-.7-.8-.3-.1-.6-.2-1-.2s-.7.1-1 .2c-.3.2-.4.4-.4.6 0 .3.1.5.4.7.2.2.5.3.9.4l1.2.3c.8.2 1.4.5 1.8.9.4.4.6.9.6 1.5 0 .5-.2 1-.5 1.4-.3.4-.7.7-1.2.9-.6.2-1.1.4-1.7.4zM69 220v-1.6s.2-.1.4-.4c.2-.2.5-.5.8-.9l1.1-1.1 1-1c.3-.3.5-.6.7-.8.3-.3.5-.6.7-.8.2-.2.3-.5.4-.7.1-.2.1-.5.1-.8 0-.3-.1-.5-.2-.8-.1-.3-.3-.4-.6-.6-.3-.1-.6-.2-1-.2s-.7.1-1 .2c-.3.1-.5.3-.6.6-.1.2-.3.4-.3.7l-1.5-.6c.1-.3.2-.5.4-.8.2-.3.4-.5.7-.8.3-.3.6-.5 1-.6.4-.2.9-.3 1.4-.2.7 0 1.3.2 1.9.5.5.3.9.7 1.2 1.2.3.5.4 1 .4 1.6 0 .5-.1.9-.2 1.3-.2.4-.4.8-.7 1.2-.3.4-.5.7-.8 1l-.5.5c-.2.2-.4.5-.7.7l-.7.7-.6.6-.4.4h4.8v1.6H69zm13.2.2c-.7 0-1.3-.1-1.9-.4-.5-.3-1-.7-1.4-1.2-.4-.5-.7-1.1-.9-1.8-.2-.7-.3-1.4-.3-2.2 0-.8.1-1.6.3-2.2.2-.7.5-1.3.9-1.8s.9-.9 1.4-1.2c.6-.3 1.2-.5 1.9-.5s1.3.2 1.9.5c.6.3 1 .7 1.4 1.2.4.5.7 1.1.9 1.8.2.7.3 1.4.3 2.2 0 .8-.1 1.6-.3 2.2-.2.7-.5 1.3-.9 1.8s-.9.9-1.4 1.2c-.6.3-1.2.4-1.9.4zm0-1.6c.6 0 1-.2 1.5-.5.4-.4.7-.9 1-1.5.2-.6.3-1.3.3-2.1s-.1-1.5-.3-2.1c-.2-.6-.5-1.1-1-1.5-.4-.4-.9-.5-1.5-.5s-1.1.2-1.5.5c-.4.4-.7.8-.9 1.5-.2.6-.3 1.3-.3 2.1s.1 1.5.3 2.1c.2.6.5 1.1.9 1.5.4.3.9.5 1.5.5zm10.5 1.6c-.7 0-1.3-.1-1.9-.4-.5-.3-1-.7-1.4-1.2-.4-.5-.7-1.1-.9-1.8-.2-.7-.3-1.4-.3-2.2 0-.8.1-1.6.3-2.2.2-.7.5-1.3.9-1.8s.9-.9 1.4-1.2c.6-.3 1.2-.5 1.9-.5s1.3.2 1.9.5c.6.3 1 .7 1.4 1.2.4.5.7 1.1.9 1.8.2.7.3 1.4.3 2.2 0 .8-.1 1.6-.3 2.2-.2.7-.5 1.3-.9 1.8s-.9.9-1.4 1.2c-.6.3-1.2.4-1.9.4zm0-1.6c.6 0 1-.2 1.5-.5.4-.4.7-.9 1-1.5.2-.6.3-1.3.3-2.1s-.1-1.5-.3-2.1c-.2-.6-.5-1.1-1-1.5-.4-.4-.9-.5-1.5-.5s-1.1.2-1.5.5c-.4.4-.7.8-.9 1.5-.2.6-.3 1.3-.3 2.1s.1 1.5.3 2.1c.2.6.5 1.1.9 1.5.5.3 1 .5 1.5.5zm10 1.4v-8.2h1.6v1.1h.1c.2-.3.4-.5.6-.7.3-.2.6-.4.9-.5.3-.1.7-.2 1-.2.6 0 1.1.1 1.5.4.4.3.7.7.9 1.1.3-.4.6-.8 1.1-1.1.5-.3 1-.5 1.7-.5 1 0 1.7.3 2.1.9.5.6.7 1.4.7 2.3v5.2h-1.7v-4.9c0-.7-.1-1.1-.4-1.4-.3-.3-.7-.5-1.2-.5-.4 0-.7.1-1 .3-.3.2-.5.5-.7.9-.2.4-.2.8-.2 1.2v4.4H108v-4.9c0-.7-.1-1.1-.4-1.4-.3-.3-.7-.5-1.2-.5-.4 0-.7.1-1 .3-.3.2-.5.5-.7.9-.2.4-.2.8-.2 1.2v4.4h-1.8zm17.2.2c-.6 0-1.2-.1-1.7-.3-.5-.2-.9-.5-1.2-.8-.3-.3-.5-.7-.7-1.1l1.5-.7c.2.4.5.8.8 1 .4.2.8.3 1.2.3.4 0 .8-.1 1.1-.2.3-.2.5-.4.5-.8 0-.2-.1-.4-.2-.6-.1-.1-.3-.3-.6-.4-.2-.1-.5-.2-.8-.2l-1-.2c-.4-.1-.8-.3-1.1-.5-.3-.2-.6-.5-.8-.8-.2-.3-.3-.7-.3-1.1 0-.5.1-.9.4-1.3.3-.4.7-.6 1.1-.8.5-.2 1-.3 1.6-.3.5 0 1 .1 1.4.2.4.1.8.3 1.1.6.3.3.6.6.8 1l-1.5.7c-.2-.4-.4-.6-.7-.8-.3-.1-.6-.2-1-.2s-.7.1-1 .2c-.3.2-.4.4-.4.6 0 .3.1.5.4.7.2.2.5.3.9.4l1.2.3c.8.2 1.4.5 1.8.9.4.4.6.9.6 1.5 0 .5-.2 1-.5 1.4-.3.4-.7.7-1.2.9-.5.3-1.1.4-1.7.4zM42.4 96.3V82h1.7v14.3h-1.7zm4.6 0V86.1h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V90c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7H47zm10-10.2h6v1.5h-6v-1.5zm1.8 7.5V83.3h1.7v10c0 .5.1.9.3 1.2s.6.4 1.1.4c.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.5-.6-.7-1.3-.7-2.2zm10.3 3c-1 0-1.9-.2-2.6-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.6-1.7-.6-2.8 0-1 .2-1.9.6-2.7s1-1.5 1.7-2 1.6-.8 2.6-.8 1.9.2 2.6.7c.7.4 1.3 1.1 1.7 1.8.4.8.6 1.7.6 2.7v.5H65V90h7c0-.3-.1-.6-.2-.9-.1-.3-.3-.6-.5-.9-.2-.3-.6-.5-.9-.7-.4-.2-.8-.3-1.4-.3-.7 0-1.2.2-1.7.5s-.8.8-1.1 1.4c-.3.6-.4 1.2-.4 2 0 .9.2 1.6.5 2.2.3.6.8 1 1.3 1.3.5.3 1.1.4 1.7.4.8 0 1.4-.2 1.8-.5.5-.4.9-.8 1.2-1.3l1.4.7c-.4.8-1 1.4-1.7 1.9-.9.6-1.8.8-2.9.8zm6.7-.3V86.1h1.6v1.6h.1c.1-.4.4-.7.7-1 .3-.3.7-.5 1.1-.7s.8-.2 1.2-.2h.7c.2 0 .3.1.5.2v1.8c-.2-.1-.5-.2-.7-.2-.2-.1-.5-.1-.7-.1-.5 0-1 .1-1.4.4-.4.3-.7.7-1 1.1-.2.5-.4 1-.4 1.5v5.7h-1.7zm10.4.3c-.8 0-1.4-.1-2-.4s-1-.7-1.3-1.2c-.3-.5-.5-1.1-.5-1.8 0-.8.2-1.4.6-1.9.4-.5.9-.9 1.5-1.2.7-.3 1.4-.4 2.2-.4.4 0 .9 0 1.2.1s.7.2 1 .3c.3.1.5.2.7.3v-.6c0-.8-.3-1.4-.8-1.8-.5-.5-1.2-.7-2-.7-.6 0-1.1.1-1.6.4-.5.2-.9.6-1.1 1l-1.3-1c.3-.4.6-.7 1-1 .4-.3.9-.5 1.4-.7.5-.2 1.1-.2 1.6-.2 1.4 0 2.5.4 3.2 1.1.8.7 1.2 1.7 1.2 3v6.5h-1.6v-1.5h-.1c-.2.3-.4.6-.7.8s-.7.5-1.1.7c-.5.2-1 .2-1.5.2zm.1-1.5c.6 0 1.1-.1 1.6-.4.5-.3.9-.7 1.2-1.2.3-.5.5-1 .5-1.6-.3-.2-.7-.4-1.2-.5s-1-.2-1.5-.2c-1 0-1.7.2-2.1.6-.4.4-.7.9-.7 1.5s.2 1 .6 1.4 1 .4 1.6.4zm11.8 1.5c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-2 .7-2.8.4-.8 1.1-1.5 1.8-1.9.8-.5 1.7-.7 2.7-.7 1.1 0 2.1.3 2.8.8.7.5 1.3 1.2 1.6 2l-1.5.6c-.2-.6-.6-1.1-1.1-1.4-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.7.5s-.9.8-1.2 1.4c-.3.6-.5 1.3-.5 2 0 .8.2 1.4.5 2 .3.6.7 1 1.2 1.4.5.3 1.1.5 1.7.5.7 0 1.3-.2 1.9-.5s.9-.8 1.2-1.4l1.5.6c-.3.8-.9 1.5-1.6 2s-1.9.8-3 .8zm5.5-10.5h6v1.5h-6v-1.5zm1.7 7.5V83.3h1.7v10c0 .5.1.9.3 1.2s.6.4 1.1.4c.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8s-.7-1.3-.7-2.2zm6.5 2.7V86.1h1.7v10.2h-1.7zm.9-12c-.3 0-.6-.1-.9-.4s-.4-.5-.4-.9c0-.3.1-.6.4-.9.2-.2.5-.4.9-.4.3 0 .6.1.9.4.2.2.4.5.4.9 0 .3-.1.6-.4.9-.3.2-.6.4-.9.4zm8.1 12.3c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-1.9.7-2.8.4-.8 1.1-1.5 1.8-2 .8-.5 1.7-.7 2.7-.7 1 0 1.9.2 2.7.7.8.5 1.4 1.1 1.9 2s.7 1.7.7 2.7c0 1-.2 1.9-.7 2.8-.4.8-1.1 1.5-1.9 1.9-.8.6-1.7.8-2.7.8zm0-1.5c.6 0 1.2-.2 1.7-.5s1-.8 1.3-1.3c.3-.6.5-1.3.5-2.1s-.2-1.5-.5-2.1-.8-1-1.3-1.3c-.5-.3-1.1-.5-1.7-.5-.6 0-1.2.2-1.7.5s-1 .7-1.3 1.3-.5 1.3-.5 2.1.2 1.5.5 2.1c.3.6.8 1 1.3 1.3.5.4 1.1.5 1.7.5zm7 1.2V86.1h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V90c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7h-1.7zM143 86.1h6v1.5h-6v-1.5zm1.7 7.5V83.3h1.7v10c0 .5.1.9.3 1.2s.6.4 1.1.4c.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.6-.7-1.3-.7-2.2zm10.5 3c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-1.9.7-2.8.4-.8 1.1-1.5 1.8-2 .8-.5 1.7-.7 2.7-.7 1 0 1.9.2 2.7.7.8.5 1.4 1.1 1.9 2 .4.8.7 1.7.7 2.7 0 1-.2 1.9-.7 2.8-.4.8-1.1 1.5-1.9 1.9-.8.6-1.7.8-2.7.8zm0-1.5c.6 0 1.2-.2 1.7-.5s1-.8 1.3-1.3c.3-.6.5-1.3.5-2.1s-.2-1.5-.5-2.1c-.3-.6-.8-1-1.3-1.3-.5-.3-1.1-.5-1.7-.5-.6 0-1.2.2-1.7.5s-1 .7-1.3 1.3c-.3.6-.5 1.3-.5 2.1s.2 1.5.5 2.1c.3.6.8 1 1.3 1.3.5.4 1.1.5 1.7.5zm12.2 1.2V82h2.1l7.2 11.4h.1l-.1-2.8V82h1.7v14.3h-1.8l-7.5-11.9h-.1l.1 2.8v9.2h-1.7zm18.2.3c-1 0-1.9-.2-2.6-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.6-1.7-.6-2.8 0-1 .2-1.9.6-2.7.4-.8 1-1.5 1.7-2s1.6-.8 2.6-.8 1.9.2 2.6.7c.7.4 1.3 1.1 1.7 1.8.4.8.6 1.7.6 2.7v.5h-8.8V90h7c0-.3-.1-.6-.2-.9-.1-.3-.3-.6-.5-.9-.2-.3-.6-.5-.9-.7-.4-.2-.8-.3-1.4-.3-.7 0-1.2.2-1.7.5s-.8.8-1.1 1.4c-.3.6-.4 1.2-.4 2 0 .9.2 1.6.5 2.2.3.6.8 1 1.3 1.3.5.3 1.1.4 1.7.4.8 0 1.4-.2 1.8-.5.5-.4.9-.8 1.2-1.3l1.4.7c-.4.8-1 1.4-1.7 1.9-1 .6-1.9.8-3 .8zm5.5-.3 4.1-5.9h.2l2.9-4.3h2l-4 5.6h-.1l-3.1 4.6h-2zm.1-10.2h1.9l3.2 4.5h.1l4 5.7h-2l-3-4.5h-.1l-4.1-5.7zm9.9 0h6v1.5h-6v-1.5zm1.8 7.5V83.3h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.6-.7-1.3-.7-2.2zm11.2 2.7V82h4.8c.8 0 1.5.2 2.2.5.7.4 1.2.8 1.6 1.5.4.6.6 1.4.6 2.2 0 .8-.2 1.6-.6 2.2-.4.6-.9 1.1-1.6 1.5-.7.4-1.4.5-2.2.5H215v-1.6h4c.6 0 1-.1 1.4-.4.4-.3.7-.6.9-1 .2-.4.3-.8.3-1.2s-.1-.8-.3-1.2c-.2-.4-.5-.7-.9-1-.4-.3-.9-.4-1.4-.4h-3.2v12.7h-1.7zm14.1.3c-.8 0-1.4-.1-2-.4s-1-.7-1.3-1.2-.5-1.1-.5-1.8c0-.8.2-1.4.6-1.9s.9-.9 1.5-1.2c.7-.3 1.4-.4 2.2-.4.4 0 .9 0 1.2.1s.7.2 1 .3c.3.1.5.2.7.3v-.6c0-.8-.3-1.4-.8-1.8-.5-.5-1.2-.7-2-.7-.6 0-1.1.1-1.6.4-.5.2-.9.6-1.1 1l-1.3-1c.3-.4.6-.7 1-1 .4-.3.9-.5 1.4-.7s1.1-.2 1.6-.2c1.4 0 2.5.4 3.2 1.1.8.7 1.2 1.7 1.2 3v6.5h-1.6v-1.5h-.1c-.2.3-.4.6-.7.8s-.7.5-1.1.7c-.6.2-1 .2-1.5.2zm.1-1.5c.6 0 1.1-.1 1.6-.4.5-.3.9-.7 1.2-1.2.3-.5.5-1 .5-1.6-.3-.2-.7-.4-1.2-.5s-1-.2-1.5-.2c-1 0-1.7.2-2.1.6-.4.4-.7.9-.7 1.5s.2 1 .6 1.4 1 .4 1.6.4zm7.4 1.2V86.1h1.7v10.2h-1.7zm.8-12c-.3 0-.6-.1-.9-.4s-.4-.5-.4-.9c0-.3.1-.6.4-.9.2-.2.5-.4.9-.4.3 0 .6.1.9.4.2.2.4.5.4.9 0 .3-.1.6-.4.9-.2.2-.5.4-.9.4zm3.5 12V86.1h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V90c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7H240zm10.1-10.2h6v1.5h-6v-1.5zm1.7 7.5V83.3h1.7v10c0 .5.1.9.3 1.2s.6.4 1.1.4c.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8s-.7-1.3-.7-2.2zM96 172.8c-2.4 0-4.3 1.9-4.3 4.3 0 2 1.4 3.7 3.3 4.2v20.1h2v-20.1c1.9-.5 3.3-2.1 3.3-4.2 0-2.3-1.9-4.3-4.3-4.3zM201.6 172.6c-2.4 0-4.3 1.9-4.3 4.3 0 2 1.4 3.7 3.3 4.2v19.8h2v-19.8c1.9-.5 3.3-2.1 3.3-4.2 0-2.4-1.9-4.3-4.3-4.3z"></path></svg>
  <svg title="A diagram of the INP thresholds. An INP at or below 200 milliseconds is considered good. Between 200 and 500 milliseconds suggests a page's responsiveness needs improvement. Anything over 500 milliseconds means that a page's responsiveness is poor." class="inp-desktop" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 658.4 113.6" style="enable-background:new 0 0 658.4 113.6" xml:space="preserve"><style>.st0{fill: #2979FF} v.st1{fill-rule: evenodd;clip-rule: evenodd;fill: #0CCE6B} .st2 {fill: #191919} .st3{fill-rule: evenodd;clip-rule: evenodd;fill: #FFA400} .st4{fill-rule: evenodd;clip-rule: evenodd;fill: #FF4E42} @media screen and (prefers-color-scheme: light){.st2{fill: #191919}} @media screen and (prefers-color-scheme: dark){.st2{fill: #fff}} [data-user-theme=dark] .st2{fill: #fff}</style><path class="st0" d="M30.2 68.7V0h13v68.7h-13zm28.7 0V0H74l27.7 46.1h.8l-.8-13.2V0h12.9v68.7H101L71.7 20.1h-.8l.8 13.2v35.4H58.9zm71.3 0V0h24.2c4.4 0 8.4.9 11.9 2.7 3.5 1.8 6.3 4.4 8.4 7.6 2.1 3.3 3.1 7 3.1 11.3 0 4.3-1 8.1-3.1 11.4-2.1 3.3-4.9 5.8-8.4 7.7-3.5 1.8-7.5 2.7-11.9 2.7h-17V31.2h17.4c2.2 0 4.1-.4 5.7-1.3 1.5-.9 2.7-2.1 3.5-3.5.8-1.4 1.2-3 1.2-4.7 0-1.7-.4-3.2-1.2-4.6-.8-1.4-1.9-2.6-3.5-3.5-1.5-.9-3.4-1.3-5.7-1.3h-11.6v56.5h-13z"></path><path class="st1" d="M303.2 14.9h115.2v43.2H303.2V14.9z"></path><path class="st2" d="M345.3 41.5c-.7 0-1.3-.1-1.9-.4-.6-.2-1.1-.6-1.6-1s-.8-1-1.1-1.6c-.3-.6-.4-1.3-.4-2s.1-1.4.4-2c.3-.6.6-1.1 1.1-1.6.5-.5 1-.8 1.6-1 .6-.2 1.2-.4 1.9-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1l-1 1c-.2-.2-.4-.4-.7-.6-.3-.2-.5-.3-.9-.4-.3-.1-.6-.1-1-.1-.5 0-.9.1-1.3.3-.4.2-.8.4-1.1.7-.3.3-.6.7-.8 1.1-.2.4-.3.9-.3 1.5s.1 1 .3 1.5c.2.4.5.8.8 1.1.3.3.7.6 1.1.7.4.2.9.2 1.3.2s.8-.1 1.2-.2c.4-.1.7-.3 1-.5.3-.2.5-.5.7-.8.2-.3.3-.7.3-1.1h-3.3v-1.3h4.6v.8c0 .7-.1 1.3-.4 1.9-.2.6-.6 1-1 1.5-.4.4-.9.7-1.5.9-.3.2-.9.3-1.6.3zm10.5 0c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1-1.2.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3s.5-1.2.5-1.9-.2-1.3-.5-1.9-.7-1-1.2-1.3c-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.8.5-.5.3-.9.7-1.2 1.3s-.5 1.2-.5 1.9.2 1.3.5 1.9.7 1 1.2 1.3c.6.4 1.2.5 1.8.5zm11 1.4c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1-1.3.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3s.5-1.2.5-1.9-.2-1.3-.5-1.9-.7-1-1.2-1.3c-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.8.5-.5.3-.9.7-1.2 1.3s-.5 1.2-.5 1.9.2 1.3.5 1.9.7 1 1.2 1.3c.6.4 1.2.5 1.8.5zm6.6 1.2v-9.5h3c1 0 1.9.2 2.6.6.7.4 1.3 1 1.7 1.7s.6 1.5.6 2.5c0 .9-.2 1.8-.6 2.5s-1 1.3-1.7 1.7c-.7.4-1.6.6-2.6.6h-3zm1.5-1.4h1.5c.7 0 1.3-.1 1.8-.4.5-.3.9-.7 1.2-1.2.3-.5.4-1.1.4-1.8s-.1-1.3-.4-1.8c-.3-.5-.7-.9-1.2-1.2-.5-.3-1.1-.4-1.8-.4h-1.5v6.8z"></path><path class="st3" d="M418.4 14.9h124.8v43.2H418.4V14.9z"></path><path class="st2" d="M460.8 33.3v-9.5h1.7l4.3 7h.1l-.1-1.8v-5.2h1.5v9.5h-1.5l-4.5-7.4h-.1l.1 1.8v5.5h-1.5zm9.7 0v-9.5h5.8v1.4H472V32h4.3v1.4h-5.8zm.7-4.1v-1.4h4.6v1.4h-4.6zm6.9 4.1v-9.5h5.8v1.4h-4.3V32h4.3v1.4h-5.8zm.8-4.1v-1.4h4.6v1.4h-4.6zm6.8 4.1v-9.5h3c1 0 1.9.2 2.6.6.7.4 1.3 1 1.7 1.7s.6 1.5.6 2.5c0 .9-.2 1.8-.6 2.5s-1 1.3-1.7 1.7c-.7.4-1.6.6-2.6.6h-3zm1.5-1.4h1.5c.7 0 1.3-.1 1.8-.4.5-.3.9-.7 1.2-1.2.3-.5.4-1.1.4-1.8s-.1-1.3-.4-1.8c-.3-.5-.7-.9-1.2-1.2-.5-.3-1.1-.4-1.8-.4h-1.5v6.8zm10.9 1.6c-.5 0-1-.1-1.5-.3-.5-.2-.9-.5-1.2-.9-.3-.4-.6-.9-.8-1.5l1.4-.6c.1.5.4.9.8 1.3.4.3.8.5 1.3.5.3 0 .6-.1.8-.2.3-.1.5-.3.6-.5.2-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.6-.5-.3-.2-.7-.3-1.1-.5l-.6-.2c-.3-.1-.5-.2-.8-.4-.3-.1-.5-.3-.7-.5-.2-.2-.4-.5-.5-.7-.1-.3-.2-.6-.2-1 0-.5.1-.9.4-1.3.2-.4.6-.7 1-.9.4-.2 1-.4 1.6-.4.6 0 1.1.1 1.5.3.4.2.7.5 1 .8.2.3.4.6.5.9l-1.3.6c-.1-.2-.2-.4-.3-.5-.1-.2-.3-.3-.5-.4-.2-.1-.5-.2-.8-.2-.3 0-.5.1-.8.2-.2.1-.4.2-.6.4-.1.2-.2.4-.2.6 0 .3.1.6.4.8s.7.4 1.2.6l.6.2c.3.1.6.2.9.4.3.1.6.3.8.6.2.2.4.5.6.8.1.3.2.7.2 1.2s-.1.9-.3 1.3c-.2.4-.4.6-.8.9-.3.2-.7.4-1 .5-.3 0-.7.1-1 .1zM434.4 49.3v-9.5h1.5v9.5h-1.5zm3.6 0v-9.5h2l2.8 7.3h.1l2.8-7.3h2v9.5h-1.4v-5.4l.1-1.7h-.1l-2.8 7.1h-1.2l-2.8-7.1h-.1l.1 1.7v5.4H438zm11.7 0v-9.5h3.3c.6 0 1.1.1 1.6.4.5.2.9.6 1.1 1 .3.4.4.9.4 1.5s-.1 1.1-.4 1.5c-.3.4-.7.8-1.1 1-.5.2-1 .4-1.6.4h-2.5v-1.4h2.5c.4 0 .7-.1.9-.2.2-.1.4-.3.5-.6.1-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.2-.5-.2-.9-.2h-1.8v8.2h-1.5zm8 0v-9.5h3.3c.6 0 1.1.1 1.6.4.5.2.8.6 1.1 1s.4.9.4 1.5c0 .4-.1.8-.2 1.1s-.4.7-.7.9c-.3.3-.6.5-1 .6-.4.1-.9.2-1.4.2h-2.3v-1.3h2.5c.3 0 .6-.1.8-.2.2-.1.4-.3.6-.6.2-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.1-.5-.2-.9-.2h-1.9v8.2h-1.4zm2.2-4.4h1.7l3 4.3v.1h-1.7l-3-4.4zm10.3 4.6c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1c-.6.3-1.2.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3.3-.5.5-1.2.5-1.9s-.2-1.3-.5-1.9c-.3-.5-.7-1-1.2-1.3-.5-.3-1.1-.5-1.8-.5s-1.2.2-1.8.5c-.5.3-.9.7-1.2 1.3-.3.5-.5 1.2-.5 1.9s.2 1.3.5 1.9c.3.5.7 1 1.2 1.3.6.4 1.2.5 1.8.5zm8.8 1.2-3.4-9.5h1.6l2.2 6.3.3 1.1h.1l.4-1.1 2.2-6.3h1.6l-3.5 9.5H479zm6.2 0v-9.5h5.8v1.4h-4.3V48h4.3v1.4h-5.8zm.8-4.1v-1.4h4.6v1.4H486zm6.8 4.1v-9.5h2l2.8 7.3h.1l2.8-7.3h2v9.5H501v-5.4l.1-1.7h-.1l-2.8 7.1H497l-2.8-7.1h-.1l.1 1.7v5.4h-1.4zm11.8 0v-9.5h5.8v1.4h-4.3V48h4.3v1.4h-5.8zm.8-4.1v-1.4h4.6v1.4h-4.6zm6.8 4.1v-9.5h1.7l4.3 7h.1l-.1-1.8v-5.2h1.5v9.5h-1.5l-4.5-7.4h-.1l.1 1.8v5.5h-1.5zm11.7 0v-8.8h1.5v8.8h-1.5zm-2.7-8.2v-1.4h6.8v1.4h-6.8z"></path><path class="st4" d="M543.2 14.9h115.2v43.2H543.2V14.9z"></path><path class="st2" d="M582.9 41.3v-9.5h3.3c.6 0 1.1.1 1.6.4.5.2.9.6 1.1 1 .3.4.4.9.4 1.5s-.1 1.1-.4 1.5c-.3.4-.7.8-1.1 1-.5.2-1 .4-1.6.4h-2.5v-1.4h2.5c.4 0 .7-.1.9-.2.2-.1.4-.3.5-.6.1-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.2-.5-.2-.9-.2h-1.8v8.2h-1.5zm12.3.2c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1c-.7.3-1.3.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3.3-.5.5-1.2.5-1.9s-.2-1.3-.5-1.9c-.3-.5-.7-1-1.2-1.3-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.8.5-.5.3-.9.7-1.2 1.3-.3.5-.5 1.2-.5 1.9s.2 1.3.5 1.9c.3.5.7 1 1.2 1.3.6.4 1.1.5 1.8.5zm10.9 1.4c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1c-.6.3-1.3.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3.3-.5.5-1.2.5-1.9s-.2-1.3-.5-1.9c-.3-.5-.7-1-1.2-1.3-.5-.3-1.1-.5-1.8-.5s-1.2.2-1.8.5c-.5.3-.9.7-1.2 1.3-.3.5-.5 1.2-.5 1.9s.2 1.3.5 1.9c.3.5.7 1 1.2 1.3.6.4 1.2.5 1.8.5zm6.7 1.2v-9.5h3.3c.6 0 1.1.1 1.6.4.5.2.8.6 1.1 1s.4.9.4 1.5c0 .4-.1.8-.2 1.1s-.4.7-.7.9c-.3.3-.6.5-1 .6-.4.1-.9.2-1.4.2h-2.3v-1.3h2.5c.3 0 .6-.1.8-.2.2-.1.4-.3.6-.6.2-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.1-.5-.2-.9-.2h-1.9v8.2h-1.4zm2.2-4.4h1.7l3 4.3v.1H618l-3-4.4zM517.7 102.9c-.6 0-1.1-.1-1.7-.3-.6-.2-1-.6-1.5-1-.4-.5-.7-1.1-.9-1.8l1.7-.7c.2.6.4 1.1.8 1.5.4.4.9.6 1.6.6.7 0 1.2-.2 1.6-.6.4-.4.7-1 .7-1.6 0-.7-.2-1.2-.6-1.6-.4-.4-1-.7-1.6-.7-.4 0-.8.1-1.1.2-.3.2-.6.4-.8.7l-1.8-.8.7-6h6.4v1.7h-4.9l-.4 3.2h.1c.3-.2.6-.4.9-.5.4-.1.8-.2 1.3-.2.7 0 1.3.2 1.9.5.6.3 1 .8 1.4 1.4.4.6.5 1.3.5 2 0 .8-.2 1.5-.5 2.1-.4.6-.8 1.1-1.5 1.4-.7.3-1.5.5-2.3.5zm10.8 0c-.7 0-1.4-.2-2-.5-.6-.3-1.1-.8-1.5-1.3-.4-.6-.8-1.2-1-2-.2-.8-.3-1.6-.3-2.4 0-.9.1-1.7.3-2.5.2-.8.6-1.4 1-2 .4-.6.9-1 1.5-1.3.6-.3 1.3-.5 2-.5.8 0 1.4.2 2 .5.6.3 1.1.8 1.5 1.3.4.6.8 1.2 1 2 .2.8.3 1.6.3 2.5 0 .9-.1 1.7-.3 2.4-.2.8-.5 1.4-1 2-.4.6-.9 1-1.5 1.3-.6.3-1.2.5-2 .5zm0-1.8c.6 0 1.1-.2 1.6-.6.4-.4.8-.9 1-1.6.2-.7.4-1.4.4-2.2 0-.8-.1-1.6-.4-2.3-.2-.7-.6-1.2-1-1.6-.4-.4-1-.6-1.6-.6-.6 0-1.2.2-1.6.6-.4.4-.8.9-1 1.6-.2.7-.4 1.4-.4 2.3 0 .8.1 1.6.4 2.2.2.7.6 1.2 1 1.6.5.4 1 .6 1.6.6zm11.4 1.8c-.7 0-1.4-.2-2-.5-.6-.3-1.1-.8-1.5-1.3-.4-.6-.8-1.2-1-2-.2-.8-.3-1.6-.3-2.4 0-.9.1-1.7.3-2.5.2-.8.6-1.4 1-2 .4-.6.9-1 1.5-1.3.6-.3 1.3-.5 2-.5.8 0 1.4.2 2 .5.6.3 1.1.8 1.5 1.3.4.6.8 1.2 1 2 .2.8.3 1.6.3 2.5 0 .9-.1 1.7-.3 2.4-.2.8-.5 1.4-1 2-.4.6-.9 1-1.5 1.3-.5.3-1.2.5-2 .5zm.1-1.8c.6 0 1.1-.2 1.6-.6.4-.4.8-.9 1-1.6.2-.7.4-1.4.4-2.2 0-.8-.1-1.6-.4-2.3-.2-.7-.6-1.2-1-1.6-.4-.4-1-.6-1.6-.6-.6 0-1.2.2-1.6.6-.4.4-.8.9-1 1.6-.2.7-.4 1.4-.4 2.3 0 .8.1 1.6.4 2.2.2.7.6 1.2 1 1.6.4.4.9.6 1.6.6zm10.8 1.5v-8.8h1.8V95h.1c.2-.3.4-.5.7-.8s.6-.4.9-.5c.4-.1.7-.2 1.1-.2.7 0 1.2.2 1.7.5s.8.7 1 1.2c.3-.5.7-.8 1.2-1.2.5-.3 1.1-.5 1.8-.5 1 0 1.8.3 2.3 1 .5.6.8 1.5.8 2.5v5.7h-1.9v-5.4c0-.7-.2-1.2-.5-1.5-.3-.3-.7-.5-1.3-.5-.4 0-.8.1-1.1.4-.3.2-.6.6-.8 1s-.3.9-.3 1.3v4.7h-1.9v-5.4c0-.7-.2-1.2-.5-1.5-.3-.3-.8-.5-1.3-.5-.4 0-.8.1-1.1.4-.3.2-.6.6-.7 1s-.3.9-.3 1.3v4.7h-1.7zm18.6.3c-.7 0-1.3-.1-1.8-.3-.5-.2-.9-.5-1.3-.9-.3-.4-.6-.8-.7-1.2l1.7-.7c.2.5.5.8.9 1.1.4.2.8.4 1.3.4s.9-.1 1.2-.2c.3-.2.5-.4.5-.8 0-.2-.1-.5-.2-.6s-.4-.3-.6-.4l-.9-.3-1.1-.2c-.4-.1-.8-.3-1.2-.5-.4-.2-.7-.5-.9-.9-.2-.4-.3-.8-.3-1.2 0-.5.2-1 .5-1.4.3-.4.7-.7 1.2-.9.5-.2 1.1-.3 1.7-.3.6 0 1.1.1 1.5.2.5.1.9.3 1.2.6.3.3.6.6.8 1l-1.6.7c-.2-.4-.5-.7-.8-.8-.3-.2-.7-.2-1.1-.2-.4 0-.8.1-1.1.3-.3.2-.4.4-.4.7 0 .3.1.5.4.7.3.2.6.3 1 .4l1.3.3c.9.2 1.5.6 2 1 .4.4.7 1 .7 1.6 0 .6-.2 1.1-.5 1.5-.3.4-.8.7-1.3 1-.8.2-1.5.3-2.1.3zM389.2 102.6v-1.8l.4-.4.9-.9c.4-.4.7-.8 1.1-1.2l1.1-1.1.8-.8c.3-.3.6-.6.8-.9.2-.3.3-.5.4-.8.1-.2.1-.5.1-.8 0-.3-.1-.6-.2-.8-.1-.3-.4-.5-.7-.6-.3-.2-.6-.2-1.1-.2-.4 0-.7.1-1 .2-.3.2-.5.4-.7.6-.2.2-.3.5-.3.7l-1.7-.7c.1-.3.2-.6.4-.9.2-.3.4-.6.8-.9.3-.3.7-.5 1.1-.7.4-.2.9-.3 1.5-.3.8 0 1.4.2 2 .5.6.3 1 .7 1.3 1.2.3.5.5 1.1.5 1.7 0 .5-.1 1-.3 1.5-.2.5-.4.9-.7 1.3-.3.4-.6.7-.9 1-.2.1-.4.3-.6.6-.2.2-.5.5-.7.8l-.8.8-.7.7-.4.4h5.2v1.7h-7.6zm14.2.3c-.7 0-1.4-.2-2-.5-.6-.3-1.1-.8-1.5-1.3-.4-.6-.8-1.2-1-2-.2-.8-.3-1.6-.3-2.4 0-.9.1-1.7.3-2.5.2-.8.6-1.4 1-2 .4-.6.9-1 1.5-1.3.6-.3 1.3-.5 2-.5.8 0 1.4.2 2 .5.6.3 1.1.8 1.5 1.3.4.6.8 1.2 1 2 .2.8.3 1.6.3 2.5 0 .9-.1 1.7-.3 2.4-.2.8-.5 1.4-1 2-.4.6-.9 1-1.5 1.3-.5.3-1.2.5-2 .5zm0-1.8c.6 0 1.1-.2 1.6-.6.4-.4.8-.9 1-1.6.2-.7.4-1.4.4-2.2 0-.8-.1-1.6-.4-2.3-.2-.7-.6-1.2-1-1.6-.4-.4-1-.6-1.6-.6-.6 0-1.2.2-1.6.6-.4.4-.8.9-1 1.6-.2.7-.4 1.4-.4 2.3 0 .8.1 1.6.4 2.2.2.7.6 1.2 1 1.6.5.4 1 .6 1.6.6zm11.5 1.8c-.7 0-1.4-.2-2-.5-.6-.3-1.1-.8-1.5-1.3-.4-.6-.8-1.2-1-2-.2-.8-.3-1.6-.3-2.4 0-.9.1-1.7.3-2.5.2-.8.6-1.4 1-2 .4-.6.9-1 1.5-1.3.6-.3 1.3-.5 2-.5.8 0 1.4.2 2 .5.6.3 1.1.8 1.5 1.3.4.6.8 1.2 1 2 .2.8.3 1.6.3 2.5 0 .9-.1 1.7-.3 2.4-.2.8-.5 1.4-1 2-.4.6-.9 1-1.5 1.3-.6.3-1.3.5-2 .5zm0-1.8c.6 0 1.1-.2 1.6-.6.4-.4.8-.9 1-1.6.2-.7.4-1.4.4-2.2 0-.8-.1-1.6-.4-2.3-.2-.7-.6-1.2-1-1.6-.4-.4-1-.6-1.6-.6-.6 0-1.2.2-1.6.6-.4.4-.8.9-1 1.6-.2.7-.4 1.4-.4 2.3 0 .8.1 1.6.4 2.2.2.7.6 1.2 1 1.6.4.4.9.6 1.6.6zm10.8 1.5v-8.8h1.8V95h.1c.2-.3.4-.5.7-.8s.6-.4.9-.5c.4-.1.7-.2 1.1-.2.7 0 1.2.2 1.7.5s.8.7 1 1.2c.3-.5.7-.8 1.2-1.2.5-.3 1.1-.5 1.8-.5 1 0 1.8.3 2.3 1 .5.6.8 1.5.8 2.5v5.7h-1.9v-5.4c0-.7-.2-1.2-.5-1.5-.3-.3-.7-.5-1.3-.5-.4 0-.8.1-1.1.4-.3.2-.6.6-.8 1s-.3.9-.3 1.3v4.7h-1.9v-5.4c0-.7-.2-1.2-.5-1.5-.3-.3-.8-.5-1.3-.5-.4 0-.8.1-1.1.4-.3.2-.6.6-.7 1s-.3.9-.3 1.3v4.7h-1.7zm18.6.3c-.7 0-1.3-.1-1.8-.3-.5-.2-.9-.5-1.3-.9-.3-.4-.6-.8-.7-1.2l1.7-.7c.2.5.5.8.9 1.1.4.2.8.4 1.3.4s.9-.1 1.2-.2c.3-.2.5-.4.5-.8 0-.2-.1-.5-.2-.6-.2-.2-.4-.3-.6-.4l-.9-.3-1.1-.2c-.4-.1-.8-.3-1.2-.5-.4-.2-.7-.5-.9-.9-.2-.4-.3-.8-.3-1.2 0-.5.2-1 .5-1.4.3-.4.7-.7 1.2-.9.5-.2 1.1-.3 1.7-.3.6 0 1.1.1 1.5.2.5.1.9.3 1.2.6.3.3.6.6.8 1l-1.6.7c-.2-.4-.5-.7-.8-.8-.3-.2-.7-.2-1.1-.2-.4 0-.8.1-1.1.3-.3.2-.4.4-.4.7 0 .3.1.5.4.7.3.2.6.3 1 .4l1.3.3c.9.2 1.5.6 2 1 .4.4.7 1 .7 1.6 0 .6-.2 1.1-.5 1.5-.3.4-.8.7-1.3 1-.8.2-1.4.3-2.1.3zM0 113.3V99h1.7v14.3H0zm4.6 0v-10.2h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V107c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7H4.6zm10-10.2h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.5-.5-.7-1.2-.7-2.1zm10.3 3c-1 0-1.9-.2-2.6-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.6-1.7-.6-2.8 0-1 .2-1.9.6-2.7.4-.8 1-1.5 1.7-2s1.6-.8 2.6-.8 1.9.2 2.6.7c.7.4 1.3 1.1 1.7 1.8.4.8.6 1.7.6 2.7v.5h-8.8V107h7c0-.3-.1-.6-.2-.9-.1-.3-.3-.6-.5-.9-.2-.3-.6-.5-.9-.7-.4-.2-.8-.3-1.4-.3-.7 0-1.2.2-1.7.5s-.8.8-1.1 1.4c-.3.6-.4 1.2-.4 2 0 .9.2 1.6.5 2.2.3.6.8 1 1.3 1.3.5.3 1.1.4 1.7.4.8 0 1.4-.2 1.8-.5.5-.4.9-.8 1.2-1.3l1.4.7c-.4.8-1 1.4-1.7 1.9-1 .5-1.9.8-3 .8zm6.7-.3v-10.2H35v1.6h.1c.1-.4.4-.7.7-1 .3-.3.7-.5 1.1-.7.4-.2.8-.2 1.2-.2h.7c.2 0 .3.1.5.2v1.8c-.2-.1-.5-.2-.7-.2-.2-.1-.5-.1-.7-.1-.5 0-1 .1-1.4.4-.4.3-.7.7-1 1.1-.2.5-.4 1-.4 1.5v5.7h-1.7zm10.4.3c-.8 0-1.4-.1-2-.4-.6-.3-1-.7-1.3-1.2-.3-.5-.5-1.1-.5-1.8 0-.8.2-1.4.6-1.9.4-.5.9-.9 1.5-1.2.7-.3 1.4-.4 2.2-.4.4 0 .9 0 1.2.1.4.1.7.2 1 .3.3.1.5.2.7.3v-.6c0-.8-.3-1.4-.8-1.8-.5-.5-1.2-.7-2-.7-.6 0-1.1.1-1.6.4-.5.2-.9.6-1.1 1l-1.3-1c.3-.4.6-.7 1-1 .4-.3.9-.5 1.4-.7.5-.2 1.1-.2 1.6-.2 1.4 0 2.5.4 3.2 1.1.8.7 1.2 1.7 1.2 3v6.5h-1.6v-1.5h-.1c-.2.3-.4.6-.7.8-.3.3-.7.5-1.1.7-.5.1-1 .2-1.5.2zm.1-1.5c.6 0 1.1-.1 1.6-.4.5-.3.9-.7 1.2-1.2.3-.5.5-1 .5-1.6-.3-.2-.7-.4-1.2-.5-.5-.1-1-.2-1.5-.2-1 0-1.7.2-2.1.6-.4.4-.7.9-.7 1.5s.2 1 .6 1.4c.4.2 1 .4 1.6.4zm11.7 1.5c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-2 .7-2.8.4-.8 1.1-1.5 1.8-1.9.8-.5 1.7-.7 2.7-.7 1.1 0 2.1.3 2.8.8.7.5 1.3 1.2 1.6 2l-1.5.6c-.2-.6-.6-1.1-1.1-1.4-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.7.5s-.9.8-1.2 1.4c-.3.6-.5 1.3-.5 2 0 .8.2 1.4.5 2 .3.6.7 1 1.2 1.4.5.3 1.1.5 1.7.5.7 0 1.3-.2 1.9-.5.5-.3.9-.8 1.2-1.4l1.5.6c-.3.8-.9 1.5-1.6 2-.9.5-1.8.8-3 .8zm5.5-10.5h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.5-.7-1.2-.7-2.1zm6.5 2.7v-10.2h1.7v10.2h-1.7zm.9-12.1c-.3 0-.6-.1-.9-.4-.2-.2-.4-.5-.4-.9 0-.3.1-.6.4-.9.2-.2.5-.4.9-.4.3 0 .6.1.9.4.2.2.4.5.4.9 0 .3-.1.6-.4.9-.3.3-.6.4-.9.4zm8.1 12.4c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-1.9.7-2.8.4-.8 1.1-1.5 1.8-2 .8-.5 1.7-.7 2.7-.7 1 0 1.9.2 2.7.7.8.5 1.4 1.1 1.9 2 .4.8.7 1.7.7 2.7 0 1-.2 1.9-.7 2.8-.4.8-1.1 1.5-1.9 1.9-.8.5-1.7.8-2.7.8zm0-1.6c.6 0 1.2-.2 1.7-.5s1-.8 1.3-1.3c.3-.6.5-1.3.5-2.1s-.2-1.5-.5-2.1c-.3-.6-.8-1-1.3-1.3-.5-.3-1.1-.5-1.7-.5-.6 0-1.2.2-1.7.5s-1 .7-1.3 1.3c-.3.6-.5 1.3-.5 2.1s.2 1.5.5 2.1c.3.6.8 1 1.3 1.3.5.4 1.1.5 1.7.5zm7 1.3v-10.2H87v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V107c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7h-1.7zm15.1-10.2h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.5-.7-1.2-.7-2.1zm10.5 3c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-1.9.7-2.8.4-.8 1.1-1.5 1.8-2 .8-.5 1.7-.7 2.7-.7 1 0 1.9.2 2.7.7.8.5 1.4 1.1 1.9 2 .4.8.7 1.7.7 2.7 0 1-.2 1.9-.7 2.8-.4.8-1.1 1.5-1.9 1.9-.8.5-1.7.8-2.7.8zm0-1.6c.6 0 1.2-.2 1.7-.5s1-.8 1.3-1.3c.3-.6.5-1.3.5-2.1s-.2-1.5-.5-2.1c-.3-.6-.8-1-1.3-1.3-.5-.3-1.1-.5-1.7-.5-.6 0-1.2.2-1.7.5s-1 .7-1.3 1.3c-.3.6-.5 1.3-.5 2.1s.2 1.5.5 2.1c.3.6.8 1 1.3 1.3.5.4 1.1.5 1.7.5zm12.2 1.3V99h2.1l7.2 11.4h.1l-.1-2.8V99h1.7v14.3h-1.8l-7.5-11.9h-.1l.1 2.8v9.2H125zm18.2.3c-1 0-1.9-.2-2.6-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.6-1.7-.6-2.8 0-1 .2-1.9.6-2.7.4-.8 1-1.5 1.7-2s1.6-.8 2.6-.8 1.9.2 2.6.7c.7.4 1.3 1.1 1.7 1.8.4.8.6 1.7.6 2.7v.5h-8.8V107h7c0-.3-.1-.6-.2-.9-.1-.3-.3-.6-.5-.9-.2-.3-.6-.5-.9-.7-.4-.2-.8-.3-1.4-.3-.7 0-1.2.2-1.7.5s-.8.8-1.1 1.4c-.3.6-.4 1.2-.4 2 0 .9.2 1.6.5 2.2.3.6.8 1 1.3 1.3.5.3 1.1.4 1.7.4.8 0 1.4-.2 1.8-.5.5-.4.9-.8 1.2-1.3l1.4.7c-.4.8-1 1.4-1.7 1.9-1 .5-1.9.8-3 .8zm5.5-.3 4.1-5.9h.2l2.9-4.3h2l-4 5.6h-.1l-3.1 4.6h-2zm.1-10.2h1.9l3.2 4.5h.1l4 5.7h-2l-3-4.5h-.1l-4.1-5.7zm9.9 0h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.5-.7-1.2-.7-2.1zm11.2 2.7V99h4.8c.8 0 1.5.2 2.2.5.7.4 1.2.8 1.6 1.5.4.6.6 1.4.6 2.2 0 .8-.2 1.6-.6 2.2-.4.6-.9 1.1-1.6 1.5-.7.4-1.4.5-2.2.5h-3.9v-1.6h4c.6 0 1-.1 1.4-.4.4-.3.7-.6.9-1 .2-.4.3-.8.3-1.2 0-.4-.1-.8-.3-1.2-.2-.4-.5-.7-.9-1-.4-.3-.9-.4-1.4-.4h-3.2v12.7h-1.7zm14 .3c-.8 0-1.4-.1-2-.4-.6-.3-1-.7-1.3-1.2-.3-.5-.5-1.1-.5-1.8 0-.8.2-1.4.6-1.9.4-.5.9-.9 1.5-1.2.7-.3 1.4-.4 2.2-.4.4 0 .9 0 1.2.1.4.1.7.2 1 .3.3.1.5.2.7.3v-.6c0-.8-.3-1.4-.8-1.8-.5-.5-1.2-.7-2-.7-.6 0-1.1.1-1.6.4-.5.2-.9.6-1.1 1l-1.3-1c.3-.4.6-.7 1-1 .4-.3.9-.5 1.4-.7.5-.2 1.1-.2 1.6-.2 1.4 0 2.5.4 3.2 1.1.8.7 1.2 1.7 1.2 3v6.5h-1.6v-1.5h-.1c-.2.3-.4.6-.7.8-.3.3-.7.5-1.1.7-.5.1-.9.2-1.5.2zm.2-1.5c.6 0 1.1-.1 1.6-.4.5-.3.9-.7 1.2-1.2.3-.5.5-1 .5-1.6-.3-.2-.7-.4-1.2-.5-.5-.1-1-.2-1.5-.2-1 0-1.7.2-2.1.6-.4.4-.7.9-.7 1.5s.2 1 .6 1.4c.4.2 1 .4 1.6.4zm7.4 1.2v-10.2h1.7v10.2h-1.7zm.8-12.1c-.3 0-.6-.1-.9-.4-.2-.2-.4-.5-.4-.9 0-.3.1-.6.4-.9.2-.2.5-.4.9-.4.3 0 .6.1.9.4.2.2.4.5.4.9 0 .3-.1.6-.4.9-.3.3-.5.4-.9.4zm3.5 12.1v-10.2h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V107c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7h-1.7zm10-10.2h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.5-.7-1.2-.7-2.1zM418.1 55.2c-1.8 0-3.3 1.5-3.3 3.3 0 1.5 1 2.7 2.3 3.1V83h2V61.6c1.3-.4 2.3-1.7 2.3-3.1 0-1.8-1.5-3.3-3.3-3.3zM546.5 58.6c0-1.8-1.5-3.3-3.3-3.3s-3.3 1.5-3.3 3.3c0 1.5 1 2.7 2.3 3.1v21.2h2V61.7c1.3-.4 2.3-1.6 2.3-3.1z"></path></svg>
  <figcaption>
    Graphic showing the thresholds for good and poor INP.
  </figcaption>
</figure>
<p>Don't wait for INP to become a Core Web Vital in 2024 to start improving it. Your website may very well be in the <a href="https://httparchive.org/reports/chrome-ux-report#cruxFastFid" rel="noopener">93%</a> of sites that have good FID performance on mobile devices; however, you might be surprised to learn that only <a href="https://httparchive.org/reports/chrome-ux-report#cruxFastInp" rel="noopener">65%</a> of sites have good INP on mobile devices. INP paints a much more accurate picture of responsiveness, so these numbers help us to more clearly see the room for improvement ahead of us.</p>
<p>To find out whether your site has INP issues, how to address them, and all things INP, the best place to start is the <a href="https://web.dev/optimize-inp/">INP optimization guide</a>. Whether you're learning about responsiveness for the first time or you're a performance expert, we've added a lot of new guidance to make it as easy as possible for everyone to learn how to measure and optimize INP.</p>
<p>INP might take some time to learn, and that's just fine. To help you focus on the optimizations with the biggest ROI, earlier this year we published <a href="https://web.dev/top-cwv-2023/">a blog post</a> to distill our guidance down to the most effective recommendations to improve Core Web Vitals. Specifically, we wrote about three must-know techniques that apply equally to optimizing FID and INP: avoid or break up long tasks, avoid unnecessary JavaScript, and avoid large rendering updates. You can learn more about these and many other INP optimization techniques in <a href="https://web.dev/optimize-inp/">our documentation</a>.</p>
<h2 id="the-road-ahead">The road ahead <a class="headline-link" href="https://web.dev/inp-cwv/#the-road-ahead">#</a></h2>
<p>A new bar for responsiveness has been set, and we're excited to see the community rise to the challenge for a better user experience. The early <a href="https://groups.google.com/g/web-vitals-feedback" rel="noopener">feedback</a> and <a href="https://web.dev/tags/case-study/">case studies</a> have been promising, but we know that for many, it may be a long and unfamiliar road ahead. We strive to make that journey as easy as possible with improved <a href="https://github.com/w3c/longtasks/blob/main/loaf-explainer.md" rel="noopener">diagnostics</a>, <a href="https://web.dev/vitals-tools/">tools</a>, and <a href="https://web.dev/optimize-inp/">documentation</a> to help developers along the way.</p>
<p>Stay tuned for updates on INP's exact graduation date in March 2024. And even though the metric is not experimental anymore, we're always open to feedback at <a href="mailto:web-vitals-feedback@googlegroups.com" rel="noopener">web-vitals-feedback@googlegroups.com</a> to help us improve INP and the Web Vitals program as a whole.</p>
<p><em>Hero image from <a href="https://unsplash.com/" rel="noopener">Unsplash</a>, by <a href="https://unsplash.com/@agebarros" rel="noopener">Agê Barros</a>.</em></p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[经济时报寻求修复INP]]></title>
            <link>https://web.dev/economic-times-inp/</link>
            <guid>https://web.dev/economic-times-inp/</guid>
            <content:encoded><![CDATA[<div>
    <h1>GPT总结</h1>
    <summary>本文介绍了Interaction to Next Paint (INP)作为衡量网站对用户输入响应的指标。INP越低，页面对用户交互的响应能力越好。文章提到了改善INP的困难性，以及通过优化Total Blocking Time (TBT)来改善INP的方法。作者通过减少主线程工作、减少脚本评估时间和减少DOM大小等措施成功降低了TBT和INP。最终，这些优化措施带来了反弹率的降低和页面浏览量的增加。作者总结了INP对网站性能和业务结果的积极影响，并计划将优化努力扩展到网站的其他领域。</summary>
    <div>
    <div>OriginTitle: Economic Times quest for fixing INP</div>

    </div></div><p><a href="https://web.dev/inp/">与下一个油漆的相互作用 (INP)</a>是评估网站对用户输入的响应能力的指标。 良好的响应能力意味着页面可以快速响应用户交互。 页面的 INP 越低，它对用户交互的响应能力就越好。</p>
<style>
   .inp-移动{ 
     显示方式：内嵌； 
   } 

   .inp-桌面 { 
     显示：无； 
   } 

   @media 屏幕和（最小宽度：640px）{ 
     .inp-移动{ 
       显示：无； 
     } 

     .inp-桌面 { 
       显示方式：内嵌； 
     } 
   } 
</style>
<figure>
  <svg title="A diagram of the INP thresholds. An INP at or below 200 milliseconds is considered good. Between 200 and 500 milliseconds suggests a page's responsiveness needs improvement. Anything over 500 milliseconds means that a page's responsiveness is poor." class="inp-mobile" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 296.6 220.2" style="enable-background:new 0 0 296.6 220.2" xml:space="preserve"><style>.st0{fill:#2979FF} .st1{fill-rule:evenodd;clip-rule:evenodd;fill:#0CCE6B} .st2{fill:#191919} .st3{fill-rule:evenodd;clip-rule:evenodd ;fill:#FFA400} .st4{fill-rule:evenodd;clip-rule:evenodd;fill:#FF4E42} @media screen 和 (prefers-color-scheme: light){.st2{fill:#191919}} [ data-user-theme=light] .st2 {fill:#191919} @media screen 和 (prefers-color-scheme: dark){.st2{fill:#fff}} [data-user-theme=dark] .st2 {填充：#fff}</style><path class="st0" d="M83.3 63V0h11.9v63H83.3zm26.3 0V0h13.8l25.3 42.2h.7l-.7-12.1V0h11.8v63H148l-26.8-44.6h-.7l.7 12.1V63h-11.6zm65.4 0V0h22.2c4.1 0 7.7.8 10.9 2.5s5.8 4 7.7 7 2.9 6.4 2.9 10.4c0 3.9-1 7.4-2.9 10.4s-4.5 5.4-7.7 7c-3.2 1.7-6.9 2.5-10.9 2.5h-15.6V28.6h15.9c2.1 0 3.8-.4 5.2-1.2s2.5-1.9 3.2-3.2c.7-1.3 1.1-2.8 1.1-4.3s-.4-2.9-1.1-4.2c-.7-1.3-1.8-2.3-3.2-3.2s-3.1-1.2-5.2-1.2h-10.7V63H175z"></path><path class="st1" d="M0 137.1h96v38.4H0v-38.4z"></path><path class="st2" d="M34 161c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-.9-.4-.4-.7-.9-1-1.4-.2-.6-.3-1.1-.3-1.8 0-.6.1-1.2.3-1.8.2-.6.6-1 1-1.4.4-.4.9-.7 1.4-.9.5-.2 1.1-.3 1.8-.3s1.3.1 1.8.3c.6.2 1 .6 1.4 1l-.9.9c-.2-.2-.4-.4-.6-.5-.2-.1-.5-.3-.8-.3-.3-.1-.6-.1-.9-.1-.4 0-.8.1-1.2.2-.4.1-.7.4-1 .6-.3.3-.5.6-.7 1-.2.4-.2.8-.2 1.3s.1.9.2 1.3c.2.4.4.7.7 1 .3.3.6.5 1 .7.4.1.8.2 1.2.2.4 0 .8-.1 1.1-.2.3-.1.6-.3.9-.5.3-.2.5-.5.6-.8.2-.3.3-.6.3-1H34v-1.2h4.2v.7c0 .6-.1 1.2-.3 1.7-.2.5-.5.9-.9 1.3s-.8.6-1.3.8c-.5.3-1.1.4-1.7.4zm9.5 0c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8 0-.6.1-1.2.3-1.8.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8 0 .6-.1 1.2-.3 1.8-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.5.2-1.1.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.5.3 1 .4 1.6.4zm9.9 1.2c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8 0-.6.1-1.2.3-1.8.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8 0 .6-.1 1.2-.3 1.8-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.6.2-1.2.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.5.3 1 .4 1.6.4zm6 1.1v-8.6h2.8c.9 0 1.7.2 2.3.5.7.4 1.2.9 1.5 1.5.4.6.5 1.4.5 2.2 0 .8-.2 1.6-.5 2.2-.4.6-.9 1.2-1.5 1.5-.6.4-1.4.5-2.3.5h-2.8zm1.3-1.3h1.4c.6 0 1.2-.1 1.7-.4.5-.3.8-.6 1.1-1 .2-.5.4-1 .4-1.6 0-.6-.1-1.2-.4-1.6-.2-.5-.6-.8-1.1-1-.5-.3-1-.4-1.7-.4h-1.4v6z"></path><path class="st3" d="M96 137.1h105.6v38.4H96v-38.4z"></path><path class="st2" d="M130.8 153.9v-8.6h1.6l3.9 6.3h.1l-.1-1.7v-4.7h1.3v8.6h-1.4l-4.1-6.6h-.1l.1 1.7v5h-1.3zm8.7 0v-8.6h5.2v1.2h-3.9v6.1h3.9v1.2h-5.2zm.7-3.7V149h4.1v1.2h-4.1zm6.2 3.7v-8.6h5.2v1.2h-3.9v6.1h3.9v1.2h-5.2zm.7-3.7V149h4.1v1.2h-4.1zm6.1 3.7v-8.6h2.8c.9 0 1.7.2 2.3.5.7.4 1.2.9 1.5 1.5.4.6.5 1.4.5 2.2s-.2 1.6-.5 2.2c-.4.6-.9 1.2-1.5 1.5-.6.4-1.4.5-2.3.5h-2.8zm1.3-1.3h1.4c.6 0 1.2-.1 1.7-.4.5-.2.8-.6 1.1-1 .2-.5.4-1 .4-1.6 0-.6-.1-1.2-.4-1.6-.2-.5-.6-.8-1.1-1-.5-.2-1-.4-1.7-.4h-1.4v6zm9.9 1.4c-.5 0-.9-.1-1.3-.3-.4-.2-.8-.4-1.1-.8-.3-.4-.5-.8-.7-1.3l1.2-.5c.1.5.3.9.7 1.2.3.3.7.5 1.2.5.3 0 .5 0 .8-.1.2-.1.4-.2.6-.4s.2-.4.2-.7c0-.3-.1-.5-.2-.7-.1-.2-.3-.3-.6-.5s-.6-.3-1-.5l-.5-.2c-.2-.1-.5-.2-.7-.3-.2-.1-.5-.3-.7-.5-.2-.2-.4-.4-.5-.7-.1-.3-.2-.6-.2-.9 0-.4.1-.8.3-1.2.2-.4.5-.6.9-.8.4-.2.9-.3 1.4-.3.6 0 1 .1 1.4.3.4.2.7.4.9.7.2.3.4.5.4.8l-1.2.5c0-.2-.1-.3-.2-.5s-.3-.3-.5-.4c-.2-.1-.4-.2-.8-.2-.2 0-.5.1-.7.2-.2.1-.4.2-.5.4-.1.2-.2.3-.2.6s.1.6.4.8c.3.2.6.4 1.1.5l.6.2c.3.1.6.2.8.3.3.1.5.3.7.5.2.2.4.4.5.7.1.3.2.6.2 1s-.1.8-.3 1.2c-.2.3-.4.6-.7.8-.3.2-.6.3-.9.4s-.5.2-.8.2zM107 167.9v-8.6h1.3v8.6H107zm3.2 0v-8.6h1.8l2.5 6.5h.1l2.5-6.5h1.8v8.6h-1.3V163l.1-1.5h-.1l-2.5 6.4h-1l-2.5-6.4h-.1l.1 1.5v4.9h-1.4zm10.6 0v-8.6h3c.5 0 1 .1 1.4.3.4.2.8.5 1 .9.3.4.4.9.4 1.4 0 .5-.1 1-.4 1.4-.2.4-.6.7-1 .9-.4.2-.9.3-1.4.3h-2.2v-1.2h2.3c.3 0 .6-.1.8-.2.2-.1.4-.3.5-.5.1-.2.2-.4.2-.7 0-.2-.1-.4-.2-.7-.1-.2-.3-.4-.5-.5-.2-.1-.5-.2-.8-.2h-1.7v7.3h-1.4zm7.2 0v-8.6h3c.5 0 1 .1 1.4.3.4.2.7.5 1 .9.2.4.4.8.4 1.4 0 .3-.1.7-.2 1s-.3.6-.6.8c-.3.2-.6.4-1 .6-.4.1-.8.2-1.2.2h-2.1v-1.2h2.3c.3 0 .5-.1.7-.2.2-.1.4-.3.5-.5.1-.2.2-.5.2-.7 0-.2-.1-.5-.2-.7-.1-.2-.3-.4-.5-.5-.2-.1-.5-.2-.8-.2h-1.7v7.4H128zm2-4h1.5l2.7 3.9v.1h-1.5l-2.7-4zm9.3 4.1c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8s.1-1.2.3-1.8c.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8s-.1 1.2-.3 1.8c-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.6.2-1.2.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.5.3 1 .4 1.6.4zm7.9 1.1-3-8.6h1.4l1.9 5.7.3 1h.1l.3-1 2-5.7h1.4l-3.1 8.6h-1.3zm5.6 0v-8.6h5.2v1.2h-3.9v6.1h3.9v1.2h-5.2zm.7-3.7V163h4.1v1.2h-4.1zm6.2 3.7v-8.6h1.8l2.5 6.5h.1l2.5-6.5h1.8v8.6H167V163l.1-1.5h-.1l-2.5 6.4h-1l-2.5-6.4h-.1l.1 1.5v4.9h-1.3zm10.6 0v-8.6h5.2v1.2h-3.9v6.1h3.9v1.2h-5.2zm.7-3.7V163h4.1v1.2H171zm6.1 3.7v-8.6h1.6l3.9 6.3h.1l-.1-1.7v-4.7h1.3v8.6h-1.4l-4.1-6.6h-.1l.1 1.7v5h-1.3zm10.5 0V160h1.3v7.9h-1.3zm-2.4-7.4v-1.2h6.1v1.2h-6.1z"></path><path class="st4" d="M200.6 137.1h96v38.4h-96v-38.4z"></path><path class="st2" d="M232.5 160.9v-8.6h3c.5 0 1 .1 1.4.3.4.2.8.5 1 .9.3.4.4.9.4 1.4 0 .5-.1 1-.4 1.4-.2.4-.6.7-1 .9-.4.2-.9.3-1.4.3h-2.2v-1.2h2.3c.3 0 .6-.1.8-.2.2-.1.4-.3.5-.5.1-.2.2-.4.2-.7 0-.2-.1-.4-.2-.7-.1-.2-.3-.4-.5-.5-.2-.1-.5-.2-.8-.2h-1.7v7.3h-1.4zm11 .1c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8s.1-1.2.3-1.8c.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8s-.1 1.2-.3 1.8c-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.5.2-1.1.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.6.3 1.1.4 1.6.4zm9.9 1.2c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8s.1-1.2.3-1.8c.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8s-.1 1.2-.3 1.8c-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.6.2-1.1.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.5.3 1 .4 1.6.4zm6 1.1v-8.6h3c.5 0 1 .1 1.4.3.4.2.7.5 1 .9.2.4.4.8.4 1.4 0 .3-.1.7-.2 1s-.3.6-.6.8c-.3.2-.6.4-1 .6-.4.1-.8.2-1.2.2h-2.1v-1.2h2.3c.3 0 .5-.1.7-.2.2-.1.4-.3.5-.5.1-.2.2-.5.2-.7 0-.2-.1-.5-.2-.7-.1-.2-.3-.4-.5-.5-.2-.1-.5-.2-.8-.2h-1.7v7.4h-1.2zm2-4h1.5l2.7 3.9v.1H264l-2.6-4zM178.1 219.9c-.5 0-1-.1-1.5-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-1-.8-1.7l1.5-.6c.1.6.4 1 .8 1.4.4.4.9.5 1.4.5.6 0 1.1-.2 1.5-.6.4-.4.6-.9.6-1.5s-.2-1.1-.6-1.5c-.4-.4-.9-.6-1.5-.6-.4 0-.7.1-1 .2-.3.1-.5.4-.7.6l-1.7-.8.7-5.5h5.9v1.6h-4.5l-.4 2.9h.1c.2-.2.5-.3.8-.5.3-.1.7-.2 1.2-.2.6 0 1.2.2 1.7.5s1 .7 1.3 1.3c.3.5.5 1.2.5 1.9s-.2 1.3-.5 1.9c-.3.6-.8 1-1.3 1.3-.7.5-1.4.7-2.1.7zm9.9 0c-.7 0-1.3-.1-1.9-.4-.5-.3-1-.7-1.4-1.2-.4-.5-.7-1.1-.9-1.8-.2-.7-.3-1.4-.3-2.2 0-.8.1-1.6.3-2.2.2-.7.5-1.3.9-1.8s.9-.9 1.4-1.2c.6-.3 1.2-.5 1.9-.5s1.3.2 1.9.5c.6.3 1 .7 1.4 1.2.4.5.7 1.1.9 1.8.2.7.3 1.4.3 2.2 0 .8-.1 1.6-.3 2.2-.2.7-.5 1.3-.9 1.8s-.9.9-1.4 1.2c-.6.2-1.2.4-1.9.4zm.1-1.7c.6 0 1-.2 1.5-.5.4-.4.7-.9 1-1.5.2-.6.3-1.3.3-2.1s-.1-1.5-.3-2.1c-.2-.6-.5-1.1-1-1.5-.4-.4-.9-.5-1.5-.5s-1.1.2-1.5.5c-.4.4-.7.8-.9 1.5-.2.6-.3 1.3-.3 2.1s.1 1.5.3 2.1c.2.6.5 1.1.9 1.5.4.3.9.5 1.5.5zm10.5 1.7c-.7 0-1.3-.1-1.9-.4-.5-.3-1-.7-1.4-1.2-.4-.5-.7-1.1-.9-1.8-.2-.7-.3-1.4-.3-2.2 0-.8.1-1.6.3-2.2.2-.7.5-1.3.9-1.8s.9-.9 1.4-1.2c.6-.3 1.2-.5 1.9-.5s1.3.2 1.9.5c.6.3 1 .7 1.4 1.2.4.5.7 1.1.9 1.8.2.7.3 1.4.3 2.2 0 .8-.1 1.6-.3 2.2-.2.7-.5 1.3-.9 1.8s-.9.9-1.4 1.2c-.6.2-1.2.4-1.9.4zm0-1.7c.6 0 1-.2 1.5-.5.4-.4.7-.9 1-1.5.2-.6.3-1.3.3-2.1s-.1-1.5-.3-2.1c-.2-.6-.5-1.1-1-1.5-.4-.4-.9-.5-1.5-.5s-1.1.2-1.5.5c-.4.4-.7.8-.9 1.5-.2.6-.3 1.3-.3 2.1s.1 1.5.3 2.1c.2.6.5 1.1.9 1.5.4.3.9.5 1.5.5zm10 1.4v-8.2h1.6v1.1h.1c.2-.3.4-.5.6-.7.3-.2.6-.4.9-.5.3-.1.7-.2 1-.2.6 0 1.1.1 1.5.4.4.3.7.7.9 1.1.3-.4.6-.8 1.1-1.1.5-.3 1-.5 1.7-.5 1 0 1.7.3 2.1.9.5.6.7 1.4.7 2.3v5.2h-1.7v-4.9c0-.7-.1-1.1-.4-1.4-.3-.3-.7-.5-1.2-.5-.4 0-.7.1-1 .3-.3.2-.5.5-.7.9-.2.4-.2.8-.2 1.2v4.4h-1.7v-4.9c0-.7-.1-1.1-.4-1.4-.3-.3-.7-.5-1.2-.5-.4 0-.7.1-1 .3-.3.2-.5.5-.7.9-.2.4-.2.8-.2 1.2v4.4h-1.8zm17.2.3c-.6 0-1.2-.1-1.7-.3-.5-.2-.9-.5-1.2-.8-.3-.3-.5-.7-.7-1.1l1.5-.7c.2.4.5.8.8 1 .4.2.8.3 1.2.3.4 0 .8-.1 1.1-.2.3-.2.5-.4.5-.8 0-.2-.1-.4-.2-.6-.1-.1-.3-.3-.6-.4-.2-.1-.5-.2-.8-.2l-1-.2c-.4-.1-.8-.3-1.1-.5-.3-.2-.6-.5-.8-.8-.2-.3-.3-.7-.3-1.1 0-.5.1-.9.4-1.3.3-.4.7-.6 1.1-.8.5-.2 1-.3 1.6-.3.5 0 1 .1 1.4.2.4.1.8.3 1.1.6.3.3.6.6.8 1l-1.5.7c-.2-.4-.4-.6-.7-.8-.3-.1-.6-.2-1-.2s-.7.1-1 .2c-.3.2-.4.4-.4.6 0 .3.1.5.4.7.2.2.5.3.9.4l1.2.3c.8.2 1.4.5 1.8.9.4.4.6.9.6 1.5 0 .5-.2 1-.5 1.4-.3.4-.7.7-1.2.9-.6.2-1.1.4-1.7.4zM69 220v-1.6s.2-.1.4-.4c.2-.2.5-.5.8-.9l1.1-1.1 1-1c.3-.3.5-.6.7-.8.3-.3.5-.6.7-.8.2-.2.3-.5.4-.7.1-.2.1-.5.1-.8 0-.3-.1-.5-.2-.8-.1-.3-.3-.4-.6-.6-.3-.1-.6-.2-1-.2s-.7.1-1 .2c-.3.1-.5.3-.6.6-.1.2-.3.4-.3.7l-1.5-.6c.1-.3.2-.5.4-.8.2-.3.4-.5.7-.8.3-.3.6-.5 1-.6.4-.2.9-.3 1.4-.2.7 0 1.3.2 1.9.5.5.3.9.7 1.2 1.2.3.5.4 1 .4 1.6 0 .5-.1.9-.2 1.3-.2.4-.4.8-.7 1.2-.3.4-.5.7-.8 1l-.5.5c-.2.2-.4.5-.7.7l-.7.7-.6.6-.4.4h4.8v1.6H69zm13.2.2c-.7 0-1.3-.1-1.9-.4-.5-.3-1-.7-1.4-1.2-.4-.5-.7-1.1-.9-1.8-.2-.7-.3-1.4-.3-2.2 0-.8.1-1.6.3-2.2.2-.7.5-1.3.9-1.8s.9-.9 1.4-1.2c.6-.3 1.2-.5 1.9-.5s1.3.2 1.9.5c.6.3 1 .7 1.4 1.2.4.5.7 1.1.9 1.8.2.7.3 1.4.3 2.2 0 .8-.1 1.6-.3 2.2-.2.7-.5 1.3-.9 1.8s-.9.9-1.4 1.2c-.6.3-1.2.4-1.9.4zm0-1.6c.6 0 1-.2 1.5-.5.4-.4.7-.9 1-1.5.2-.6.3-1.3.3-2.1s-.1-1.5-.3-2.1c-.2-.6-.5-1.1-1-1.5-.4-.4-.9-.5-1.5-.5s-1.1.2-1.5.5c-.4.4-.7.8-.9 1.5-.2.6-.3 1.3-.3 2.1s.1 1.5.3 2.1c.2.6.5 1.1.9 1.5.4.3.9.5 1.5.5zm10.5 1.6c-.7 0-1.3-.1-1.9-.4-.5-.3-1-.7-1.4-1.2-.4-.5-.7-1.1-.9-1.8-.2-.7-.3-1.4-.3-2.2 0-.8.1-1.6.3-2.2.2-.7.5-1.3.9-1.8s.9-.9 1.4-1.2c.6-.3 1.2-.5 1.9-.5s1.3.2 1.9.5c.6.3 1 .7 1.4 1.2.4.5.7 1.1.9 1.8.2.7.3 1.4.3 2.2 0 .8-.1 1.6-.3 2.2-.2.7-.5 1.3-.9 1.8s-.9.9-1.4 1.2c-.6.3-1.2.4-1.9.4zm0-1.6c.6 0 1-.2 1.5-.5.4-.4.7-.9 1-1.5.2-.6.3-1.3.3-2.1s-.1-1.5-.3-2.1c-.2-.6-.5-1.1-1-1.5-.4-.4-.9-.5-1.5-.5s-1.1.2-1.5.5c-.4.4-.7.8-.9 1.5-.2.6-.3 1.3-.3 2.1s.1 1.5.3 2.1c.2.6.5 1.1.9 1.5.5.3 1 .5 1.5.5zm10 1.4v-8.2h1.6v1.1h.1c.2-.3.4-.5.6-.7.3-.2.6-.4.9-.5.3-.1.7-.2 1-.2.6 0 1.1.1 1.5.4.4.3.7.7.9 1.1.3-.4.6-.8 1.1-1.1.5-.3 1-.5 1.7-.5 1 0 1.7.3 2.1.9.5.6.7 1.4.7 2.3v5.2h-1.7v-4.9c0-.7-.1-1.1-.4-1.4-.3-.3-.7-.5-1.2-.5-.4 0-.7.1-1 .3-.3.2-.5.5-.7.9-.2.4-.2.8-.2 1.2v4.4H108v-4.9c0-.7-.1-1.1-.4-1.4-.3-.3-.7-.5-1.2-.5-.4 0-.7.1-1 .3-.3.2-.5.5-.7.9-.2.4-.2.8-.2 1.2v4.4h-1.8zm17.2.2c-.6 0-1.2-.1-1.7-.3-.5-.2-.9-.5-1.2-.8-.3-.3-.5-.7-.7-1.1l1.5-.7c.2.4.5.8.8 1 .4.2.8.3 1.2.3.4 0 .8-.1 1.1-.2.3-.2.5-.4.5-.8 0-.2-.1-.4-.2-.6-.1-.1-.3-.3-.6-.4-.2-.1-.5-.2-.8-.2l-1-.2c-.4-.1-.8-.3-1.1-.5-.3-.2-.6-.5-.8-.8-.2-.3-.3-.7-.3-1.1 0-.5.1-.9.4-1.3.3-.4.7-.6 1.1-.8.5-.2 1-.3 1.6-.3.5 0 1 .1 1.4.2.4.1.8.3 1.1.6.3.3.6.6.8 1l-1.5.7c-.2-.4-.4-.6-.7-.8-.3-.1-.6-.2-1-.2s-.7.1-1 .2c-.3.2-.4.4-.4.6 0 .3.1.5.4.7.2.2.5.3.9.4l1.2.3c.8.2 1.4.5 1.8.9.4.4.6.9.6 1.5 0 .5-.2 1-.5 1.4-.3.4-.7.7-1.2.9-.5.3-1.1.4-1.7.4zM42.4 96.3V82h1.7v14.3h-1.7zm4.6 0V86.1h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V90c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7H47zm10-10.2h6v1.5h-6v-1.5zm1.8 7.5V83.3h1.7v10c0 .5.1.9.3 1.2s.6.4 1.1.4c.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.5-.6-.7-1.3-.7-2.2zm10.3 3c-1 0-1.9-.2-2.6-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.6-1.7-.6-2.8 0-1 .2-1.9.6-2.7s1-1.5 1.7-2 1.6-.8 2.6-.8 1.9.2 2.6.7c.7.4 1.3 1.1 1.7 1.8.4.8.6 1.7.6 2.7v.5H65V90h7c0-.3-.1-.6-.2-.9-.1-.3-.3-.6-.5-.9-.2-.3-.6-.5-.9-.7-.4-.2-.8-.3-1.4-.3-.7 0-1.2.2-1.7.5s-.8.8-1.1 1.4c-.3.6-.4 1.2-.4 2 0 .9.2 1.6.5 2.2.3.6.8 1 1.3 1.3.5.3 1.1.4 1.7.4.8 0 1.4-.2 1.8-.5.5-.4.9-.8 1.2-1.3l1.4.7c-.4.8-1 1.4-1.7 1.9-.9.6-1.8.8-2.9.8zm6.7-.3V86.1h1.6v1.6h.1c.1-.4.4-.7.7-1 .3-.3.7-.5 1.1-.7s.8-.2 1.2-.2h.7c.2 0 .3.1.5.2v1.8c-.2-.1-.5-.2-.7-.2-.2-.1-.5-.1-.7-.1-.5 0-1 .1-1.4.4-.4.3-.7.7-1 1.1-.2.5-.4 1-.4 1.5v5.7h-1.7zm10.4.3c-.8 0-1.4-.1-2-.4s-1-.7-1.3-1.2c-.3-.5-.5-1.1-.5-1.8 0-.8.2-1.4.6-1.9.4-.5.9-.9 1.5-1.2.7-.3 1.4-.4 2.2-.4.4 0 .9 0 1.2.1s.7.2 1 .3c.3.1.5.2.7.3v-.6c0-.8-.3-1.4-.8-1.8-.5-.5-1.2-.7-2-.7-.6 0-1.1.1-1.6.4-.5.2-.9.6-1.1 1l-1.3-1c.3-.4.6-.7 1-1 .4-.3.9-.5 1.4-.7.5-.2 1.1-.2 1.6-.2 1.4 0 2.5.4 3.2 1.1.8.7 1.2 1.7 1.2 3v6.5h-1.6v-1.5h-.1c-.2.3-.4.6-.7.8s-.7.5-1.1.7c-.5.2-1 .2-1.5.2zm.1-1.5c.6 0 1.1-.1 1.6-.4.5-.3.9-.7 1.2-1.2.3-.5.5-1 .5-1.6-.3-.2-.7-.4-1.2-.5s-1-.2-1.5-.2c-1 0-1.7.2-2.1.6-.4.4-.7.9-.7 1.5s.2 1 .6 1.4 1 .4 1.6.4zm11.8 1.5c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-2 .7-2.8.4-.8 1.1-1.5 1.8-1.9.8-.5 1.7-.7 2.7-.7 1.1 0 2.1.3 2.8.8.7.5 1.3 1.2 1.6 2l-1.5.6c-.2-.6-.6-1.1-1.1-1.4-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.7.5s-.9.8-1.2 1.4c-.3.6-.5 1.3-.5 2 0 .8.2 1.4.5 2 .3.6.7 1 1.2 1.4.5.3 1.1.5 1.7.5.7 0 1.3-.2 1.9-.5s.9-.8 1.2-1.4l1.5.6c-.3.8-.9 1.5-1.6 2s-1.9.8-3 .8zm5.5-10.5h6v1.5h-6v-1.5zm1.7 7.5V83.3h1.7v10c0 .5.1.9.3 1.2s.6.4 1.1.4c.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8s-.7-1.3-.7-2.2zm6.5 2.7V86.1h1.7v10.2h-1.7zm.9-12c-.3 0-.6-.1-.9-.4s-.4-.5-.4-.9c0-.3.1-.6.4-.9.2-.2.5-.4.9-.4.3 0 .6.1.9.4.2.2.4.5.4.9 0 .3-.1.6-.4.9-.3.2-.6.4-.9.4zm8.1 12.3c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-1.9.7-2.8.4-.8 1.1-1.5 1.8-2 .8-.5 1.7-.7 2.7-.7 1 0 1.9.2 2.7.7.8.5 1.4 1.1 1.9 2s.7 1.7.7 2.7c0 1-.2 1.9-.7 2.8-.4.8-1.1 1.5-1.9 1.9-.8.6-1.7.8-2.7.8zm0-1.5c.6 0 1.2-.2 1.7-.5s1-.8 1.3-1.3c.3-.6.5-1.3.5-2.1s-.2-1.5-.5-2.1-.8-1-1.3-1.3c-.5-.3-1.1-.5-1.7-.5-.6 0-1.2.2-1.7.5s-1 .7-1.3 1.3-.5 1.3-.5 2.1.2 1.5.5 2.1c.3.6.8 1 1.3 1.3.5.4 1.1.5 1.7.5zm7 1.2V86.1h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V90c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7h-1.7zM143 86.1h6v1.5h-6v-1.5zm1.7 7.5V83.3h1.7v10c0 .5.1.9.3 1.2s.6.4 1.1.4c.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.6-.7-1.3-.7-2.2zm10.5 3c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-1.9.7-2.8.4-.8 1.1-1.5 1.8-2 .8-.5 1.7-.7 2.7-.7 1 0 1.9.2 2.7.7.8.5 1.4 1.1 1.9 2 .4.8.7 1.7.7 2.7 0 1-.2 1.9-.7 2.8-.4.8-1.1 1.5-1.9 1.9-.8.6-1.7.8-2.7.8zm0-1.5c.6 0 1.2-.2 1.7-.5s1-.8 1.3-1.3c.3-.6.5-1.3.5-2.1s-.2-1.5-.5-2.1c-.3-.6-.8-1-1.3-1.3-.5-.3-1.1-.5-1.7-.5-.6 0-1.2.2-1.7.5s-1 .7-1.3 1.3c-.3.6-.5 1.3-.5 2.1s.2 1.5.5 2.1c.3.6.8 1 1.3 1.3.5.4 1.1.5 1.7.5zm12.2 1.2V82h2.1l7.2 11.4h.1l-.1-2.8V82h1.7v14.3h-1.8l-7.5-11.9h-.1l.1 2.8v9.2h-1.7zm18.2.3c-1 0-1.9-.2-2.6-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.6-1.7-.6-2.8 0-1 .2-1.9.6-2.7.4-.8 1-1.5 1.7-2s1.6-.8 2.6-.8 1.9.2 2.6.7c.7.4 1.3 1.1 1.7 1.8.4.8.6 1.7.6 2.7v.5h-8.8V90h7c0-.3-.1-.6-.2-.9-.1-.3-.3-.6-.5-.9-.2-.3-.6-.5-.9-.7-.4-.2-.8-.3-1.4-.3-.7 0-1.2.2-1.7.5s-.8.8-1.1 1.4c-.3.6-.4 1.2-.4 2 0 .9.2 1.6.5 2.2.3.6.8 1 1.3 1.3.5.3 1.1.4 1.7.4.8 0 1.4-.2 1.8-.5.5-.4.9-.8 1.2-1.3l1.4.7c-.4.8-1 1.4-1.7 1.9-1 .6-1.9.8-3 .8zm5.5-.3 4.1-5.9h.2l2.9-4.3h2l-4 5.6h-.1l-3.1 4.6h-2zm.1-10.2h1.9l3.2 4.5h.1l4 5.7h-2l-3-4.5h-.1l-4.1-5.7zm9.9 0h6v1.5h-6v-1.5zm1.8 7.5V83.3h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.6-.7-1.3-.7-2.2zm11.2 2.7V82h4.8c.8 0 1.5.2 2.2.5.7.4 1.2.8 1.6 1.5.4.6.6 1.4.6 2.2 0 .8-.2 1.6-.6 2.2-.4.6-.9 1.1-1.6 1.5-.7.4-1.4.5-2.2.5H215v-1.6h4c.6 0 1-.1 1.4-.4.4-.3.7-.6.9-1 .2-.4.3-.8.3-1.2s-.1-.8-.3-1.2c-.2-.4-.5-.7-.9-1-.4-.3-.9-.4-1.4-.4h-3.2v12.7h-1.7zm14.1.3c-.8 0-1.4-.1-2-.4s-1-.7-1.3-1.2-.5-1.1-.5-1.8c0-.8.2-1.4.6-1.9s.9-.9 1.5-1.2c.7-.3 1.4-.4 2.2-.4.4 0 .9 0 1.2.1s.7.2 1 .3c.3.1.5.2.7.3v-.6c0-.8-.3-1.4-.8-1.8-.5-.5-1.2-.7-2-.7-.6 0-1.1.1-1.6.4-.5.2-.9.6-1.1 1l-1.3-1c.3-.4.6-.7 1-1 .4-.3.9-.5 1.4-.7s1.1-.2 1.6-.2c1.4 0 2.5.4 3.2 1.1.8.7 1.2 1.7 1.2 3v6.5h-1.6v-1.5h-.1c-.2.3-.4.6-.7.8s-.7.5-1.1.7c-.6.2-1 .2-1.5.2zm.1-1.5c.6 0 1.1-.1 1.6-.4.5-.3.9-.7 1.2-1.2.3-.5.5-1 .5-1.6-.3-.2-.7-.4-1.2-.5s-1-.2-1.5-.2c-1 0-1.7.2-2.1.6-.4.4-.7.9-.7 1.5s.2 1 .6 1.4 1 .4 1.6.4zm7.4 1.2V86.1h1.7v10.2h-1.7zm.8-12c-.3 0-.6-.1-.9-.4s-.4-.5-.4-.9c0-.3.1-.6.4-.9.2-.2.5-.4.9-.4.3 0 .6.1.9.4.2.2.4.5.4.9 0 .3-.1.6-.4.9-.2.2-.5.4-.9.4zm3.5 12V86.1h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V90c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7H240zm10.1-10.2h6v1.5h-6v-1.5zm1.7 7.5V83.3h1.7v10c0 .5.1.9.3 1.2s.6.4 1.1.4c.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8s-.7-1.3-.7-2.2zM96 172.8c-2.4 0-4.3 1.9-4.3 4.3 0 2 1.4 3.7 3.3 4.2v20.1h2v-20.1c1.9-.5 3.3-2.1 3.3-4.2 0-2.3-1.9-4.3-4.3-4.3zM201.6 172.6c-2.4 0-4.3 1.9-4.3 4.3 0 2 1.4 3.7 3.3 4.2v19.8h2v-19.8c1.9-.5 3.3-2.1 3.3-4.2 0-2.4-1.9-4.3-4.3-4.3z"></path></svg>
  <svg title="A diagram of the INP thresholds. An INP at or below 200 milliseconds is considered good. Between 200 and 500 milliseconds suggests a page's responsiveness needs improvement. Anything over 500 milliseconds means that a page's responsiveness is poor." class="inp-desktop" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 658.4 113.6" style="enable-background:new 0 0 658.4 113.6" xml:space="preserve"><style>.st0{填充：#2979FF} v.st1{填充规则：evenodd；剪辑规则：evenodd；填充：#0CCE6B} .st2 {填充：#191919} .st3{填充规则：evenodd；剪辑规则： Evenodd;fill: #FFA400} .st4{fill-rule:evenodd;clip-rule:evenodd;fill:#FF4E42} @media screen 和 (prefers-color-scheme: light){.st2{fill: #191919}} @media screen and (prefers-color-scheme: dark){.st2{fill: #fff}} [data-user-theme=dark] .st2{fill: #fff}</style><path class="st0" d="M30.2 68.7V0h13v68.7h-13zm28.7 0V0H74l27.7 46.1h.8l-.8-13.2V0h12.9v68.7H101L71.7 20.1h-.8l.8 13.2v35.4H58.9zm71.3 0V0h24.2c4.4 0 8.4.9 11.9 2.7 3.5 1.8 6.3 4.4 8.4 7.6 2.1 3.3 3.1 7 3.1 11.3 0 4.3-1 8.1-3.1 11.4-2.1 3.3-4.9 5.8-8.4 7.7-3.5 1.8-7.5 2.7-11.9 2.7h-17V31.2h17.4c2.2 0 4.1-.4 5.7-1.3 1.5-.9 2.7-2.1 3.5-3.5.8-1.4 1.2-3 1.2-4.7 0-1.7-.4-3.2-1.2-4.6-.8-1.4-1.9-2.6-3.5-3.5-1.5-.9-3.4-1.3-5.7-1.3h-11.6v56.5h-13z"></path><path class="st1" d="M303.2 14.9h115.2v43.2H303.2V14.9z"></path><path class="st2" d="M345.3 41.5c-.7 0-1.3-.1-1.9-.4-.6-.2-1.1-.6-1.6-1s-.8-1-1.1-1.6c-.3-.6-.4-1.3-.4-2s.1-1.4.4-2c.3-.6.6-1.1 1.1-1.6.5-.5 1-.8 1.6-1 .6-.2 1.2-.4 1.9-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1l-1 1c-.2-.2-.4-.4-.7-.6-.3-.2-.5-.3-.9-.4-.3-.1-.6-.1-1-.1-.5 0-.9.1-1.3.3-.4.2-.8.4-1.1.7-.3.3-.6.7-.8 1.1-.2.4-.3.9-.3 1.5s.1 1 .3 1.5c.2.4.5.8.8 1.1.3.3.7.6 1.1.7.4.2.9.2 1.3.2s.8-.1 1.2-.2c.4-.1.7-.3 1-.5.3-.2.5-.5.7-.8.2-.3.3-.7.3-1.1h-3.3v-1.3h4.6v.8c0 .7-.1 1.3-.4 1.9-.2.6-.6 1-1 1.5-.4.4-.9.7-1.5.9-.3.2-.9.3-1.6.3zm10.5 0c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1-1.2.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3s.5-1.2.5-1.9-.2-1.3-.5-1.9-.7-1-1.2-1.3c-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.8.5-.5.3-.9.7-1.2 1.3s-.5 1.2-.5 1.9.2 1.3.5 1.9.7 1 1.2 1.3c.6.4 1.2.5 1.8.5zm11 1.4c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1-1.3.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3s.5-1.2.5-1.9-.2-1.3-.5-1.9-.7-1-1.2-1.3c-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.8.5-.5.3-.9.7-1.2 1.3s-.5 1.2-.5 1.9.2 1.3.5 1.9.7 1 1.2 1.3c.6.4 1.2.5 1.8.5zm6.6 1.2v-9.5h3c1 0 1.9.2 2.6.6.7.4 1.3 1 1.7 1.7s.6 1.5.6 2.5c0 .9-.2 1.8-.6 2.5s-1 1.3-1.7 1.7c-.7.4-1.6.6-2.6.6h-3zm1.5-1.4h1.5c.7 0 1.3-.1 1.8-.4.5-.3.9-.7 1.2-1.2.3-.5.4-1.1.4-1.8s-.1-1.3-.4-1.8c-.3-.5-.7-.9-1.2-1.2-.5-.3-1.1-.4-1.8-.4h-1.5v6.8z"></path><path class="st3" d="M418.4 14.9h124.8v43.2H418.4V14.9z"></path><path class="st2" d="M460.8 33.3v-9.5h1.7l4.3 7h.1l-.1-1.8v-5.2h1.5v9.5h-1.5l-4.5-7.4h-.1l.1 1.8v5.5h-1.5zm9.7 0v-9.5h5.8v1.4H472V32h4.3v1.4h-5.8zm.7-4.1v-1.4h4.6v1.4h-4.6zm6.9 4.1v-9.5h5.8v1.4h-4.3V32h4.3v1.4h-5.8zm.8-4.1v-1.4h4.6v1.4h-4.6zm6.8 4.1v-9.5h3c1 0 1.9.2 2.6.6.7.4 1.3 1 1.7 1.7s.6 1.5.6 2.5c0 .9-.2 1.8-.6 2.5s-1 1.3-1.7 1.7c-.7.4-1.6.6-2.6.6h-3zm1.5-1.4h1.5c.7 0 1.3-.1 1.8-.4.5-.3.9-.7 1.2-1.2.3-.5.4-1.1.4-1.8s-.1-1.3-.4-1.8c-.3-.5-.7-.9-1.2-1.2-.5-.3-1.1-.4-1.8-.4h-1.5v6.8zm10.9 1.6c-.5 0-1-.1-1.5-.3-.5-.2-.9-.5-1.2-.9-.3-.4-.6-.9-.8-1.5l1.4-.6c.1.5.4.9.8 1.3.4.3.8.5 1.3.5.3 0 .6-.1.8-.2.3-.1.5-.3.6-.5.2-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.6-.5-.3-.2-.7-.3-1.1-.5l-.6-.2c-.3-.1-.5-.2-.8-.4-.3-.1-.5-.3-.7-.5-.2-.2-.4-.5-.5-.7-.1-.3-.2-.6-.2-1 0-.5.1-.9.4-1.3.2-.4.6-.7 1-.9.4-.2 1-.4 1.6-.4.6 0 1.1.1 1.5.3.4.2.7.5 1 .8.2.3.4.6.5.9l-1.3.6c-.1-.2-.2-.4-.3-.5-.1-.2-.3-.3-.5-.4-.2-.1-.5-.2-.8-.2-.3 0-.5.1-.8.2-.2.1-.4.2-.6.4-.1.2-.2.4-.2.6 0 .3.1.6.4.8s.7.4 1.2.6l.6.2c.3.1.6.2.9.4.3.1.6.3.8.6.2.2.4.5.6.8.1.3.2.7.2 1.2s-.1.9-.3 1.3c-.2.4-.4.6-.8.9-.3.2-.7.4-1 .5-.3 0-.7.1-1 .1zM434.4 49.3v-9.5h1.5v9.5h-1.5zm3.6 0v-9.5h2l2.8 7.3h.1l2.8-7.3h2v9.5h-1.4v-5.4l.1-1.7h-.1l-2.8 7.1h-1.2l-2.8-7.1h-.1l.1 1.7v5.4H438zm11.7 0v-9.5h3.3c.6 0 1.1.1 1.6.4.5.2.9.6 1.1 1 .3.4.4.9.4 1.5s-.1 1.1-.4 1.5c-.3.4-.7.8-1.1 1-.5.2-1 .4-1.6.4h-2.5v-1.4h2.5c.4 0 .7-.1.9-.2.2-.1.4-.3.5-.6.1-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.2-.5-.2-.9-.2h-1.8v8.2h-1.5zm8 0v-9.5h3.3c.6 0 1.1.1 1.6.4.5.2.8.6 1.1 1s.4.9.4 1.5c0 .4-.1.8-.2 1.1s-.4.7-.7.9c-.3.3-.6.5-1 .6-.4.1-.9.2-1.4.2h-2.3v-1.3h2.5c.3 0 .6-.1.8-.2.2-.1.4-.3.6-.6.2-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.1-.5-.2-.9-.2h-1.9v8.2h-1.4zm2.2-4.4h1.7l3 4.3v.1h-1.7l-3-4.4zm10.3 4.6c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1c-.6.3-1.2.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3.3-.5.5-1.2.5-1.9s-.2-1.3-.5-1.9c-.3-.5-.7-1-1.2-1.3-.5-.3-1.1-.5-1.8-.5s-1.2.2-1.8.5c-.5.3-.9.7-1.2 1.3-.3.5-.5 1.2-.5 1.9s.2 1.3.5 1.9c.3.5.7 1 1.2 1.3.6.4 1.2.5 1.8.5zm8.8 1.2-3.4-9.5h1.6l2.2 6.3.3 1.1h.1l.4-1.1 2.2-6.3h1.6l-3.5 9.5H479zm6.2 0v-9.5h5.8v1.4h-4.3V48h4.3v1.4h-5.8zm.8-4.1v-1.4h4.6v1.4H486zm6.8 4.1v-9.5h2l2.8 7.3h.1l2.8-7.3h2v9.5H501v-5.4l.1-1.7h-.1l-2.8 7.1H497l-2.8-7.1h-.1l.1 1.7v5.4h-1.4zm11.8 0v-9.5h5.8v1.4h-4.3V48h4.3v1.4h-5.8zm.8-4.1v-1.4h4.6v1.4h-4.6zm6.8 4.1v-9.5h1.7l4.3 7h.1l-.1-1.8v-5.2h1.5v9.5h-1.5l-4.5-7.4h-.1l.1 1.8v5.5h-1.5zm11.7 0v-8.8h1.5v8.8h-1.5zm-2.7-8.2v-1.4h6.8v1.4h-6.8z"></path><path class="st4" d="M543.2 14.9h115.2v43.2H543.2V14.9z"></path><path class="st2" d="M582.9 41.3v-9.5h3.3c.6 0 1.1.1 1.6.4.5.2.9.6 1.1 1 .3.4.4.9.4 1.5s-.1 1.1-.4 1.5c-.3.4-.7.8-1.1 1-.5.2-1 .4-1.6.4h-2.5v-1.4h2.5c.4 0 .7-.1.9-.2.2-.1.4-.3.5-.6.1-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.2-.5-.2-.9-.2h-1.8v8.2h-1.5zm12.3.2c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1c-.7.3-1.3.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3.3-.5.5-1.2.5-1.9s-.2-1.3-.5-1.9c-.3-.5-.7-1-1.2-1.3-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.8.5-.5.3-.9.7-1.2 1.3-.3.5-.5 1.2-.5 1.9s.2 1.3.5 1.9c.3.5.7 1 1.2 1.3.6.4 1.1.5 1.8.5zm10.9 1.4c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1c-.6.3-1.3.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3.3-.5.5-1.2.5-1.9s-.2-1.3-.5-1.9c-.3-.5-.7-1-1.2-1.3-.5-.3-1.1-.5-1.8-.5s-1.2.2-1.8.5c-.5.3-.9.7-1.2 1.3-.3.5-.5 1.2-.5 1.9s.2 1.3.5 1.9c.3.5.7 1 1.2 1.3.6.4 1.2.5 1.8.5zm6.7 1.2v-9.5h3.3c.6 0 1.1.1 1.6.4.5.2.8.6 1.1 1s.4.9.4 1.5c0 .4-.1.8-.2 1.1s-.4.7-.7.9c-.3.3-.6.5-1 .6-.4.1-.9.2-1.4.2h-2.3v-1.3h2.5c.3 0 .6-.1.8-.2.2-.1.4-.3.6-.6.2-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.1-.5-.2-.9-.2h-1.9v8.2h-1.4zm2.2-4.4h1.7l3 4.3v.1H618l-3-4.4zM517.7 102.9c-.6 0-1.1-.1-1.7-.3-.6-.2-1-.6-1.5-1-.4-.5-.7-1.1-.9-1.8l1.7-.7c.2.6.4 1.1.8 1.5.4.4.9.6 1.6.6.7 0 1.2-.2 1.6-.6.4-.4.7-1 .7-1.6 0-.7-.2-1.2-.6-1.6-.4-.4-1-.7-1.6-.7-.4 0-.8.1-1.1.2-.3.2-.6.4-.8.7l-1.8-.8.7-6h6.4v1.7h-4.9l-.4 3.2h.1c.3-.2.6-.4.9-.5.4-.1.8-.2 1.3-.2.7 0 1.3.2 1.9.5.6.3 1 .8 1.4 1.4.4.6.5 1.3.5 2 0 .8-.2 1.5-.5 2.1-.4.6-.8 1.1-1.5 1.4-.7.3-1.5.5-2.3.5zm10.8 0c-.7 0-1.4-.2-2-.5-.6-.3-1.1-.8-1.5-1.3-.4-.6-.8-1.2-1-2-.2-.8-.3-1.6-.3-2.4 0-.9.1-1.7.3-2.5.2-.8.6-1.4 1-2 .4-.6.9-1 1.5-1.3.6-.3 1.3-.5 2-.5.8 0 1.4.2 2 .5.6.3 1.1.8 1.5 1.3.4.6.8 1.2 1 2 .2.8.3 1.6.3 2.5 0 .9-.1 1.7-.3 2.4-.2.8-.5 1.4-1 2-.4.6-.9 1-1.5 1.3-.6.3-1.2.5-2 .5zm0-1.8c.6 0 1.1-.2 1.6-.6.4-.4.8-.9 1-1.6.2-.7.4-1.4.4-2.2 0-.8-.1-1.6-.4-2.3-.2-.7-.6-1.2-1-1.6-.4-.4-1-.6-1.6-.6-.6 0-1.2.2-1.6.6-.4.4-.8.9-1 1.6-.2.7-.4 1.4-.4 2.3 0 .8.1 1.6.4 2.2.2.7.6 1.2 1 1.6.5.4 1 .6 1.6.6zm11.4 1.8c-.7 0-1.4-.2-2-.5-.6-.3-1.1-.8-1.5-1.3-.4-.6-.8-1.2-1-2-.2-.8-.3-1.6-.3-2.4 0-.9.1-1.7.3-2.5.2-.8.6-1.4 1-2 .4-.6.9-1 1.5-1.3.6-.3 1.3-.5 2-.5.8 0 1.4.2 2 .5.6.3 1.1.8 1.5 1.3.4.6.8 1.2 1 2 .2.8.3 1.6.3 2.5 0 .9-.1 1.7-.3 2.4-.2.8-.5 1.4-1 2-.4.6-.9 1-1.5 1.3-.5.3-1.2.5-2 .5zm.1-1.8c.6 0 1.1-.2 1.6-.6.4-.4.8-.9 1-1.6.2-.7.4-1.4.4-2.2 0-.8-.1-1.6-.4-2.3-.2-.7-.6-1.2-1-1.6-.4-.4-1-.6-1.6-.6-.6 0-1.2.2-1.6.6-.4.4-.8.9-1 1.6-.2.7-.4 1.4-.4 2.3 0 .8.1 1.6.4 2.2.2.7.6 1.2 1 1.6.4.4.9.6 1.6.6zm10.8 1.5v-8.8h1.8V95h.1c.2-.3.4-.5.7-.8s.6-.4.9-.5c.4-.1.7-.2 1.1-.2.7 0 1.2.2 1.7.5s.8.7 1 1.2c.3-.5.7-.8 1.2-1.2.5-.3 1.1-.5 1.8-.5 1 0 1.8.3 2.3 1 .5.6.8 1.5.8 2.5v5.7h-1.9v-5.4c0-.7-.2-1.2-.5-1.5-.3-.3-.7-.5-1.3-.5-.4 0-.8.1-1.1.4-.3.2-.6.6-.8 1s-.3.9-.3 1.3v4.7h-1.9v-5.4c0-.7-.2-1.2-.5-1.5-.3-.3-.8-.5-1.3-.5-.4 0-.8.1-1.1.4-.3.2-.6.6-.7 1s-.3.9-.3 1.3v4.7h-1.7zm18.6.3c-.7 0-1.3-.1-1.8-.3-.5-.2-.9-.5-1.3-.9-.3-.4-.6-.8-.7-1.2l1.7-.7c.2.5.5.8.9 1.1.4.2.8.4 1.3.4s.9-.1 1.2-.2c.3-.2.5-.4.5-.8 0-.2-.1-.5-.2-.6s-.4-.3-.6-.4l-.9-.3-1.1-.2c-.4-.1-.8-.3-1.2-.5-.4-.2-.7-.5-.9-.9-.2-.4-.3-.8-.3-1.2 0-.5.2-1 .5-1.4.3-.4.7-.7 1.2-.9.5-.2 1.1-.3 1.7-.3.6 0 1.1.1 1.5.2.5.1.9.3 1.2.6.3.3.6.6.8 1l-1.6.7c-.2-.4-.5-.7-.8-.8-.3-.2-.7-.2-1.1-.2-.4 0-.8.1-1.1.3-.3.2-.4.4-.4.7 0 .3.1.5.4.7.3.2.6.3 1 .4l1.3.3c.9.2 1.5.6 2 1 .4.4.7 1 .7 1.6 0 .6-.2 1.1-.5 1.5-.3.4-.8.7-1.3 1-.8.2-1.5.3-2.1.3zM389.2 102.6v-1.8l.4-.4.9-.9c.4-.4.7-.8 1.1-1.2l1.1-1.1.8-.8c.3-.3.6-.6.8-.9.2-.3.3-.5.4-.8.1-.2.1-.5.1-.8 0-.3-.1-.6-.2-.8-.1-.3-.4-.5-.7-.6-.3-.2-.6-.2-1.1-.2-.4 0-.7.1-1 .2-.3.2-.5.4-.7.6-.2.2-.3.5-.3.7l-1.7-.7c.1-.3.2-.6.4-.9.2-.3.4-.6.8-.9.3-.3.7-.5 1.1-.7.4-.2.9-.3 1.5-.3.8 0 1.4.2 2 .5.6.3 1 .7 1.3 1.2.3.5.5 1.1.5 1.7 0 .5-.1 1-.3 1.5-.2.5-.4.9-.7 1.3-.3.4-.6.7-.9 1-.2.1-.4.3-.6.6-.2.2-.5.5-.7.8l-.8.8-.7.7-.4.4h5.2v1.7h-7.6zm14.2.3c-.7 0-1.4-.2-2-.5-.6-.3-1.1-.8-1.5-1.3-.4-.6-.8-1.2-1-2-.2-.8-.3-1.6-.3-2.4 0-.9.1-1.7.3-2.5.2-.8.6-1.4 1-2 .4-.6.9-1 1.5-1.3.6-.3 1.3-.5 2-.5.8 0 1.4.2 2 .5.6.3 1.1.8 1.5 1.3.4.6.8 1.2 1 2 .2.8.3 1.6.3 2.5 0 .9-.1 1.7-.3 2.4-.2.8-.5 1.4-1 2-.4.6-.9 1-1.5 1.3-.5.3-1.2.5-2 .5zm0-1.8c.6 0 1.1-.2 1.6-.6.4-.4.8-.9 1-1.6.2-.7.4-1.4.4-2.2 0-.8-.1-1.6-.4-2.3-.2-.7-.6-1.2-1-1.6-.4-.4-1-.6-1.6-.6-.6 0-1.2.2-1.6.6-.4.4-.8.9-1 1.6-.2.7-.4 1.4-.4 2.3 0 .8.1 1.6.4 2.2.2.7.6 1.2 1 1.6.5.4 1 .6 1.6.6zm11.5 1.8c-.7 0-1.4-.2-2-.5-.6-.3-1.1-.8-1.5-1.3-.4-.6-.8-1.2-1-2-.2-.8-.3-1.6-.3-2.4 0-.9.1-1.7.3-2.5.2-.8.6-1.4 1-2 .4-.6.9-1 1.5-1.3.6-.3 1.3-.5 2-.5.8 0 1.4.2 2 .5.6.3 1.1.8 1.5 1.3.4.6.8 1.2 1 2 .2.8.3 1.6.3 2.5 0 .9-.1 1.7-.3 2.4-.2.8-.5 1.4-1 2-.4.6-.9 1-1.5 1.3-.6.3-1.3.5-2 .5zm0-1.8c.6 0 1.1-.2 1.6-.6.4-.4.8-.9 1-1.6.2-.7.4-1.4.4-2.2 0-.8-.1-1.6-.4-2.3-.2-.7-.6-1.2-1-1.6-.4-.4-1-.6-1.6-.6-.6 0-1.2.2-1.6.6-.4.4-.8.9-1 1.6-.2.7-.4 1.4-.4 2.3 0 .8.1 1.6.4 2.2.2.7.6 1.2 1 1.6.4.4.9.6 1.6.6zm10.8 1.5v-8.8h1.8V95h.1c.2-.3.4-.5.7-.8s.6-.4.9-.5c.4-.1.7-.2 1.1-.2.7 0 1.2.2 1.7.5s.8.7 1 1.2c.3-.5.7-.8 1.2-1.2.5-.3 1.1-.5 1.8-.5 1 0 1.8.3 2.3 1 .5.6.8 1.5.8 2.5v5.7h-1.9v-5.4c0-.7-.2-1.2-.5-1.5-.3-.3-.7-.5-1.3-.5-.4 0-.8.1-1.1.4-.3.2-.6.6-.8 1s-.3.9-.3 1.3v4.7h-1.9v-5.4c0-.7-.2-1.2-.5-1.5-.3-.3-.8-.5-1.3-.5-.4 0-.8.1-1.1.4-.3.2-.6.6-.7 1s-.3.9-.3 1.3v4.7h-1.7zm18.6.3c-.7 0-1.3-.1-1.8-.3-.5-.2-.9-.5-1.3-.9-.3-.4-.6-.8-.7-1.2l1.7-.7c.2.5.5.8.9 1.1.4.2.8.4 1.3.4s.9-.1 1.2-.2c.3-.2.5-.4.5-.8 0-.2-.1-.5-.2-.6-.2-.2-.4-.3-.6-.4l-.9-.3-1.1-.2c-.4-.1-.8-.3-1.2-.5-.4-.2-.7-.5-.9-.9-.2-.4-.3-.8-.3-1.2 0-.5.2-1 .5-1.4.3-.4.7-.7 1.2-.9.5-.2 1.1-.3 1.7-.3.6 0 1.1.1 1.5.2.5.1.9.3 1.2.6.3.3.6.6.8 1l-1.6.7c-.2-.4-.5-.7-.8-.8-.3-.2-.7-.2-1.1-.2-.4 0-.8.1-1.1.3-.3.2-.4.4-.4.7 0 .3.1.5.4.7.3.2.6.3 1 .4l1.3.3c.9.2 1.5.6 2 1 .4.4.7 1 .7 1.6 0 .6-.2 1.1-.5 1.5-.3.4-.8.7-1.3 1-.8.2-1.4.3-2.1.3zM0 113.3V99h1.7v14.3H0zm4.6 0v-10.2h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V107c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7H4.6zm10-10.2h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.5-.5-.7-1.2-.7-2.1zm10.3 3c-1 0-1.9-.2-2.6-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.6-1.7-.6-2.8 0-1 .2-1.9.6-2.7.4-.8 1-1.5 1.7-2s1.6-.8 2.6-.8 1.9.2 2.6.7c.7.4 1.3 1.1 1.7 1.8.4.8.6 1.7.6 2.7v.5h-8.8V107h7c0-.3-.1-.6-.2-.9-.1-.3-.3-.6-.5-.9-.2-.3-.6-.5-.9-.7-.4-.2-.8-.3-1.4-.3-.7 0-1.2.2-1.7.5s-.8.8-1.1 1.4c-.3.6-.4 1.2-.4 2 0 .9.2 1.6.5 2.2.3.6.8 1 1.3 1.3.5.3 1.1.4 1.7.4.8 0 1.4-.2 1.8-.5.5-.4.9-.8 1.2-1.3l1.4.7c-.4.8-1 1.4-1.7 1.9-1 .5-1.9.8-3 .8zm6.7-.3v-10.2H35v1.6h.1c.1-.4.4-.7.7-1 .3-.3.7-.5 1.1-.7.4-.2.8-.2 1.2-.2h.7c.2 0 .3.1.5.2v1.8c-.2-.1-.5-.2-.7-.2-.2-.1-.5-.1-.7-.1-.5 0-1 .1-1.4.4-.4.3-.7.7-1 1.1-.2.5-.4 1-.4 1.5v5.7h-1.7zm10.4.3c-.8 0-1.4-.1-2-.4-.6-.3-1-.7-1.3-1.2-.3-.5-.5-1.1-.5-1.8 0-.8.2-1.4.6-1.9.4-.5.9-.9 1.5-1.2.7-.3 1.4-.4 2.2-.4.4 0 .9 0 1.2.1.4.1.7.2 1 .3.3.1.5.2.7.3v-.6c0-.8-.3-1.4-.8-1.8-.5-.5-1.2-.7-2-.7-.6 0-1.1.1-1.6.4-.5.2-.9.6-1.1 1l-1.3-1c.3-.4.6-.7 1-1 .4-.3.9-.5 1.4-.7.5-.2 1.1-.2 1.6-.2 1.4 0 2.5.4 3.2 1.1.8.7 1.2 1.7 1.2 3v6.5h-1.6v-1.5h-.1c-.2.3-.4.6-.7.8-.3.3-.7.5-1.1.7-.5.1-1 .2-1.5.2zm.1-1.5c.6 0 1.1-.1 1.6-.4.5-.3.9-.7 1.2-1.2.3-.5.5-1 .5-1.6-.3-.2-.7-.4-1.2-.5-.5-.1-1-.2-1.5-.2-1 0-1.7.2-2.1.6-.4.4-.7.9-.7 1.5s.2 1 .6 1.4c.4.2 1 .4 1.6.4zm11.7 1.5c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-2 .7-2.8.4-.8 1.1-1.5 1.8-1.9.8-.5 1.7-.7 2.7-.7 1.1 0 2.1.3 2.8.8.7.5 1.3 1.2 1.6 2l-1.5.6c-.2-.6-.6-1.1-1.1-1.4-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.7.5s-.9.8-1.2 1.4c-.3.6-.5 1.3-.5 2 0 .8.2 1.4.5 2 .3.6.7 1 1.2 1.4.5.3 1.1.5 1.7.5.7 0 1.3-.2 1.9-.5.5-.3.9-.8 1.2-1.4l1.5.6c-.3.8-.9 1.5-1.6 2-.9.5-1.8.8-3 .8zm5.5-10.5h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.5-.7-1.2-.7-2.1zm6.5 2.7v-10.2h1.7v10.2h-1.7zm.9-12.1c-.3 0-.6-.1-.9-.4-.2-.2-.4-.5-.4-.9 0-.3.1-.6.4-.9.2-.2.5-.4.9-.4.3 0 .6.1.9.4.2.2.4.5.4.9 0 .3-.1.6-.4.9-.3.3-.6.4-.9.4zm8.1 12.4c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-1.9.7-2.8.4-.8 1.1-1.5 1.8-2 .8-.5 1.7-.7 2.7-.7 1 0 1.9.2 2.7.7.8.5 1.4 1.1 1.9 2 .4.8.7 1.7.7 2.7 0 1-.2 1.9-.7 2.8-.4.8-1.1 1.5-1.9 1.9-.8.5-1.7.8-2.7.8zm0-1.6c.6 0 1.2-.2 1.7-.5s1-.8 1.3-1.3c.3-.6.5-1.3.5-2.1s-.2-1.5-.5-2.1c-.3-.6-.8-1-1.3-1.3-.5-.3-1.1-.5-1.7-.5-.6 0-1.2.2-1.7.5s-1 .7-1.3 1.3c-.3.6-.5 1.3-.5 2.1s.2 1.5.5 2.1c.3.6.8 1 1.3 1.3.5.4 1.1.5 1.7.5zm7 1.3v-10.2H87v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V107c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7h-1.7zm15.1-10.2h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.5-.7-1.2-.7-2.1zm10.5 3c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-1.9.7-2.8.4-.8 1.1-1.5 1.8-2 .8-.5 1.7-.7 2.7-.7 1 0 1.9.2 2.7.7.8.5 1.4 1.1 1.9 2 .4.8.7 1.7.7 2.7 0 1-.2 1.9-.7 2.8-.4.8-1.1 1.5-1.9 1.9-.8.5-1.7.8-2.7.8zm0-1.6c.6 0 1.2-.2 1.7-.5s1-.8 1.3-1.3c.3-.6.5-1.3.5-2.1s-.2-1.5-.5-2.1c-.3-.6-.8-1-1.3-1.3-.5-.3-1.1-.5-1.7-.5-.6 0-1.2.2-1.7.5s-1 .7-1.3 1.3c-.3.6-.5 1.3-.5 2.1s.2 1.5.5 2.1c.3.6.8 1 1.3 1.3.5.4 1.1.5 1.7.5zm12.2 1.3V99h2.1l7.2 11.4h.1l-.1-2.8V99h1.7v14.3h-1.8l-7.5-11.9h-.1l.1 2.8v9.2H125zm18.2.3c-1 0-1.9-.2-2.6-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.6-1.7-.6-2.8 0-1 .2-1.9.6-2.7.4-.8 1-1.5 1.7-2s1.6-.8 2.6-.8 1.9.2 2.6.7c.7.4 1.3 1.1 1.7 1.8.4.8.6 1.7.6 2.7v.5h-8.8V107h7c0-.3-.1-.6-.2-.9-.1-.3-.3-.6-.5-.9-.2-.3-.6-.5-.9-.7-.4-.2-.8-.3-1.4-.3-.7 0-1.2.2-1.7.5s-.8.8-1.1 1.4c-.3.6-.4 1.2-.4 2 0 .9.2 1.6.5 2.2.3.6.8 1 1.3 1.3.5.3 1.1.4 1.7.4.8 0 1.4-.2 1.8-.5.5-.4.9-.8 1.2-1.3l1.4.7c-.4.8-1 1.4-1.7 1.9-1 .5-1.9.8-3 .8zm5.5-.3 4.1-5.9h.2l2.9-4.3h2l-4 5.6h-.1l-3.1 4.6h-2zm.1-10.2h1.9l3.2 4.5h.1l4 5.7h-2l-3-4.5h-.1l-4.1-5.7zm9.9 0h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.5-.7-1.2-.7-2.1zm11.2 2.7V99h4.8c.8 0 1.5.2 2.2.5.7.4 1.2.8 1.6 1.5.4.6.6 1.4.6 2.2 0 .8-.2 1.6-.6 2.2-.4.6-.9 1.1-1.6 1.5-.7.4-1.4.5-2.2.5h-3.9v-1.6h4c.6 0 1-.1 1.4-.4.4-.3.7-.6.9-1 .2-.4.3-.8.3-1.2 0-.4-.1-.8-.3-1.2-.2-.4-.5-.7-.9-1-.4-.3-.9-.4-1.4-.4h-3.2v12.7h-1.7zm14 .3c-.8 0-1.4-.1-2-.4-.6-.3-1-.7-1.3-1.2-.3-.5-.5-1.1-.5-1.8 0-.8.2-1.4.6-1.9.4-.5.9-.9 1.5-1.2.7-.3 1.4-.4 2.2-.4.4 0 .9 0 1.2.1.4.1.7.2 1 .3.3.1.5.2.7.3v-.6c0-.8-.3-1.4-.8-1.8-.5-.5-1.2-.7-2-.7-.6 0-1.1.1-1.6.4-.5.2-.9.6-1.1 1l-1.3-1c.3-.4.6-.7 1-1 .4-.3.9-.5 1.4-.7.5-.2 1.1-.2 1.6-.2 1.4 0 2.5.4 3.2 1.1.8.7 1.2 1.7 1.2 3v6.5h-1.6v-1.5h-.1c-.2.3-.4.6-.7.8-.3.3-.7.5-1.1.7-.5.1-.9.2-1.5.2zm.2-1.5c.6 0 1.1-.1 1.6-.4.5-.3.9-.7 1.2-1.2.3-.5.5-1 .5-1.6-.3-.2-.7-.4-1.2-.5-.5-.1-1-.2-1.5-.2-1 0-1.7.2-2.1.6-.4.4-.7.9-.7 1.5s.2 1 .6 1.4c.4.2 1 .4 1.6.4zm7.4 1.2v-10.2h1.7v10.2h-1.7zm.8-12.1c-.3 0-.6-.1-.9-.4-.2-.2-.4-.5-.4-.9 0-.3.1-.6.4-.9.2-.2.5-.4.9-.4.3 0 .6.1.9.4.2.2.4.5.4.9 0 .3-.1.6-.4.9-.3.3-.5.4-.9.4zm3.5 12.1v-10.2h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V107c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7h-1.7zm10-10.2h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.5-.7-1.2-.7-2.1zM418.1 55.2c-1.8 0-3.3 1.5-3.3 3.3 0 1.5 1 2.7 2.3 3.1V83h2V61.6c1.3-.4 2.3-1.7 2.3-3.1 0-1.8-1.5-3.3-3.3-3.3zM546.5 58.6c0-1.8-1.5-3.3-3.3-3.3s-3.3 1.5-3.3 3.3c0 1.5 1 2.7 2.3 3.1v21.2h2V61.7c1.3-.4 2.3-1.6 2.3-3.1z"></path></svg>
</figure>
<h2 id="the-fuzzy-beginning">模糊的开始<a class="headline-link" href="https://web.dev/economic-times-inp/#the-fuzzy-beginning">#</a></h2>
<p>当 Google 最初将 INP 作为一种实验性指标引入，并有可能演变成核心网络生命指标之一时，《经济时报》团队接受了挑战，在其升级为指标之前对其进行了修复，因为提供世界一流的用户体验对于 Google 来说至关重要。我们的核心商业价值观。</p>
<p>INP 是迄今为止最难解决的指标之一。 一开始，人们并不清楚如何有效地测量 INP。 让事情变得更加困难的是缺乏社区支持——包括大多数真实用户监控（RUM）提供商尚不支持它。 然而，我们有 Google RUM 工具，例如<a href="https://developer.chrome.com/docs/crux/about/" rel="noopener">Chrome 用户体验报告 (CrUX)</a>， 这<a href="https://github.com/GoogleChrome/web-vitals" rel="noopener"><code>网络生命周期</code>JavaScript 库</a>以及其他人的支持，这让我们在评估未来道路时了解了自己的立场。 当我们开始时，我们的 INP 在原始级别接近 1,000 毫秒。</p>
<p>修复 INP 时出现的一件事<a href="https://web.dev/find-slow-interactions-in-the-field/">场</a>目标实验室指标之一可能是<a href="https://web.dev/tbt/">总阻塞时间 (TBT)</a>。 TBT 已经得到了社区的充分记录和支持。 尽管已经达到了 Core Web Vitals 的阈值，但我们在 TBT 方面的表现并不好，因为我们开始时已经超过了 3 秒。</p>
<h2 id="what-is-tbt,-and-what-steps-did-we-take-to-improve-it">什么是 TBT？我们采取了哪些措施来改进它？<a class="headline-link" href="https://web.dev/economic-times-inp/#what-is-tbt,-and-what-steps-did-we-take-to-improve-it">#</a></h2>
<p>TBT 是一种实验室指标，用于衡量网页加载期间网页对用户输入的响应能力。 任何执行时间超过 50 毫秒的任务都被视为长任务，​​超过 50 毫秒阈值之后的时间称为“长任务”。<strong>阻塞时间</strong>。</p>
<p>TBT 是通过计算页面加载期间所有长任务的阻塞时间之和来计算的。 例如，如果加载时有两个长任务，则阻塞时间确定如下：</p>
<ul>
<li>任务 A 需要 80 毫秒（比 50 毫秒多了 30 毫秒）。</li>
<li>任务 B 需要 100 毫秒（比 50 毫秒多了 50 毫秒）。</li>
</ul>
<p>该页面的 TBT 将为：80 毫秒 (30 + 50)。 TBT越低越好，TBT也<a href="https://almanac.httparchive.org/en/2022/performance#inp-and-tbt" rel="noopener">与 INP 密切相关</a>。</p>
<p>以下是我们的 TBT 在采取措施改进之前和之后的快速实验室比较：</p>
<figure>
  <img alt="A composite image of long tasks during startup as shown in the performance panel of Chrome DevTools, and a report of page metrics. The main thread is blocked during page load for 3,260 milliseconds." decoding="async" height="502" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>
     优化TBT之前启动期间的主线程。 TBT 为 3,260 毫秒。 
  </figcaption>
</figure>
<figure>
  <img alt="A composite image of long tasks during startup as shown in the performance panel of Chrome DevTools, and a report of page metrics. The main thread is blocked during page load for 120 milliseconds." decoding="async" height="701" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>
     优化TBT后启动时的主线程。 TBT 为 120 毫秒。 
  </figcaption>
</figure>
<h3 id="minimize-main-thread-work">最小化主线程工作<a class="headline-link" href="https://web.dev/economic-times-inp/#minimize-main-thread-work">#</a></h3>
<p>浏览器的主线程处理从解析 HTML、构建 DOM、解析 CSS 和应用样式以及评估和执行 JavaScript 的所有事务。 主线程还处理用户交互，即单击、敲击和按键。 如果主线程被其他工作占用，它可能无法有效地响应用户输入，并可能导致卡顿的用户体验。</p>
<p>这对我们来说是最困难的任务，因为我们有自己的算法来检测用户身份，以便根据订阅状态和第三方脚本来投放广告，以进行 A/B 测试、分析等。</p>
<p>我们首先采取了一些小步骤，例如取消加载不太重要的业务资产的优先级。 其次，我们使用了<a href="https://developer.mozilla.org/docs/Web/API/Window/requestIdleCallback" rel="noopener"><code>请求空闲回调</code></a>适用于非关键工作，这有助于减少 TBT。</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">如果</span> <span class="token punctuation">（</span><span class="token string">'请求空闲回调'</span> <span class="token keyword">在</span>窗户<span class="token punctuation">）</span> <span class="token punctuation">{</span><br>  <span class="token keyword">这</span><span class="token punctuation">。</span>请求空闲回调Id<span class="token operator">=</span> <span class="token function">请求空闲回调</span><span class="token punctuation">（</span><span class="token function">获取市场数据</span><span class="token punctuation">。</span><span class="token function">绑定</span><span class="token punctuation">（</span><span class="token keyword">这</span><span class="token punctuation">）</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">暂停</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">}</span><span class="token punctuation">）</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span> <span class="token keyword">别的</span> <span class="token punctuation">{</span><br>  <span class="token function">获取市场数据</span><span class="token punctuation">（</span><span class="token punctuation">）</span><span class="token punctuation">;</span> <span class="token comment">// 不支持 requestIdleCallback 时的回退</span><br><span class="token punctuation">}</span></code></pre>
</div><p>使用时建议指定超时时间<code>请求空闲回调</code>，因为它确保如果给定的时间已过并且回调尚未被调用，则它会在超时后立即执行回调。</p>
<h3 id="minimize-script-evaluation-time">最小化脚本评估时间<a class="headline-link" href="https://web.dev/economic-times-inp/#minimize-script-evaluation-time">#</a></h3>
<p>我们还使用延迟加载第三方库<a href="https://loadable-components.com/" rel="noopener">可加载组件</a>。 我们还通过使用以下内容对页面进行分析来删除未使用的 JavaScript 和 CSS<a href="https://developer.chrome.com/docs/devtools/coverage/" rel="noopener">覆盖工具</a>在 Chrome 开发者工具中。 它帮助我们确定了哪些领域<a href="https://webpack.js.org/guides/tree-shaking/" rel="noopener">摇树</a>需要在页面加载期间传送更少的代码，从而减少应用程序的初始包大小。</p>
<figure>
  <img alt="A screenshot of the coverage tool in Chrome DevTools. Here, the tool displays unused portions of JavaScript and CSS files during page load." decoding="async" height="100" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<h3 id="reduce-dom-size">减小 DOM 大小<a class="headline-link" href="https://web.dev/economic-times-inp/#reduce-dom-size">#</a></h3>
<p>根据 Lighthouse 的说法，较大的 DOM 大小会增加内存使用量，导致时间更长<a href="https://web.dev/economic-times-inp/reduce-the-scope-and-complexity-of-style-calculations/">样式重新计算</a>，并产生昂贵的<a href="https://developers.google.com/speed/docs/insights/browser-reflow" rel="noopener">布局回流</a>。</p>
<figure>
  <img alt="A screenshot of the DOM size audit in Lighthouse. The number of DOM elements reported is 2,706 elements." decoding="async" height="86" loading="lazy" sizes="(min-width: 712px) 712px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=1424 1424w" width="712">
</figure>
<p>我们通过两种方式减少 DOM 节点的数量：</p>
<ul>
<li>首先，我们根据用户的请求（点击）呈现菜单项。 它将 DOM 大小减少了大约 1,200 个节点。</li>
<li>其次，我们延迟加载不太重要的小部件。</li>
</ul>
<p>由于所有这些努力，我们显着减少了 TBT，我们的 INP 也相应减少了近 50%：</p>
<figure>
  <img alt="A screenshot of the INP audit in CrUX. The INP for the page is 539 milliseconds, which exceeds the 'poor' threshold." decoding="async" height="216" loading="lazy" sizes="(min-width: 574px) 574px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=1148 1148w" width="574">
</figure>
<p>此时，我们几乎没有办法进一步减少 TBT（以及代理 INP），但我们知道我们还有很大的改进空间。 这时我们决定将定制的 UI 样板升级到最新版本的 React<a href="https://nextjs.org/" rel="noopener">Next.js</a>更好地利用<a href="https://react.dev/reference/react" rel="noopener">钩子</a>以避免不必要的组件重新渲染。</p>
<p>由于与网站其他部分相比更新更频繁且流量相对较少，我们开始迁移我们的网站<a href="https://economictimes.indiatimes.com/topic/home" rel="noopener">主题页</a>到 Next.js。 我们还用过<a href="https://partytown.builder.io/" rel="noopener">派对城</a>用于将额外繁重的主线程工作卸载给网络工作者，以及诸如<code>请求空闲回调</code>用于推迟非关键任务。</p>
<h2 id="how-has-improving-inp-helped-the-economic-times">改进 INP 对《经济时报》有何帮助？<a class="headline-link" href="https://web.dev/economic-times-inp/#how-has-improving-inp-helped-the-economic-times">#</a></h2>
<h3 id="current-tbt-and-inp-on-origin">当前的 TBT 和 INP 原产地<a class="headline-link" href="https://web.dev/economic-times-inp/#current-tbt-and-inp-on-origin">#</a></h3>
<p>在发布这篇文章时，我们的起源的 TBT 为 120 毫秒，低于我们开始优化工作时的 3,260 毫秒。 同样，经过优化后，我们原点的 INP 从 1,000 多毫秒下降到了 257 毫秒。</p>
<figure>
  <img alt="A screenshot of the INP audit in CrUX. The INP for the page is 257 milliseconds, which is within the 'needs improvement' thresholds." decoding="async" height="218" loading="lazy" sizes="(min-width: 582px) 582px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=1164 1164w" width="582">
</figure>
<h3 id="inp-crux-trend">INP CrUX 趋势<a class="headline-link" href="https://web.dev/economic-times-inp/#inp-crux-trend">#</a></h3>
<p>主题页面上收到的流量占总流量的比例要小得多。 因此，它是一个理想的实验场所。 CrUX 的结果以及业务成果非常令人鼓舞，并促使我们将努力扩展到整个网站，以获得更多收益。</p>
<figure>
  <img alt="A screenshot of INP distributions as visualized in CrUX over a period of four months, starting in July 2022 and ending in October 2022. Values within the 'poor' and 'needs improvement' thresholds declined somewhat, while the values within the 'good' threshold increased." decoding="async" height="190" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<h3 id="akamai-mpulse-tbt-analysis">Akamai mPulse TBT 分析<a class="headline-link" href="https://web.dev/economic-times-inp/#akamai-mpulse-tbt-analysis">#</a></h3>
<p>我们用<a href="https://www.akamai.com/products/mpulse-real-user-monitoring" rel="noopener">Akamai mPulse</a>作为我们的 RUM 解决方案，可在现场测量 TBT。 我们观察到 TBT 持续下降，这清楚地反映了我们减少 INP 努力的结果。 从下面的屏幕截图中可以看出，TBT 值最终从现场的大约 5 秒下降到大约 200 毫秒。</p>
<figure>
  <img alt="A screenshot of a chart in Akamai mPulse, showing a decline in TBT over the course of roughly a month." decoding="async" height="118" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<h2 id="business-outcome">业务成果<a class="headline-link" href="https://web.dev/economic-times-inp/#business-outcome">#</a></h2>
<p>总体而言，我们努力将 TBT 降低了 30 倍，再加上迁移到 Next.js，帮助我们将 INP 降低了近 4 倍，最终实现了<strong>跳出率降低 50%，综合浏览量提高 43%</strong>在主题页面上。</p>
<figure>
  <img alt="A screenshot of Google Analytics comparing pageviews versus bounce rate. Because of the optimizations made to INP on The Economic Times website, a 50% decrease in bounce rate and a 43% increase in pageviews was realized." decoding="async" height="288" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<h2 id="conclusion">结论<a class="headline-link" href="https://web.dev/economic-times-inp/#conclusion">#</a></h2>
<p>总而言之，INP 广泛帮助确定了《经济时报》网站部分内容的运行时性能问题。 事实证明，它是对业务成果产生积极影响的最有效指标之一。 由于我们在这一努力中观察到了非常令人鼓舞的数字，我们有动力将优化工作扩展到网站的其他领域，并获得额外的好处。</p>
<hr><p><a href="https://web.dev/inp/">Interaction to Next Paint (INP)</a> is a metric that assesses a website's responsiveness to user input. Good responsiveness means that a page is quick to respond to user interactions. The lower a page's INP is, the better it is able to respond to user interactions.</p>
<style>
  .inp-mobile {
    display: inline;
  }

  .inp-desktop {
    display: none;
  }

  @media screen and (min-width: 640px) {
    .inp-mobile {
      display: none;
    }

    .inp-desktop {
      display: inline;
    }
  }
</style>
<figure>
  <svg title="A diagram of the INP thresholds. An INP at or below 200 milliseconds is considered good. Between 200 and 500 milliseconds suggests a page's responsiveness needs improvement. Anything over 500 milliseconds means that a page's responsiveness is poor." class="inp-mobile" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 296.6 220.2" style="enable-background:new 0 0 296.6 220.2" xml:space="preserve"><style>.st0{fill:#2979FF} .st1{fill-rule:evenodd;clip-rule:evenodd;fill:#0CCE6B} .st2{fill:#191919} .st3{fill-rule:evenodd;clip-rule:evenodd;fill:#FFA400} .st4{fill-rule:evenodd;clip-rule:evenodd;fill:#FF4E42} @media screen and (prefers-color-scheme: light){.st2{fill:#191919}} [data-user-theme=light] .st2 {fill:#191919} @media screen and (prefers-color-scheme: dark){.st2{fill:#fff}} [data-user-theme=dark] .st2{fill:#fff}</style><path class="st0" d="M83.3 63V0h11.9v63H83.3zm26.3 0V0h13.8l25.3 42.2h.7l-.7-12.1V0h11.8v63H148l-26.8-44.6h-.7l.7 12.1V63h-11.6zm65.4 0V0h22.2c4.1 0 7.7.8 10.9 2.5s5.8 4 7.7 7 2.9 6.4 2.9 10.4c0 3.9-1 7.4-2.9 10.4s-4.5 5.4-7.7 7c-3.2 1.7-6.9 2.5-10.9 2.5h-15.6V28.6h15.9c2.1 0 3.8-.4 5.2-1.2s2.5-1.9 3.2-3.2c.7-1.3 1.1-2.8 1.1-4.3s-.4-2.9-1.1-4.2c-.7-1.3-1.8-2.3-3.2-3.2s-3.1-1.2-5.2-1.2h-10.7V63H175z"></path><path class="st1" d="M0 137.1h96v38.4H0v-38.4z"></path><path class="st2" d="M34 161c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-.9-.4-.4-.7-.9-1-1.4-.2-.6-.3-1.1-.3-1.8 0-.6.1-1.2.3-1.8.2-.6.6-1 1-1.4.4-.4.9-.7 1.4-.9.5-.2 1.1-.3 1.8-.3s1.3.1 1.8.3c.6.2 1 .6 1.4 1l-.9.9c-.2-.2-.4-.4-.6-.5-.2-.1-.5-.3-.8-.3-.3-.1-.6-.1-.9-.1-.4 0-.8.1-1.2.2-.4.1-.7.4-1 .6-.3.3-.5.6-.7 1-.2.4-.2.8-.2 1.3s.1.9.2 1.3c.2.4.4.7.7 1 .3.3.6.5 1 .7.4.1.8.2 1.2.2.4 0 .8-.1 1.1-.2.3-.1.6-.3.9-.5.3-.2.5-.5.6-.8.2-.3.3-.6.3-1H34v-1.2h4.2v.7c0 .6-.1 1.2-.3 1.7-.2.5-.5.9-.9 1.3s-.8.6-1.3.8c-.5.3-1.1.4-1.7.4zm9.5 0c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8 0-.6.1-1.2.3-1.8.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8 0 .6-.1 1.2-.3 1.8-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.5.2-1.1.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.5.3 1 .4 1.6.4zm9.9 1.2c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8 0-.6.1-1.2.3-1.8.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8 0 .6-.1 1.2-.3 1.8-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.6.2-1.2.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.5.3 1 .4 1.6.4zm6 1.1v-8.6h2.8c.9 0 1.7.2 2.3.5.7.4 1.2.9 1.5 1.5.4.6.5 1.4.5 2.2 0 .8-.2 1.6-.5 2.2-.4.6-.9 1.2-1.5 1.5-.6.4-1.4.5-2.3.5h-2.8zm1.3-1.3h1.4c.6 0 1.2-.1 1.7-.4.5-.3.8-.6 1.1-1 .2-.5.4-1 .4-1.6 0-.6-.1-1.2-.4-1.6-.2-.5-.6-.8-1.1-1-.5-.3-1-.4-1.7-.4h-1.4v6z"></path><path class="st3" d="M96 137.1h105.6v38.4H96v-38.4z"></path><path class="st2" d="M130.8 153.9v-8.6h1.6l3.9 6.3h.1l-.1-1.7v-4.7h1.3v8.6h-1.4l-4.1-6.6h-.1l.1 1.7v5h-1.3zm8.7 0v-8.6h5.2v1.2h-3.9v6.1h3.9v1.2h-5.2zm.7-3.7V149h4.1v1.2h-4.1zm6.2 3.7v-8.6h5.2v1.2h-3.9v6.1h3.9v1.2h-5.2zm.7-3.7V149h4.1v1.2h-4.1zm6.1 3.7v-8.6h2.8c.9 0 1.7.2 2.3.5.7.4 1.2.9 1.5 1.5.4.6.5 1.4.5 2.2s-.2 1.6-.5 2.2c-.4.6-.9 1.2-1.5 1.5-.6.4-1.4.5-2.3.5h-2.8zm1.3-1.3h1.4c.6 0 1.2-.1 1.7-.4.5-.2.8-.6 1.1-1 .2-.5.4-1 .4-1.6 0-.6-.1-1.2-.4-1.6-.2-.5-.6-.8-1.1-1-.5-.2-1-.4-1.7-.4h-1.4v6zm9.9 1.4c-.5 0-.9-.1-1.3-.3-.4-.2-.8-.4-1.1-.8-.3-.4-.5-.8-.7-1.3l1.2-.5c.1.5.3.9.7 1.2.3.3.7.5 1.2.5.3 0 .5 0 .8-.1.2-.1.4-.2.6-.4s.2-.4.2-.7c0-.3-.1-.5-.2-.7-.1-.2-.3-.3-.6-.5s-.6-.3-1-.5l-.5-.2c-.2-.1-.5-.2-.7-.3-.2-.1-.5-.3-.7-.5-.2-.2-.4-.4-.5-.7-.1-.3-.2-.6-.2-.9 0-.4.1-.8.3-1.2.2-.4.5-.6.9-.8.4-.2.9-.3 1.4-.3.6 0 1 .1 1.4.3.4.2.7.4.9.7.2.3.4.5.4.8l-1.2.5c0-.2-.1-.3-.2-.5s-.3-.3-.5-.4c-.2-.1-.4-.2-.8-.2-.2 0-.5.1-.7.2-.2.1-.4.2-.5.4-.1.2-.2.3-.2.6s.1.6.4.8c.3.2.6.4 1.1.5l.6.2c.3.1.6.2.8.3.3.1.5.3.7.5.2.2.4.4.5.7.1.3.2.6.2 1s-.1.8-.3 1.2c-.2.3-.4.6-.7.8-.3.2-.6.3-.9.4s-.5.2-.8.2zM107 167.9v-8.6h1.3v8.6H107zm3.2 0v-8.6h1.8l2.5 6.5h.1l2.5-6.5h1.8v8.6h-1.3V163l.1-1.5h-.1l-2.5 6.4h-1l-2.5-6.4h-.1l.1 1.5v4.9h-1.4zm10.6 0v-8.6h3c.5 0 1 .1 1.4.3.4.2.8.5 1 .9.3.4.4.9.4 1.4 0 .5-.1 1-.4 1.4-.2.4-.6.7-1 .9-.4.2-.9.3-1.4.3h-2.2v-1.2h2.3c.3 0 .6-.1.8-.2.2-.1.4-.3.5-.5.1-.2.2-.4.2-.7 0-.2-.1-.4-.2-.7-.1-.2-.3-.4-.5-.5-.2-.1-.5-.2-.8-.2h-1.7v7.3h-1.4zm7.2 0v-8.6h3c.5 0 1 .1 1.4.3.4.2.7.5 1 .9.2.4.4.8.4 1.4 0 .3-.1.7-.2 1s-.3.6-.6.8c-.3.2-.6.4-1 .6-.4.1-.8.2-1.2.2h-2.1v-1.2h2.3c.3 0 .5-.1.7-.2.2-.1.4-.3.5-.5.1-.2.2-.5.2-.7 0-.2-.1-.5-.2-.7-.1-.2-.3-.4-.5-.5-.2-.1-.5-.2-.8-.2h-1.7v7.4H128zm2-4h1.5l2.7 3.9v.1h-1.5l-2.7-4zm9.3 4.1c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8s.1-1.2.3-1.8c.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8s-.1 1.2-.3 1.8c-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.6.2-1.2.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.5.3 1 .4 1.6.4zm7.9 1.1-3-8.6h1.4l1.9 5.7.3 1h.1l.3-1 2-5.7h1.4l-3.1 8.6h-1.3zm5.6 0v-8.6h5.2v1.2h-3.9v6.1h3.9v1.2h-5.2zm.7-3.7V163h4.1v1.2h-4.1zm6.2 3.7v-8.6h1.8l2.5 6.5h.1l2.5-6.5h1.8v8.6H167V163l.1-1.5h-.1l-2.5 6.4h-1l-2.5-6.4h-.1l.1 1.5v4.9h-1.3zm10.6 0v-8.6h5.2v1.2h-3.9v6.1h3.9v1.2h-5.2zm.7-3.7V163h4.1v1.2H171zm6.1 3.7v-8.6h1.6l3.9 6.3h.1l-.1-1.7v-4.7h1.3v8.6h-1.4l-4.1-6.6h-.1l.1 1.7v5h-1.3zm10.5 0V160h1.3v7.9h-1.3zm-2.4-7.4v-1.2h6.1v1.2h-6.1z"></path><path class="st4" d="M200.6 137.1h96v38.4h-96v-38.4z"></path><path class="st2" d="M232.5 160.9v-8.6h3c.5 0 1 .1 1.4.3.4.2.8.5 1 .9.3.4.4.9.4 1.4 0 .5-.1 1-.4 1.4-.2.4-.6.7-1 .9-.4.2-.9.3-1.4.3h-2.2v-1.2h2.3c.3 0 .6-.1.8-.2.2-.1.4-.3.5-.5.1-.2.2-.4.2-.7 0-.2-.1-.4-.2-.7-.1-.2-.3-.4-.5-.5-.2-.1-.5-.2-.8-.2h-1.7v7.3h-1.4zm11 .1c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8s.1-1.2.3-1.8c.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8s-.1 1.2-.3 1.8c-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.5.2-1.1.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.6.3 1.1.4 1.6.4zm9.9 1.2c-.6 0-1.2-.1-1.8-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-.9-.9-1.4-.2-.5-.3-1.1-.3-1.8s.1-1.2.3-1.8c.2-.5.5-1 .9-1.4.4-.4.9-.7 1.4-1 .5-.2 1.1-.3 1.8-.3.6 0 1.2.1 1.8.3.5.2 1 .6 1.4 1 .4.4.7.9.9 1.4.2.5.3 1.1.3 1.8s-.1 1.2-.3 1.8c-.2.5-.5 1-.9 1.4-.4.4-.9.7-1.4 1-.6.2-1.1.3-1.8.3zm0-1.2c.6 0 1.1-.1 1.6-.4.5-.3.8-.7 1.1-1.1.3-.5.4-1.1.4-1.7 0-.6-.1-1.2-.4-1.7-.3-.5-.7-.9-1.1-1.1-.5-.3-1-.4-1.6-.4-.6 0-1.1.1-1.6.4-.5.3-.8.7-1.1 1.1-.3.5-.4 1-.4 1.7 0 .6.1 1.2.4 1.7.3.5.7.9 1.1 1.1.5.3 1 .4 1.6.4zm6 1.1v-8.6h3c.5 0 1 .1 1.4.3.4.2.7.5 1 .9.2.4.4.8.4 1.4 0 .3-.1.7-.2 1s-.3.6-.6.8c-.3.2-.6.4-1 .6-.4.1-.8.2-1.2.2h-2.1v-1.2h2.3c.3 0 .5-.1.7-.2.2-.1.4-.3.5-.5.1-.2.2-.5.2-.7 0-.2-.1-.5-.2-.7-.1-.2-.3-.4-.5-.5-.2-.1-.5-.2-.8-.2h-1.7v7.4h-1.2zm2-4h1.5l2.7 3.9v.1H264l-2.6-4zM178.1 219.9c-.5 0-1-.1-1.5-.3-.5-.2-1-.5-1.4-1-.4-.4-.7-1-.8-1.7l1.5-.6c.1.6.4 1 .8 1.4.4.4.9.5 1.4.5.6 0 1.1-.2 1.5-.6.4-.4.6-.9.6-1.5s-.2-1.1-.6-1.5c-.4-.4-.9-.6-1.5-.6-.4 0-.7.1-1 .2-.3.1-.5.4-.7.6l-1.7-.8.7-5.5h5.9v1.6h-4.5l-.4 2.9h.1c.2-.2.5-.3.8-.5.3-.1.7-.2 1.2-.2.6 0 1.2.2 1.7.5s1 .7 1.3 1.3c.3.5.5 1.2.5 1.9s-.2 1.3-.5 1.9c-.3.6-.8 1-1.3 1.3-.7.5-1.4.7-2.1.7zm9.9 0c-.7 0-1.3-.1-1.9-.4-.5-.3-1-.7-1.4-1.2-.4-.5-.7-1.1-.9-1.8-.2-.7-.3-1.4-.3-2.2 0-.8.1-1.6.3-2.2.2-.7.5-1.3.9-1.8s.9-.9 1.4-1.2c.6-.3 1.2-.5 1.9-.5s1.3.2 1.9.5c.6.3 1 .7 1.4 1.2.4.5.7 1.1.9 1.8.2.7.3 1.4.3 2.2 0 .8-.1 1.6-.3 2.2-.2.7-.5 1.3-.9 1.8s-.9.9-1.4 1.2c-.6.2-1.2.4-1.9.4zm.1-1.7c.6 0 1-.2 1.5-.5.4-.4.7-.9 1-1.5.2-.6.3-1.3.3-2.1s-.1-1.5-.3-2.1c-.2-.6-.5-1.1-1-1.5-.4-.4-.9-.5-1.5-.5s-1.1.2-1.5.5c-.4.4-.7.8-.9 1.5-.2.6-.3 1.3-.3 2.1s.1 1.5.3 2.1c.2.6.5 1.1.9 1.5.4.3.9.5 1.5.5zm10.5 1.7c-.7 0-1.3-.1-1.9-.4-.5-.3-1-.7-1.4-1.2-.4-.5-.7-1.1-.9-1.8-.2-.7-.3-1.4-.3-2.2 0-.8.1-1.6.3-2.2.2-.7.5-1.3.9-1.8s.9-.9 1.4-1.2c.6-.3 1.2-.5 1.9-.5s1.3.2 1.9.5c.6.3 1 .7 1.4 1.2.4.5.7 1.1.9 1.8.2.7.3 1.4.3 2.2 0 .8-.1 1.6-.3 2.2-.2.7-.5 1.3-.9 1.8s-.9.9-1.4 1.2c-.6.2-1.2.4-1.9.4zm0-1.7c.6 0 1-.2 1.5-.5.4-.4.7-.9 1-1.5.2-.6.3-1.3.3-2.1s-.1-1.5-.3-2.1c-.2-.6-.5-1.1-1-1.5-.4-.4-.9-.5-1.5-.5s-1.1.2-1.5.5c-.4.4-.7.8-.9 1.5-.2.6-.3 1.3-.3 2.1s.1 1.5.3 2.1c.2.6.5 1.1.9 1.5.4.3.9.5 1.5.5zm10 1.4v-8.2h1.6v1.1h.1c.2-.3.4-.5.6-.7.3-.2.6-.4.9-.5.3-.1.7-.2 1-.2.6 0 1.1.1 1.5.4.4.3.7.7.9 1.1.3-.4.6-.8 1.1-1.1.5-.3 1-.5 1.7-.5 1 0 1.7.3 2.1.9.5.6.7 1.4.7 2.3v5.2h-1.7v-4.9c0-.7-.1-1.1-.4-1.4-.3-.3-.7-.5-1.2-.5-.4 0-.7.1-1 .3-.3.2-.5.5-.7.9-.2.4-.2.8-.2 1.2v4.4h-1.7v-4.9c0-.7-.1-1.1-.4-1.4-.3-.3-.7-.5-1.2-.5-.4 0-.7.1-1 .3-.3.2-.5.5-.7.9-.2.4-.2.8-.2 1.2v4.4h-1.8zm17.2.3c-.6 0-1.2-.1-1.7-.3-.5-.2-.9-.5-1.2-.8-.3-.3-.5-.7-.7-1.1l1.5-.7c.2.4.5.8.8 1 .4.2.8.3 1.2.3.4 0 .8-.1 1.1-.2.3-.2.5-.4.5-.8 0-.2-.1-.4-.2-.6-.1-.1-.3-.3-.6-.4-.2-.1-.5-.2-.8-.2l-1-.2c-.4-.1-.8-.3-1.1-.5-.3-.2-.6-.5-.8-.8-.2-.3-.3-.7-.3-1.1 0-.5.1-.9.4-1.3.3-.4.7-.6 1.1-.8.5-.2 1-.3 1.6-.3.5 0 1 .1 1.4.2.4.1.8.3 1.1.6.3.3.6.6.8 1l-1.5.7c-.2-.4-.4-.6-.7-.8-.3-.1-.6-.2-1-.2s-.7.1-1 .2c-.3.2-.4.4-.4.6 0 .3.1.5.4.7.2.2.5.3.9.4l1.2.3c.8.2 1.4.5 1.8.9.4.4.6.9.6 1.5 0 .5-.2 1-.5 1.4-.3.4-.7.7-1.2.9-.6.2-1.1.4-1.7.4zM69 220v-1.6s.2-.1.4-.4c.2-.2.5-.5.8-.9l1.1-1.1 1-1c.3-.3.5-.6.7-.8.3-.3.5-.6.7-.8.2-.2.3-.5.4-.7.1-.2.1-.5.1-.8 0-.3-.1-.5-.2-.8-.1-.3-.3-.4-.6-.6-.3-.1-.6-.2-1-.2s-.7.1-1 .2c-.3.1-.5.3-.6.6-.1.2-.3.4-.3.7l-1.5-.6c.1-.3.2-.5.4-.8.2-.3.4-.5.7-.8.3-.3.6-.5 1-.6.4-.2.9-.3 1.4-.2.7 0 1.3.2 1.9.5.5.3.9.7 1.2 1.2.3.5.4 1 .4 1.6 0 .5-.1.9-.2 1.3-.2.4-.4.8-.7 1.2-.3.4-.5.7-.8 1l-.5.5c-.2.2-.4.5-.7.7l-.7.7-.6.6-.4.4h4.8v1.6H69zm13.2.2c-.7 0-1.3-.1-1.9-.4-.5-.3-1-.7-1.4-1.2-.4-.5-.7-1.1-.9-1.8-.2-.7-.3-1.4-.3-2.2 0-.8.1-1.6.3-2.2.2-.7.5-1.3.9-1.8s.9-.9 1.4-1.2c.6-.3 1.2-.5 1.9-.5s1.3.2 1.9.5c.6.3 1 .7 1.4 1.2.4.5.7 1.1.9 1.8.2.7.3 1.4.3 2.2 0 .8-.1 1.6-.3 2.2-.2.7-.5 1.3-.9 1.8s-.9.9-1.4 1.2c-.6.3-1.2.4-1.9.4zm0-1.6c.6 0 1-.2 1.5-.5.4-.4.7-.9 1-1.5.2-.6.3-1.3.3-2.1s-.1-1.5-.3-2.1c-.2-.6-.5-1.1-1-1.5-.4-.4-.9-.5-1.5-.5s-1.1.2-1.5.5c-.4.4-.7.8-.9 1.5-.2.6-.3 1.3-.3 2.1s.1 1.5.3 2.1c.2.6.5 1.1.9 1.5.4.3.9.5 1.5.5zm10.5 1.6c-.7 0-1.3-.1-1.9-.4-.5-.3-1-.7-1.4-1.2-.4-.5-.7-1.1-.9-1.8-.2-.7-.3-1.4-.3-2.2 0-.8.1-1.6.3-2.2.2-.7.5-1.3.9-1.8s.9-.9 1.4-1.2c.6-.3 1.2-.5 1.9-.5s1.3.2 1.9.5c.6.3 1 .7 1.4 1.2.4.5.7 1.1.9 1.8.2.7.3 1.4.3 2.2 0 .8-.1 1.6-.3 2.2-.2.7-.5 1.3-.9 1.8s-.9.9-1.4 1.2c-.6.3-1.2.4-1.9.4zm0-1.6c.6 0 1-.2 1.5-.5.4-.4.7-.9 1-1.5.2-.6.3-1.3.3-2.1s-.1-1.5-.3-2.1c-.2-.6-.5-1.1-1-1.5-.4-.4-.9-.5-1.5-.5s-1.1.2-1.5.5c-.4.4-.7.8-.9 1.5-.2.6-.3 1.3-.3 2.1s.1 1.5.3 2.1c.2.6.5 1.1.9 1.5.5.3 1 .5 1.5.5zm10 1.4v-8.2h1.6v1.1h.1c.2-.3.4-.5.6-.7.3-.2.6-.4.9-.5.3-.1.7-.2 1-.2.6 0 1.1.1 1.5.4.4.3.7.7.9 1.1.3-.4.6-.8 1.1-1.1.5-.3 1-.5 1.7-.5 1 0 1.7.3 2.1.9.5.6.7 1.4.7 2.3v5.2h-1.7v-4.9c0-.7-.1-1.1-.4-1.4-.3-.3-.7-.5-1.2-.5-.4 0-.7.1-1 .3-.3.2-.5.5-.7.9-.2.4-.2.8-.2 1.2v4.4H108v-4.9c0-.7-.1-1.1-.4-1.4-.3-.3-.7-.5-1.2-.5-.4 0-.7.1-1 .3-.3.2-.5.5-.7.9-.2.4-.2.8-.2 1.2v4.4h-1.8zm17.2.2c-.6 0-1.2-.1-1.7-.3-.5-.2-.9-.5-1.2-.8-.3-.3-.5-.7-.7-1.1l1.5-.7c.2.4.5.8.8 1 .4.2.8.3 1.2.3.4 0 .8-.1 1.1-.2.3-.2.5-.4.5-.8 0-.2-.1-.4-.2-.6-.1-.1-.3-.3-.6-.4-.2-.1-.5-.2-.8-.2l-1-.2c-.4-.1-.8-.3-1.1-.5-.3-.2-.6-.5-.8-.8-.2-.3-.3-.7-.3-1.1 0-.5.1-.9.4-1.3.3-.4.7-.6 1.1-.8.5-.2 1-.3 1.6-.3.5 0 1 .1 1.4.2.4.1.8.3 1.1.6.3.3.6.6.8 1l-1.5.7c-.2-.4-.4-.6-.7-.8-.3-.1-.6-.2-1-.2s-.7.1-1 .2c-.3.2-.4.4-.4.6 0 .3.1.5.4.7.2.2.5.3.9.4l1.2.3c.8.2 1.4.5 1.8.9.4.4.6.9.6 1.5 0 .5-.2 1-.5 1.4-.3.4-.7.7-1.2.9-.5.3-1.1.4-1.7.4zM42.4 96.3V82h1.7v14.3h-1.7zm4.6 0V86.1h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V90c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7H47zm10-10.2h6v1.5h-6v-1.5zm1.8 7.5V83.3h1.7v10c0 .5.1.9.3 1.2s.6.4 1.1.4c.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.5-.6-.7-1.3-.7-2.2zm10.3 3c-1 0-1.9-.2-2.6-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.6-1.7-.6-2.8 0-1 .2-1.9.6-2.7s1-1.5 1.7-2 1.6-.8 2.6-.8 1.9.2 2.6.7c.7.4 1.3 1.1 1.7 1.8.4.8.6 1.7.6 2.7v.5H65V90h7c0-.3-.1-.6-.2-.9-.1-.3-.3-.6-.5-.9-.2-.3-.6-.5-.9-.7-.4-.2-.8-.3-1.4-.3-.7 0-1.2.2-1.7.5s-.8.8-1.1 1.4c-.3.6-.4 1.2-.4 2 0 .9.2 1.6.5 2.2.3.6.8 1 1.3 1.3.5.3 1.1.4 1.7.4.8 0 1.4-.2 1.8-.5.5-.4.9-.8 1.2-1.3l1.4.7c-.4.8-1 1.4-1.7 1.9-.9.6-1.8.8-2.9.8zm6.7-.3V86.1h1.6v1.6h.1c.1-.4.4-.7.7-1 .3-.3.7-.5 1.1-.7s.8-.2 1.2-.2h.7c.2 0 .3.1.5.2v1.8c-.2-.1-.5-.2-.7-.2-.2-.1-.5-.1-.7-.1-.5 0-1 .1-1.4.4-.4.3-.7.7-1 1.1-.2.5-.4 1-.4 1.5v5.7h-1.7zm10.4.3c-.8 0-1.4-.1-2-.4s-1-.7-1.3-1.2c-.3-.5-.5-1.1-.5-1.8 0-.8.2-1.4.6-1.9.4-.5.9-.9 1.5-1.2.7-.3 1.4-.4 2.2-.4.4 0 .9 0 1.2.1s.7.2 1 .3c.3.1.5.2.7.3v-.6c0-.8-.3-1.4-.8-1.8-.5-.5-1.2-.7-2-.7-.6 0-1.1.1-1.6.4-.5.2-.9.6-1.1 1l-1.3-1c.3-.4.6-.7 1-1 .4-.3.9-.5 1.4-.7.5-.2 1.1-.2 1.6-.2 1.4 0 2.5.4 3.2 1.1.8.7 1.2 1.7 1.2 3v6.5h-1.6v-1.5h-.1c-.2.3-.4.6-.7.8s-.7.5-1.1.7c-.5.2-1 .2-1.5.2zm.1-1.5c.6 0 1.1-.1 1.6-.4.5-.3.9-.7 1.2-1.2.3-.5.5-1 .5-1.6-.3-.2-.7-.4-1.2-.5s-1-.2-1.5-.2c-1 0-1.7.2-2.1.6-.4.4-.7.9-.7 1.5s.2 1 .6 1.4 1 .4 1.6.4zm11.8 1.5c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-2 .7-2.8.4-.8 1.1-1.5 1.8-1.9.8-.5 1.7-.7 2.7-.7 1.1 0 2.1.3 2.8.8.7.5 1.3 1.2 1.6 2l-1.5.6c-.2-.6-.6-1.1-1.1-1.4-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.7.5s-.9.8-1.2 1.4c-.3.6-.5 1.3-.5 2 0 .8.2 1.4.5 2 .3.6.7 1 1.2 1.4.5.3 1.1.5 1.7.5.7 0 1.3-.2 1.9-.5s.9-.8 1.2-1.4l1.5.6c-.3.8-.9 1.5-1.6 2s-1.9.8-3 .8zm5.5-10.5h6v1.5h-6v-1.5zm1.7 7.5V83.3h1.7v10c0 .5.1.9.3 1.2s.6.4 1.1.4c.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8s-.7-1.3-.7-2.2zm6.5 2.7V86.1h1.7v10.2h-1.7zm.9-12c-.3 0-.6-.1-.9-.4s-.4-.5-.4-.9c0-.3.1-.6.4-.9.2-.2.5-.4.9-.4.3 0 .6.1.9.4.2.2.4.5.4.9 0 .3-.1.6-.4.9-.3.2-.6.4-.9.4zm8.1 12.3c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-1.9.7-2.8.4-.8 1.1-1.5 1.8-2 .8-.5 1.7-.7 2.7-.7 1 0 1.9.2 2.7.7.8.5 1.4 1.1 1.9 2s.7 1.7.7 2.7c0 1-.2 1.9-.7 2.8-.4.8-1.1 1.5-1.9 1.9-.8.6-1.7.8-2.7.8zm0-1.5c.6 0 1.2-.2 1.7-.5s1-.8 1.3-1.3c.3-.6.5-1.3.5-2.1s-.2-1.5-.5-2.1-.8-1-1.3-1.3c-.5-.3-1.1-.5-1.7-.5-.6 0-1.2.2-1.7.5s-1 .7-1.3 1.3-.5 1.3-.5 2.1.2 1.5.5 2.1c.3.6.8 1 1.3 1.3.5.4 1.1.5 1.7.5zm7 1.2V86.1h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V90c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7h-1.7zM143 86.1h6v1.5h-6v-1.5zm1.7 7.5V83.3h1.7v10c0 .5.1.9.3 1.2s.6.4 1.1.4c.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.6-.7-1.3-.7-2.2zm10.5 3c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-1.9.7-2.8.4-.8 1.1-1.5 1.8-2 .8-.5 1.7-.7 2.7-.7 1 0 1.9.2 2.7.7.8.5 1.4 1.1 1.9 2 .4.8.7 1.7.7 2.7 0 1-.2 1.9-.7 2.8-.4.8-1.1 1.5-1.9 1.9-.8.6-1.7.8-2.7.8zm0-1.5c.6 0 1.2-.2 1.7-.5s1-.8 1.3-1.3c.3-.6.5-1.3.5-2.1s-.2-1.5-.5-2.1c-.3-.6-.8-1-1.3-1.3-.5-.3-1.1-.5-1.7-.5-.6 0-1.2.2-1.7.5s-1 .7-1.3 1.3c-.3.6-.5 1.3-.5 2.1s.2 1.5.5 2.1c.3.6.8 1 1.3 1.3.5.4 1.1.5 1.7.5zm12.2 1.2V82h2.1l7.2 11.4h.1l-.1-2.8V82h1.7v14.3h-1.8l-7.5-11.9h-.1l.1 2.8v9.2h-1.7zm18.2.3c-1 0-1.9-.2-2.6-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.6-1.7-.6-2.8 0-1 .2-1.9.6-2.7.4-.8 1-1.5 1.7-2s1.6-.8 2.6-.8 1.9.2 2.6.7c.7.4 1.3 1.1 1.7 1.8.4.8.6 1.7.6 2.7v.5h-8.8V90h7c0-.3-.1-.6-.2-.9-.1-.3-.3-.6-.5-.9-.2-.3-.6-.5-.9-.7-.4-.2-.8-.3-1.4-.3-.7 0-1.2.2-1.7.5s-.8.8-1.1 1.4c-.3.6-.4 1.2-.4 2 0 .9.2 1.6.5 2.2.3.6.8 1 1.3 1.3.5.3 1.1.4 1.7.4.8 0 1.4-.2 1.8-.5.5-.4.9-.8 1.2-1.3l1.4.7c-.4.8-1 1.4-1.7 1.9-1 .6-1.9.8-3 .8zm5.5-.3 4.1-5.9h.2l2.9-4.3h2l-4 5.6h-.1l-3.1 4.6h-2zm.1-10.2h1.9l3.2 4.5h.1l4 5.7h-2l-3-4.5h-.1l-4.1-5.7zm9.9 0h6v1.5h-6v-1.5zm1.8 7.5V83.3h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.6-.7-1.3-.7-2.2zm11.2 2.7V82h4.8c.8 0 1.5.2 2.2.5.7.4 1.2.8 1.6 1.5.4.6.6 1.4.6 2.2 0 .8-.2 1.6-.6 2.2-.4.6-.9 1.1-1.6 1.5-.7.4-1.4.5-2.2.5H215v-1.6h4c.6 0 1-.1 1.4-.4.4-.3.7-.6.9-1 .2-.4.3-.8.3-1.2s-.1-.8-.3-1.2c-.2-.4-.5-.7-.9-1-.4-.3-.9-.4-1.4-.4h-3.2v12.7h-1.7zm14.1.3c-.8 0-1.4-.1-2-.4s-1-.7-1.3-1.2-.5-1.1-.5-1.8c0-.8.2-1.4.6-1.9s.9-.9 1.5-1.2c.7-.3 1.4-.4 2.2-.4.4 0 .9 0 1.2.1s.7.2 1 .3c.3.1.5.2.7.3v-.6c0-.8-.3-1.4-.8-1.8-.5-.5-1.2-.7-2-.7-.6 0-1.1.1-1.6.4-.5.2-.9.6-1.1 1l-1.3-1c.3-.4.6-.7 1-1 .4-.3.9-.5 1.4-.7s1.1-.2 1.6-.2c1.4 0 2.5.4 3.2 1.1.8.7 1.2 1.7 1.2 3v6.5h-1.6v-1.5h-.1c-.2.3-.4.6-.7.8s-.7.5-1.1.7c-.6.2-1 .2-1.5.2zm.1-1.5c.6 0 1.1-.1 1.6-.4.5-.3.9-.7 1.2-1.2.3-.5.5-1 .5-1.6-.3-.2-.7-.4-1.2-.5s-1-.2-1.5-.2c-1 0-1.7.2-2.1.6-.4.4-.7.9-.7 1.5s.2 1 .6 1.4 1 .4 1.6.4zm7.4 1.2V86.1h1.7v10.2h-1.7zm.8-12c-.3 0-.6-.1-.9-.4s-.4-.5-.4-.9c0-.3.1-.6.4-.9.2-.2.5-.4.9-.4.3 0 .6.1.9.4.2.2.4.5.4.9 0 .3-.1.6-.4.9-.2.2-.5.4-.9.4zm3.5 12V86.1h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V90c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7H240zm10.1-10.2h6v1.5h-6v-1.5zm1.7 7.5V83.3h1.7v10c0 .5.1.9.3 1.2s.6.4 1.1.4c.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8s-.7-1.3-.7-2.2zM96 172.8c-2.4 0-4.3 1.9-4.3 4.3 0 2 1.4 3.7 3.3 4.2v20.1h2v-20.1c1.9-.5 3.3-2.1 3.3-4.2 0-2.3-1.9-4.3-4.3-4.3zM201.6 172.6c-2.4 0-4.3 1.9-4.3 4.3 0 2 1.4 3.7 3.3 4.2v19.8h2v-19.8c1.9-.5 3.3-2.1 3.3-4.2 0-2.4-1.9-4.3-4.3-4.3z"></path></svg>
  <svg title="A diagram of the INP thresholds. An INP at or below 200 milliseconds is considered good. Between 200 and 500 milliseconds suggests a page's responsiveness needs improvement. Anything over 500 milliseconds means that a page's responsiveness is poor." class="inp-desktop" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 658.4 113.6" style="enable-background:new 0 0 658.4 113.6" xml:space="preserve"><style>.st0{fill: #2979FF} v.st1{fill-rule: evenodd;clip-rule: evenodd;fill: #0CCE6B} .st2 {fill: #191919} .st3{fill-rule: evenodd;clip-rule: evenodd;fill: #FFA400} .st4{fill-rule: evenodd;clip-rule: evenodd;fill: #FF4E42} @media screen and (prefers-color-scheme: light){.st2{fill: #191919}} @media screen and (prefers-color-scheme: dark){.st2{fill: #fff}} [data-user-theme=dark] .st2{fill: #fff}</style><path class="st0" d="M30.2 68.7V0h13v68.7h-13zm28.7 0V0H74l27.7 46.1h.8l-.8-13.2V0h12.9v68.7H101L71.7 20.1h-.8l.8 13.2v35.4H58.9zm71.3 0V0h24.2c4.4 0 8.4.9 11.9 2.7 3.5 1.8 6.3 4.4 8.4 7.6 2.1 3.3 3.1 7 3.1 11.3 0 4.3-1 8.1-3.1 11.4-2.1 3.3-4.9 5.8-8.4 7.7-3.5 1.8-7.5 2.7-11.9 2.7h-17V31.2h17.4c2.2 0 4.1-.4 5.7-1.3 1.5-.9 2.7-2.1 3.5-3.5.8-1.4 1.2-3 1.2-4.7 0-1.7-.4-3.2-1.2-4.6-.8-1.4-1.9-2.6-3.5-3.5-1.5-.9-3.4-1.3-5.7-1.3h-11.6v56.5h-13z"></path><path class="st1" d="M303.2 14.9h115.2v43.2H303.2V14.9z"></path><path class="st2" d="M345.3 41.5c-.7 0-1.3-.1-1.9-.4-.6-.2-1.1-.6-1.6-1s-.8-1-1.1-1.6c-.3-.6-.4-1.3-.4-2s.1-1.4.4-2c.3-.6.6-1.1 1.1-1.6.5-.5 1-.8 1.6-1 .6-.2 1.2-.4 1.9-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1l-1 1c-.2-.2-.4-.4-.7-.6-.3-.2-.5-.3-.9-.4-.3-.1-.6-.1-1-.1-.5 0-.9.1-1.3.3-.4.2-.8.4-1.1.7-.3.3-.6.7-.8 1.1-.2.4-.3.9-.3 1.5s.1 1 .3 1.5c.2.4.5.8.8 1.1.3.3.7.6 1.1.7.4.2.9.2 1.3.2s.8-.1 1.2-.2c.4-.1.7-.3 1-.5.3-.2.5-.5.7-.8.2-.3.3-.7.3-1.1h-3.3v-1.3h4.6v.8c0 .7-.1 1.3-.4 1.9-.2.6-.6 1-1 1.5-.4.4-.9.7-1.5.9-.3.2-.9.3-1.6.3zm10.5 0c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1-1.2.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3s.5-1.2.5-1.9-.2-1.3-.5-1.9-.7-1-1.2-1.3c-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.8.5-.5.3-.9.7-1.2 1.3s-.5 1.2-.5 1.9.2 1.3.5 1.9.7 1 1.2 1.3c.6.4 1.2.5 1.8.5zm11 1.4c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1-1.3.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3s.5-1.2.5-1.9-.2-1.3-.5-1.9-.7-1-1.2-1.3c-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.8.5-.5.3-.9.7-1.2 1.3s-.5 1.2-.5 1.9.2 1.3.5 1.9.7 1 1.2 1.3c.6.4 1.2.5 1.8.5zm6.6 1.2v-9.5h3c1 0 1.9.2 2.6.6.7.4 1.3 1 1.7 1.7s.6 1.5.6 2.5c0 .9-.2 1.8-.6 2.5s-1 1.3-1.7 1.7c-.7.4-1.6.6-2.6.6h-3zm1.5-1.4h1.5c.7 0 1.3-.1 1.8-.4.5-.3.9-.7 1.2-1.2.3-.5.4-1.1.4-1.8s-.1-1.3-.4-1.8c-.3-.5-.7-.9-1.2-1.2-.5-.3-1.1-.4-1.8-.4h-1.5v6.8z"></path><path class="st3" d="M418.4 14.9h124.8v43.2H418.4V14.9z"></path><path class="st2" d="M460.8 33.3v-9.5h1.7l4.3 7h.1l-.1-1.8v-5.2h1.5v9.5h-1.5l-4.5-7.4h-.1l.1 1.8v5.5h-1.5zm9.7 0v-9.5h5.8v1.4H472V32h4.3v1.4h-5.8zm.7-4.1v-1.4h4.6v1.4h-4.6zm6.9 4.1v-9.5h5.8v1.4h-4.3V32h4.3v1.4h-5.8zm.8-4.1v-1.4h4.6v1.4h-4.6zm6.8 4.1v-9.5h3c1 0 1.9.2 2.6.6.7.4 1.3 1 1.7 1.7s.6 1.5.6 2.5c0 .9-.2 1.8-.6 2.5s-1 1.3-1.7 1.7c-.7.4-1.6.6-2.6.6h-3zm1.5-1.4h1.5c.7 0 1.3-.1 1.8-.4.5-.3.9-.7 1.2-1.2.3-.5.4-1.1.4-1.8s-.1-1.3-.4-1.8c-.3-.5-.7-.9-1.2-1.2-.5-.3-1.1-.4-1.8-.4h-1.5v6.8zm10.9 1.6c-.5 0-1-.1-1.5-.3-.5-.2-.9-.5-1.2-.9-.3-.4-.6-.9-.8-1.5l1.4-.6c.1.5.4.9.8 1.3.4.3.8.5 1.3.5.3 0 .6-.1.8-.2.3-.1.5-.3.6-.5.2-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.6-.5-.3-.2-.7-.3-1.1-.5l-.6-.2c-.3-.1-.5-.2-.8-.4-.3-.1-.5-.3-.7-.5-.2-.2-.4-.5-.5-.7-.1-.3-.2-.6-.2-1 0-.5.1-.9.4-1.3.2-.4.6-.7 1-.9.4-.2 1-.4 1.6-.4.6 0 1.1.1 1.5.3.4.2.7.5 1 .8.2.3.4.6.5.9l-1.3.6c-.1-.2-.2-.4-.3-.5-.1-.2-.3-.3-.5-.4-.2-.1-.5-.2-.8-.2-.3 0-.5.1-.8.2-.2.1-.4.2-.6.4-.1.2-.2.4-.2.6 0 .3.1.6.4.8s.7.4 1.2.6l.6.2c.3.1.6.2.9.4.3.1.6.3.8.6.2.2.4.5.6.8.1.3.2.7.2 1.2s-.1.9-.3 1.3c-.2.4-.4.6-.8.9-.3.2-.7.4-1 .5-.3 0-.7.1-1 .1zM434.4 49.3v-9.5h1.5v9.5h-1.5zm3.6 0v-9.5h2l2.8 7.3h.1l2.8-7.3h2v9.5h-1.4v-5.4l.1-1.7h-.1l-2.8 7.1h-1.2l-2.8-7.1h-.1l.1 1.7v5.4H438zm11.7 0v-9.5h3.3c.6 0 1.1.1 1.6.4.5.2.9.6 1.1 1 .3.4.4.9.4 1.5s-.1 1.1-.4 1.5c-.3.4-.7.8-1.1 1-.5.2-1 .4-1.6.4h-2.5v-1.4h2.5c.4 0 .7-.1.9-.2.2-.1.4-.3.5-.6.1-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.2-.5-.2-.9-.2h-1.8v8.2h-1.5zm8 0v-9.5h3.3c.6 0 1.1.1 1.6.4.5.2.8.6 1.1 1s.4.9.4 1.5c0 .4-.1.8-.2 1.1s-.4.7-.7.9c-.3.3-.6.5-1 .6-.4.1-.9.2-1.4.2h-2.3v-1.3h2.5c.3 0 .6-.1.8-.2.2-.1.4-.3.6-.6.2-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.1-.5-.2-.9-.2h-1.9v8.2h-1.4zm2.2-4.4h1.7l3 4.3v.1h-1.7l-3-4.4zm10.3 4.6c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1c-.6.3-1.2.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3.3-.5.5-1.2.5-1.9s-.2-1.3-.5-1.9c-.3-.5-.7-1-1.2-1.3-.5-.3-1.1-.5-1.8-.5s-1.2.2-1.8.5c-.5.3-.9.7-1.2 1.3-.3.5-.5 1.2-.5 1.9s.2 1.3.5 1.9c.3.5.7 1 1.2 1.3.6.4 1.2.5 1.8.5zm8.8 1.2-3.4-9.5h1.6l2.2 6.3.3 1.1h.1l.4-1.1 2.2-6.3h1.6l-3.5 9.5H479zm6.2 0v-9.5h5.8v1.4h-4.3V48h4.3v1.4h-5.8zm.8-4.1v-1.4h4.6v1.4H486zm6.8 4.1v-9.5h2l2.8 7.3h.1l2.8-7.3h2v9.5H501v-5.4l.1-1.7h-.1l-2.8 7.1H497l-2.8-7.1h-.1l.1 1.7v5.4h-1.4zm11.8 0v-9.5h5.8v1.4h-4.3V48h4.3v1.4h-5.8zm.8-4.1v-1.4h4.6v1.4h-4.6zm6.8 4.1v-9.5h1.7l4.3 7h.1l-.1-1.8v-5.2h1.5v9.5h-1.5l-4.5-7.4h-.1l.1 1.8v5.5h-1.5zm11.7 0v-8.8h1.5v8.8h-1.5zm-2.7-8.2v-1.4h6.8v1.4h-6.8z"></path><path class="st4" d="M543.2 14.9h115.2v43.2H543.2V14.9z"></path><path class="st2" d="M582.9 41.3v-9.5h3.3c.6 0 1.1.1 1.6.4.5.2.9.6 1.1 1 .3.4.4.9.4 1.5s-.1 1.1-.4 1.5c-.3.4-.7.8-1.1 1-.5.2-1 .4-1.6.4h-2.5v-1.4h2.5c.4 0 .7-.1.9-.2.2-.1.4-.3.5-.6.1-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.2-.5-.2-.9-.2h-1.8v8.2h-1.5zm12.3.2c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1c-.7.3-1.3.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3.3-.5.5-1.2.5-1.9s-.2-1.3-.5-1.9c-.3-.5-.7-1-1.2-1.3-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.8.5-.5.3-.9.7-1.2 1.3-.3.5-.5 1.2-.5 1.9s.2 1.3.5 1.9c.3.5.7 1 1.2 1.3.6.4 1.1.5 1.8.5zm10.9 1.4c-.7 0-1.4-.1-2-.4-.6-.3-1.1-.6-1.6-1.1-.4-.5-.8-1-1-1.6-.2-.6-.4-1.2-.4-1.9s.1-1.3.4-1.9c.2-.6.6-1.1 1-1.6s1-.8 1.6-1.1c.6-.3 1.3-.4 2-.4s1.4.1 2 .4c.6.2 1.1.6 1.6 1.1.5.5.8 1 1 1.6.2.6.4 1.2.4 1.9s-.1 1.3-.4 1.9c-.2.6-.6 1.1-1 1.6s-1 .8-1.6 1.1c-.6.3-1.3.4-2 .4zm0-1.4c.6 0 1.2-.2 1.8-.5.5-.3.9-.7 1.2-1.3.3-.5.5-1.2.5-1.9s-.2-1.3-.5-1.9c-.3-.5-.7-1-1.2-1.3-.5-.3-1.1-.5-1.8-.5s-1.2.2-1.8.5c-.5.3-.9.7-1.2 1.3-.3.5-.5 1.2-.5 1.9s.2 1.3.5 1.9c.3.5.7 1 1.2 1.3.6.4 1.2.5 1.8.5zm6.7 1.2v-9.5h3.3c.6 0 1.1.1 1.6.4.5.2.8.6 1.1 1s.4.9.4 1.5c0 .4-.1.8-.2 1.1s-.4.7-.7.9c-.3.3-.6.5-1 .6-.4.1-.9.2-1.4.2h-2.3v-1.3h2.5c.3 0 .6-.1.8-.2.2-.1.4-.3.6-.6.2-.2.2-.5.2-.8 0-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.1-.5-.2-.9-.2h-1.9v8.2h-1.4zm2.2-4.4h1.7l3 4.3v.1H618l-3-4.4zM517.7 102.9c-.6 0-1.1-.1-1.7-.3-.6-.2-1-.6-1.5-1-.4-.5-.7-1.1-.9-1.8l1.7-.7c.2.6.4 1.1.8 1.5.4.4.9.6 1.6.6.7 0 1.2-.2 1.6-.6.4-.4.7-1 .7-1.6 0-.7-.2-1.2-.6-1.6-.4-.4-1-.7-1.6-.7-.4 0-.8.1-1.1.2-.3.2-.6.4-.8.7l-1.8-.8.7-6h6.4v1.7h-4.9l-.4 3.2h.1c.3-.2.6-.4.9-.5.4-.1.8-.2 1.3-.2.7 0 1.3.2 1.9.5.6.3 1 .8 1.4 1.4.4.6.5 1.3.5 2 0 .8-.2 1.5-.5 2.1-.4.6-.8 1.1-1.5 1.4-.7.3-1.5.5-2.3.5zm10.8 0c-.7 0-1.4-.2-2-.5-.6-.3-1.1-.8-1.5-1.3-.4-.6-.8-1.2-1-2-.2-.8-.3-1.6-.3-2.4 0-.9.1-1.7.3-2.5.2-.8.6-1.4 1-2 .4-.6.9-1 1.5-1.3.6-.3 1.3-.5 2-.5.8 0 1.4.2 2 .5.6.3 1.1.8 1.5 1.3.4.6.8 1.2 1 2 .2.8.3 1.6.3 2.5 0 .9-.1 1.7-.3 2.4-.2.8-.5 1.4-1 2-.4.6-.9 1-1.5 1.3-.6.3-1.2.5-2 .5zm0-1.8c.6 0 1.1-.2 1.6-.6.4-.4.8-.9 1-1.6.2-.7.4-1.4.4-2.2 0-.8-.1-1.6-.4-2.3-.2-.7-.6-1.2-1-1.6-.4-.4-1-.6-1.6-.6-.6 0-1.2.2-1.6.6-.4.4-.8.9-1 1.6-.2.7-.4 1.4-.4 2.3 0 .8.1 1.6.4 2.2.2.7.6 1.2 1 1.6.5.4 1 .6 1.6.6zm11.4 1.8c-.7 0-1.4-.2-2-.5-.6-.3-1.1-.8-1.5-1.3-.4-.6-.8-1.2-1-2-.2-.8-.3-1.6-.3-2.4 0-.9.1-1.7.3-2.5.2-.8.6-1.4 1-2 .4-.6.9-1 1.5-1.3.6-.3 1.3-.5 2-.5.8 0 1.4.2 2 .5.6.3 1.1.8 1.5 1.3.4.6.8 1.2 1 2 .2.8.3 1.6.3 2.5 0 .9-.1 1.7-.3 2.4-.2.8-.5 1.4-1 2-.4.6-.9 1-1.5 1.3-.5.3-1.2.5-2 .5zm.1-1.8c.6 0 1.1-.2 1.6-.6.4-.4.8-.9 1-1.6.2-.7.4-1.4.4-2.2 0-.8-.1-1.6-.4-2.3-.2-.7-.6-1.2-1-1.6-.4-.4-1-.6-1.6-.6-.6 0-1.2.2-1.6.6-.4.4-.8.9-1 1.6-.2.7-.4 1.4-.4 2.3 0 .8.1 1.6.4 2.2.2.7.6 1.2 1 1.6.4.4.9.6 1.6.6zm10.8 1.5v-8.8h1.8V95h.1c.2-.3.4-.5.7-.8s.6-.4.9-.5c.4-.1.7-.2 1.1-.2.7 0 1.2.2 1.7.5s.8.7 1 1.2c.3-.5.7-.8 1.2-1.2.5-.3 1.1-.5 1.8-.5 1 0 1.8.3 2.3 1 .5.6.8 1.5.8 2.5v5.7h-1.9v-5.4c0-.7-.2-1.2-.5-1.5-.3-.3-.7-.5-1.3-.5-.4 0-.8.1-1.1.4-.3.2-.6.6-.8 1s-.3.9-.3 1.3v4.7h-1.9v-5.4c0-.7-.2-1.2-.5-1.5-.3-.3-.8-.5-1.3-.5-.4 0-.8.1-1.1.4-.3.2-.6.6-.7 1s-.3.9-.3 1.3v4.7h-1.7zm18.6.3c-.7 0-1.3-.1-1.8-.3-.5-.2-.9-.5-1.3-.9-.3-.4-.6-.8-.7-1.2l1.7-.7c.2.5.5.8.9 1.1.4.2.8.4 1.3.4s.9-.1 1.2-.2c.3-.2.5-.4.5-.8 0-.2-.1-.5-.2-.6s-.4-.3-.6-.4l-.9-.3-1.1-.2c-.4-.1-.8-.3-1.2-.5-.4-.2-.7-.5-.9-.9-.2-.4-.3-.8-.3-1.2 0-.5.2-1 .5-1.4.3-.4.7-.7 1.2-.9.5-.2 1.1-.3 1.7-.3.6 0 1.1.1 1.5.2.5.1.9.3 1.2.6.3.3.6.6.8 1l-1.6.7c-.2-.4-.5-.7-.8-.8-.3-.2-.7-.2-1.1-.2-.4 0-.8.1-1.1.3-.3.2-.4.4-.4.7 0 .3.1.5.4.7.3.2.6.3 1 .4l1.3.3c.9.2 1.5.6 2 1 .4.4.7 1 .7 1.6 0 .6-.2 1.1-.5 1.5-.3.4-.8.7-1.3 1-.8.2-1.5.3-2.1.3zM389.2 102.6v-1.8l.4-.4.9-.9c.4-.4.7-.8 1.1-1.2l1.1-1.1.8-.8c.3-.3.6-.6.8-.9.2-.3.3-.5.4-.8.1-.2.1-.5.1-.8 0-.3-.1-.6-.2-.8-.1-.3-.4-.5-.7-.6-.3-.2-.6-.2-1.1-.2-.4 0-.7.1-1 .2-.3.2-.5.4-.7.6-.2.2-.3.5-.3.7l-1.7-.7c.1-.3.2-.6.4-.9.2-.3.4-.6.8-.9.3-.3.7-.5 1.1-.7.4-.2.9-.3 1.5-.3.8 0 1.4.2 2 .5.6.3 1 .7 1.3 1.2.3.5.5 1.1.5 1.7 0 .5-.1 1-.3 1.5-.2.5-.4.9-.7 1.3-.3.4-.6.7-.9 1-.2.1-.4.3-.6.6-.2.2-.5.5-.7.8l-.8.8-.7.7-.4.4h5.2v1.7h-7.6zm14.2.3c-.7 0-1.4-.2-2-.5-.6-.3-1.1-.8-1.5-1.3-.4-.6-.8-1.2-1-2-.2-.8-.3-1.6-.3-2.4 0-.9.1-1.7.3-2.5.2-.8.6-1.4 1-2 .4-.6.9-1 1.5-1.3.6-.3 1.3-.5 2-.5.8 0 1.4.2 2 .5.6.3 1.1.8 1.5 1.3.4.6.8 1.2 1 2 .2.8.3 1.6.3 2.5 0 .9-.1 1.7-.3 2.4-.2.8-.5 1.4-1 2-.4.6-.9 1-1.5 1.3-.5.3-1.2.5-2 .5zm0-1.8c.6 0 1.1-.2 1.6-.6.4-.4.8-.9 1-1.6.2-.7.4-1.4.4-2.2 0-.8-.1-1.6-.4-2.3-.2-.7-.6-1.2-1-1.6-.4-.4-1-.6-1.6-.6-.6 0-1.2.2-1.6.6-.4.4-.8.9-1 1.6-.2.7-.4 1.4-.4 2.3 0 .8.1 1.6.4 2.2.2.7.6 1.2 1 1.6.5.4 1 .6 1.6.6zm11.5 1.8c-.7 0-1.4-.2-2-.5-.6-.3-1.1-.8-1.5-1.3-.4-.6-.8-1.2-1-2-.2-.8-.3-1.6-.3-2.4 0-.9.1-1.7.3-2.5.2-.8.6-1.4 1-2 .4-.6.9-1 1.5-1.3.6-.3 1.3-.5 2-.5.8 0 1.4.2 2 .5.6.3 1.1.8 1.5 1.3.4.6.8 1.2 1 2 .2.8.3 1.6.3 2.5 0 .9-.1 1.7-.3 2.4-.2.8-.5 1.4-1 2-.4.6-.9 1-1.5 1.3-.6.3-1.3.5-2 .5zm0-1.8c.6 0 1.1-.2 1.6-.6.4-.4.8-.9 1-1.6.2-.7.4-1.4.4-2.2 0-.8-.1-1.6-.4-2.3-.2-.7-.6-1.2-1-1.6-.4-.4-1-.6-1.6-.6-.6 0-1.2.2-1.6.6-.4.4-.8.9-1 1.6-.2.7-.4 1.4-.4 2.3 0 .8.1 1.6.4 2.2.2.7.6 1.2 1 1.6.4.4.9.6 1.6.6zm10.8 1.5v-8.8h1.8V95h.1c.2-.3.4-.5.7-.8s.6-.4.9-.5c.4-.1.7-.2 1.1-.2.7 0 1.2.2 1.7.5s.8.7 1 1.2c.3-.5.7-.8 1.2-1.2.5-.3 1.1-.5 1.8-.5 1 0 1.8.3 2.3 1 .5.6.8 1.5.8 2.5v5.7h-1.9v-5.4c0-.7-.2-1.2-.5-1.5-.3-.3-.7-.5-1.3-.5-.4 0-.8.1-1.1.4-.3.2-.6.6-.8 1s-.3.9-.3 1.3v4.7h-1.9v-5.4c0-.7-.2-1.2-.5-1.5-.3-.3-.8-.5-1.3-.5-.4 0-.8.1-1.1.4-.3.2-.6.6-.7 1s-.3.9-.3 1.3v4.7h-1.7zm18.6.3c-.7 0-1.3-.1-1.8-.3-.5-.2-.9-.5-1.3-.9-.3-.4-.6-.8-.7-1.2l1.7-.7c.2.5.5.8.9 1.1.4.2.8.4 1.3.4s.9-.1 1.2-.2c.3-.2.5-.4.5-.8 0-.2-.1-.5-.2-.6-.2-.2-.4-.3-.6-.4l-.9-.3-1.1-.2c-.4-.1-.8-.3-1.2-.5-.4-.2-.7-.5-.9-.9-.2-.4-.3-.8-.3-1.2 0-.5.2-1 .5-1.4.3-.4.7-.7 1.2-.9.5-.2 1.1-.3 1.7-.3.6 0 1.1.1 1.5.2.5.1.9.3 1.2.6.3.3.6.6.8 1l-1.6.7c-.2-.4-.5-.7-.8-.8-.3-.2-.7-.2-1.1-.2-.4 0-.8.1-1.1.3-.3.2-.4.4-.4.7 0 .3.1.5.4.7.3.2.6.3 1 .4l1.3.3c.9.2 1.5.6 2 1 .4.4.7 1 .7 1.6 0 .6-.2 1.1-.5 1.5-.3.4-.8.7-1.3 1-.8.2-1.4.3-2.1.3zM0 113.3V99h1.7v14.3H0zm4.6 0v-10.2h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V107c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7H4.6zm10-10.2h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.5-.5-.7-1.2-.7-2.1zm10.3 3c-1 0-1.9-.2-2.6-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.6-1.7-.6-2.8 0-1 .2-1.9.6-2.7.4-.8 1-1.5 1.7-2s1.6-.8 2.6-.8 1.9.2 2.6.7c.7.4 1.3 1.1 1.7 1.8.4.8.6 1.7.6 2.7v.5h-8.8V107h7c0-.3-.1-.6-.2-.9-.1-.3-.3-.6-.5-.9-.2-.3-.6-.5-.9-.7-.4-.2-.8-.3-1.4-.3-.7 0-1.2.2-1.7.5s-.8.8-1.1 1.4c-.3.6-.4 1.2-.4 2 0 .9.2 1.6.5 2.2.3.6.8 1 1.3 1.3.5.3 1.1.4 1.7.4.8 0 1.4-.2 1.8-.5.5-.4.9-.8 1.2-1.3l1.4.7c-.4.8-1 1.4-1.7 1.9-1 .5-1.9.8-3 .8zm6.7-.3v-10.2H35v1.6h.1c.1-.4.4-.7.7-1 .3-.3.7-.5 1.1-.7.4-.2.8-.2 1.2-.2h.7c.2 0 .3.1.5.2v1.8c-.2-.1-.5-.2-.7-.2-.2-.1-.5-.1-.7-.1-.5 0-1 .1-1.4.4-.4.3-.7.7-1 1.1-.2.5-.4 1-.4 1.5v5.7h-1.7zm10.4.3c-.8 0-1.4-.1-2-.4-.6-.3-1-.7-1.3-1.2-.3-.5-.5-1.1-.5-1.8 0-.8.2-1.4.6-1.9.4-.5.9-.9 1.5-1.2.7-.3 1.4-.4 2.2-.4.4 0 .9 0 1.2.1.4.1.7.2 1 .3.3.1.5.2.7.3v-.6c0-.8-.3-1.4-.8-1.8-.5-.5-1.2-.7-2-.7-.6 0-1.1.1-1.6.4-.5.2-.9.6-1.1 1l-1.3-1c.3-.4.6-.7 1-1 .4-.3.9-.5 1.4-.7.5-.2 1.1-.2 1.6-.2 1.4 0 2.5.4 3.2 1.1.8.7 1.2 1.7 1.2 3v6.5h-1.6v-1.5h-.1c-.2.3-.4.6-.7.8-.3.3-.7.5-1.1.7-.5.1-1 .2-1.5.2zm.1-1.5c.6 0 1.1-.1 1.6-.4.5-.3.9-.7 1.2-1.2.3-.5.5-1 .5-1.6-.3-.2-.7-.4-1.2-.5-.5-.1-1-.2-1.5-.2-1 0-1.7.2-2.1.6-.4.4-.7.9-.7 1.5s.2 1 .6 1.4c.4.2 1 .4 1.6.4zm11.7 1.5c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-2 .7-2.8.4-.8 1.1-1.5 1.8-1.9.8-.5 1.7-.7 2.7-.7 1.1 0 2.1.3 2.8.8.7.5 1.3 1.2 1.6 2l-1.5.6c-.2-.6-.6-1.1-1.1-1.4-.5-.3-1.1-.5-1.8-.5-.6 0-1.2.2-1.7.5s-.9.8-1.2 1.4c-.3.6-.5 1.3-.5 2 0 .8.2 1.4.5 2 .3.6.7 1 1.2 1.4.5.3 1.1.5 1.7.5.7 0 1.3-.2 1.9-.5.5-.3.9-.8 1.2-1.4l1.5.6c-.3.8-.9 1.5-1.6 2-.9.5-1.8.8-3 .8zm5.5-10.5h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.5-.7-1.2-.7-2.1zm6.5 2.7v-10.2h1.7v10.2h-1.7zm.9-12.1c-.3 0-.6-.1-.9-.4-.2-.2-.4-.5-.4-.9 0-.3.1-.6.4-.9.2-.2.5-.4.9-.4.3 0 .6.1.9.4.2.2.4.5.4.9 0 .3-.1.6-.4.9-.3.3-.6.4-.9.4zm8.1 12.4c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-1.9.7-2.8.4-.8 1.1-1.5 1.8-2 .8-.5 1.7-.7 2.7-.7 1 0 1.9.2 2.7.7.8.5 1.4 1.1 1.9 2 .4.8.7 1.7.7 2.7 0 1-.2 1.9-.7 2.8-.4.8-1.1 1.5-1.9 1.9-.8.5-1.7.8-2.7.8zm0-1.6c.6 0 1.2-.2 1.7-.5s1-.8 1.3-1.3c.3-.6.5-1.3.5-2.1s-.2-1.5-.5-2.1c-.3-.6-.8-1-1.3-1.3-.5-.3-1.1-.5-1.7-.5-.6 0-1.2.2-1.7.5s-1 .7-1.3 1.3c-.3.6-.5 1.3-.5 2.1s.2 1.5.5 2.1c.3.6.8 1 1.3 1.3.5.4 1.1.5 1.7.5zm7 1.3v-10.2H87v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V107c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7h-1.7zm15.1-10.2h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.5-.7-1.2-.7-2.1zm10.5 3c-1 0-1.9-.2-2.7-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.7-1.7-.7-2.8 0-1 .2-1.9.7-2.8.4-.8 1.1-1.5 1.8-2 .8-.5 1.7-.7 2.7-.7 1 0 1.9.2 2.7.7.8.5 1.4 1.1 1.9 2 .4.8.7 1.7.7 2.7 0 1-.2 1.9-.7 2.8-.4.8-1.1 1.5-1.9 1.9-.8.5-1.7.8-2.7.8zm0-1.6c.6 0 1.2-.2 1.7-.5s1-.8 1.3-1.3c.3-.6.5-1.3.5-2.1s-.2-1.5-.5-2.1c-.3-.6-.8-1-1.3-1.3-.5-.3-1.1-.5-1.7-.5-.6 0-1.2.2-1.7.5s-1 .7-1.3 1.3c-.3.6-.5 1.3-.5 2.1s.2 1.5.5 2.1c.3.6.8 1 1.3 1.3.5.4 1.1.5 1.7.5zm12.2 1.3V99h2.1l7.2 11.4h.1l-.1-2.8V99h1.7v14.3h-1.8l-7.5-11.9h-.1l.1 2.8v9.2H125zm18.2.3c-1 0-1.9-.2-2.6-.7-.8-.5-1.4-1.1-1.8-1.9-.4-.8-.6-1.7-.6-2.8 0-1 .2-1.9.6-2.7.4-.8 1-1.5 1.7-2s1.6-.8 2.6-.8 1.9.2 2.6.7c.7.4 1.3 1.1 1.7 1.8.4.8.6 1.7.6 2.7v.5h-8.8V107h7c0-.3-.1-.6-.2-.9-.1-.3-.3-.6-.5-.9-.2-.3-.6-.5-.9-.7-.4-.2-.8-.3-1.4-.3-.7 0-1.2.2-1.7.5s-.8.8-1.1 1.4c-.3.6-.4 1.2-.4 2 0 .9.2 1.6.5 2.2.3.6.8 1 1.3 1.3.5.3 1.1.4 1.7.4.8 0 1.4-.2 1.8-.5.5-.4.9-.8 1.2-1.3l1.4.7c-.4.8-1 1.4-1.7 1.9-1 .5-1.9.8-3 .8zm5.5-.3 4.1-5.9h.2l2.9-4.3h2l-4 5.6h-.1l-3.1 4.6h-2zm.1-10.2h1.9l3.2 4.5h.1l4 5.7h-2l-3-4.5h-.1l-4.1-5.7zm9.9 0h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.5-.7-1.2-.7-2.1zm11.2 2.7V99h4.8c.8 0 1.5.2 2.2.5.7.4 1.2.8 1.6 1.5.4.6.6 1.4.6 2.2 0 .8-.2 1.6-.6 2.2-.4.6-.9 1.1-1.6 1.5-.7.4-1.4.5-2.2.5h-3.9v-1.6h4c.6 0 1-.1 1.4-.4.4-.3.7-.6.9-1 .2-.4.3-.8.3-1.2 0-.4-.1-.8-.3-1.2-.2-.4-.5-.7-.9-1-.4-.3-.9-.4-1.4-.4h-3.2v12.7h-1.7zm14 .3c-.8 0-1.4-.1-2-.4-.6-.3-1-.7-1.3-1.2-.3-.5-.5-1.1-.5-1.8 0-.8.2-1.4.6-1.9.4-.5.9-.9 1.5-1.2.7-.3 1.4-.4 2.2-.4.4 0 .9 0 1.2.1.4.1.7.2 1 .3.3.1.5.2.7.3v-.6c0-.8-.3-1.4-.8-1.8-.5-.5-1.2-.7-2-.7-.6 0-1.1.1-1.6.4-.5.2-.9.6-1.1 1l-1.3-1c.3-.4.6-.7 1-1 .4-.3.9-.5 1.4-.7.5-.2 1.1-.2 1.6-.2 1.4 0 2.5.4 3.2 1.1.8.7 1.2 1.7 1.2 3v6.5h-1.6v-1.5h-.1c-.2.3-.4.6-.7.8-.3.3-.7.5-1.1.7-.5.1-.9.2-1.5.2zm.2-1.5c.6 0 1.1-.1 1.6-.4.5-.3.9-.7 1.2-1.2.3-.5.5-1 .5-1.6-.3-.2-.7-.4-1.2-.5-.5-.1-1-.2-1.5-.2-1 0-1.7.2-2.1.6-.4.4-.7.9-.7 1.5s.2 1 .6 1.4c.4.2 1 .4 1.6.4zm7.4 1.2v-10.2h1.7v10.2h-1.7zm.8-12.1c-.3 0-.6-.1-.9-.4-.2-.2-.4-.5-.4-.9 0-.3.1-.6.4-.9.2-.2.5-.4.9-.4.3 0 .6.1.9.4.2.2.4.5.4.9 0 .3-.1.6-.4.9-.3.3-.5.4-.9.4zm3.5 12.1v-10.2h1.6v1.5h.1c.3-.5.7-.9 1.3-1.3.6-.4 1.3-.5 2-.5 1.2 0 2.2.4 2.8 1.1.6.7 1 1.7 1 2.9v6.5h-1.7V107c0-1-.2-1.7-.7-2.1-.5-.4-1.1-.6-1.8-.6-.6 0-1.1.2-1.5.5-.4.3-.8.7-1 1.2-.2.5-.4 1-.4 1.6v5.7h-1.7zm10-10.2h6v1.5h-6v-1.5zm1.8 7.5v-10.4h1.7v10c0 .5.1.9.3 1.2.2.3.6.4 1.1.4.2 0 .4 0 .6-.1.2-.1.4-.2.5-.2v1.7c-.2.1-.4.1-.6.2-.2.1-.5.1-.8.1-.9 0-1.5-.2-2.1-.8-.4-.5-.7-1.2-.7-2.1zM418.1 55.2c-1.8 0-3.3 1.5-3.3 3.3 0 1.5 1 2.7 2.3 3.1V83h2V61.6c1.3-.4 2.3-1.7 2.3-3.1 0-1.8-1.5-3.3-3.3-3.3zM546.5 58.6c0-1.8-1.5-3.3-3.3-3.3s-3.3 1.5-3.3 3.3c0 1.5 1 2.7 2.3 3.1v21.2h2V61.7c1.3-.4 2.3-1.6 2.3-3.1z"></path></svg>
</figure>
<h2 id="the-fuzzy-beginning">The fuzzy beginning <a class="headline-link" href="https://web.dev/economic-times-inp/#the-fuzzy-beginning">#</a></h2>
<p>When Google initially introduced INP as an experimental metric with the potential to evolve into one of the Core Web Vitals metrics, the Economic Times team took up the challenge to fix it before it graduates into one, since providing a world class user experience is crucial to our core business values.</p>
<p>INP has been one of the most difficult metrics to solve thus far. In the beginning, it was unclear on how to measure INP effectively. What made it more difficult was the lack of community support—including most Real User Monitoring (RUM) providers not supporting it yet. However, we had Google RUM tools like <a href="https://developer.chrome.com/docs/crux/about/" rel="noopener">Chrome User Experience Report (CrUX)</a>, the <a href="https://github.com/GoogleChrome/web-vitals" rel="noopener"><code>web-vitals</code> JavaScript library</a>, and others supporting it, which gave us a sense of where we stood while we were evaluating the path ahead. Our INP was close to 1,000 milliseconds at the origin level when we started.</p>
<p>One thing that emerged while fixing INP in <a href="https://web.dev/find-slow-interactions-in-the-field/">the field</a> was that one of the lab metrics to target could be <a href="https://web.dev/tbt/">Total Blocking Time (TBT)</a>. TBT was already well documented and supported by the community. Despite already meeting the thresholds for Core Web Vitals, however, we weren't doing as well on the TBT front, as it was over 3 seconds when we began.</p>
<h2 id="what-is-tbt,-and-what-steps-did-we-take-to-improve-it">What is TBT, and what steps did we take to improve it? <a class="headline-link" href="https://web.dev/economic-times-inp/#what-is-tbt,-and-what-steps-did-we-take-to-improve-it">#</a></h2>
<p>TBT is a lab metric that measures the responsiveness of a web page to user input during page load. Any task that takes more than 50 milliseconds to execute is considered a long task, and the time after the 50 millisecond threshold is known as the <strong>blocking time</strong>.</p>
<p>TBT is calculated by taking the sum of the blocking time of all long tasks during page load. For example, if there are two long tasks during load, the blocking time is determined as follows:</p>
<ul>
<li>Task A takes 80 milliseconds (30 milliseconds more than 50 milliseconds).</li>
<li>Task B takes 100 milliseconds (50 milliseconds more than 50 milliseconds).</li>
</ul>
<p>The page's TBT will be: 80 milliseconds (30 + 50). The lower the TBT, the better, and TBT also <a href="https://almanac.httparchive.org/en/2022/performance#inp-and-tbt" rel="noopener">correlates well with INP</a>.</p>
<p>Here’s a quick lab comparison of our TBT before and after taking steps to improve it:</p>
<figure>
  <img alt="A composite image of long tasks during startup as shown in the performance panel of Chrome DevTools, and a report of page metrics. The main thread is blocked during page load for 3,260 milliseconds." decoding="async" height="502" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/UfZ9zaCLHjCMcPg74xHV.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>
    The main thread during startup before optimizing TBT. The TBT is 3,260 milliseconds.
  </figcaption>
</figure>
<figure>
  <img alt="A composite image of long tasks during startup as shown in the performance panel of Chrome DevTools, and a report of page metrics. The main thread is blocked during page load for 120 milliseconds." decoding="async" height="701" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/RLx2y7zTItkaklqxSG17.png?auto=format&amp;w=1600 1600w" width="800">
  <figcaption>
    The main thread during startup after optimizing TBT. The TBT is 120 milliseconds.
  </figcaption>
</figure>
<h3 id="minimize-main-thread-work">Minimize main thread work <a class="headline-link" href="https://web.dev/economic-times-inp/#minimize-main-thread-work">#</a></h3>
<p>The browser’s main thread handles everything from parsing HTML, building the DOM, to parsing CSS and applying styles, as well as evaluating and executing JavaScript. The main thread also handles user interactions—that is, click, tap, and keypresses. If the main thread is occupied with doing other work, it may not respond to user inputs efficiently, and may lead to a janky user experience.</p>
<p>This was the most difficult task for us, since we have our own algorithms to detect user identity for serving ads based on subscription status and third party scripts for A/B testing, analytics, and more.</p>
<p>We took small steps at first, such as de-prioritizing loading of less critical business assets. Second, we used <a href="https://developer.mozilla.org/docs/Web/API/Window/requestIdleCallback" rel="noopener"><code>requestIdleCallback</code></a> for non-critical work, which can help to reduce TBT.</p>
<div><pre class="language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'requestIdleCallback'</span> <span class="token keyword">in</span> window<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">this</span><span class="token punctuation">.</span>requestIdleCallbackId <span class="token operator">=</span> <span class="token function">requestIdleCallback</span><span class="token punctuation">(</span><span class="token function">fetchMarketsData</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>  <span class="token function">fetchMarketsData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Fallback in case requestIdleCallback is not supported</span><br><span class="token punctuation">}</span></code></pre>
</div><p>Specifying a timeout is recommended when using <code>requestIdleCallback</code>, since it makes sure that if the given time is elapsed and the callback is not already been called, it executes the callback immediately after the timeout.</p>
<h3 id="minimize-script-evaluation-time">Minimize script evaluation time <a class="headline-link" href="https://web.dev/economic-times-inp/#minimize-script-evaluation-time">#</a></h3>
<p>We also lazy loaded third party libraries using <a href="https://loadable-components.com/" rel="noopener">Loadable components</a>. We also removed unused JavaScript and CSS by profiling the page with the <a href="https://developer.chrome.com/docs/devtools/coverage/" rel="noopener">coverage tool</a> in Chrome DevTools. It helped us to identify areas where <a href="https://webpack.js.org/guides/tree-shaking/" rel="noopener">tree shaking</a> was needed to ship less code during page load, and therefore reduce the initial bundle size of the application.</p>
<figure>
  <img alt="A screenshot of the coverage tool in Chrome DevTools. Here, the tool displays unused portions of JavaScript and CSS files during page load." decoding="async" height="100" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/uynCVTUjcv4ujJva41PS.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<h3 id="reduce-dom-size">Reduce DOM size <a class="headline-link" href="https://web.dev/economic-times-inp/#reduce-dom-size">#</a></h3>
<p>Per Lighthouse, large DOM sizes increase memory usage, causes longer <a href="https://web.dev/economic-times-inp/reduce-the-scope-and-complexity-of-style-calculations/">style recalculations</a>, and produces costly <a href="https://developers.google.com/speed/docs/insights/browser-reflow" rel="noopener">layout reflows</a>.</p>
<figure>
  <img alt="A screenshot of the DOM size audit in Lighthouse. The number of DOM elements reported is 2,706 elements." decoding="async" height="86" loading="lazy" sizes="(min-width: 712px) 712px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/JLQfvWp1Fouc55Xbgy7X.png?auto=format&amp;w=1424 1424w" width="712">
</figure>
<p>We reduced the number of DOM nodes in two ways:</p>
<ul>
<li>First, we rendered our menu items at the user’s request (on click). It decreased the DOM size by around 1,200 nodes.</li>
<li>Second, we lazy loaded less important widgets.</li>
</ul>
<p>Because of all these efforts, we reduced TBT significantly, and our INP was reduced accordingly by almost 50%:</p>
<figure>
  <img alt="A screenshot of the INP audit in CrUX. The INP for the page is 539 milliseconds, which exceeds the 'poor' threshold." decoding="async" height="216" loading="lazy" sizes="(min-width: 574px) 574px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/ojm0miY1lwoFqxZWnYVM.png?auto=format&amp;w=1148 1148w" width="574">
</figure>
<p>At this point, we nearly ran out of easy wins to further reduce TBT (and INP by proxy), but we knew we had a lot of room for improvement. This is when we decided to upgrade our custom-built UI boilerplate to the latest version of React along with <a href="https://nextjs.org/" rel="noopener">Next.js</a> to make better use of <a href="https://react.dev/reference/react" rel="noopener">hooks</a> to avoid unnecessary re-rendering of components.</p>
<p>Due to more frequent updates and comparatively lesser traffic as compared to the other portions of the website, we began to migrate our <a href="https://economictimes.indiatimes.com/topic/home" rel="noopener">topic pages</a> to Next.js. We also used <a href="https://partytown.builder.io/" rel="noopener">PartyTown</a> for offloading additional heavy main thread work to web workers, along with techniques like <code>requestIdleCallBack</code> for deferring non-critical tasks.</p>
<h2 id="how-has-improving-inp-helped-the-economic-times">How has improving INP helped The Economic Times? <a class="headline-link" href="https://web.dev/economic-times-inp/#how-has-improving-inp-helped-the-economic-times">#</a></h2>
<h3 id="current-tbt-and-inp-on-origin">Current TBT and INP on origin <a class="headline-link" href="https://web.dev/economic-times-inp/#current-tbt-and-inp-on-origin">#</a></h3>
<p>At the time of publishing this post, the TBT for our origin was 120 milliseconds, down from 3,260 milliseconds when we began our optimization efforts. Similarly, the INP for our origin was 257 milliseconds after our optimization efforts, down from over 1,000 milliseconds.</p>
<figure>
  <img alt="A screenshot of the INP audit in CrUX. The INP for the page is 257 milliseconds, which is within the 'needs improvement' thresholds." decoding="async" height="218" loading="lazy" sizes="(min-width: 582px) 582px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/6cMvebBQKG2nhyc1eYeB.png?auto=format&amp;w=1164 1164w" width="582">
</figure>
<h3 id="inp-crux-trend">INP CrUX trend <a class="headline-link" href="https://web.dev/economic-times-inp/#inp-crux-trend">#</a></h3>
<p>The traffic received on topic pages represents a significantly smaller portion of overall traffic. Hence, it was an ideal place for experimentation. The CrUX results along with the business outcomes were very encouraging, and led us to expand our efforts across the entire website to reap further benefits.</p>
<figure>
  <img alt="A screenshot of INP distributions as visualized in CrUX over a period of four months, starting in July 2022 and ending in October 2022. Values within the 'poor' and 'needs improvement' thresholds declined somewhat, while the values within the 'good' threshold increased." decoding="async" height="190" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/pkPEYIQIeEDKdIKOCFSY.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<h3 id="akamai-mpulse-tbt-analysis">Akamai mPulse TBT Analysis <a class="headline-link" href="https://web.dev/economic-times-inp/#akamai-mpulse-tbt-analysis">#</a></h3>
<p>We use <a href="https://www.akamai.com/products/mpulse-real-user-monitoring" rel="noopener">Akamai mPulse</a> as our RUM solution, which measures TBT in the field. We observed a consistent decrease in TBT, clearly mapping to the outcomes of our efforts to reduce INP. As can be seen in the screenshot below, TBT values eventually dropped from approximately 5 seconds in to around 200 milliseconds in the field.</p>
<figure>
  <img alt="A screenshot of a chart in Akamai mPulse, showing a decline in TBT over the course of roughly a month." decoding="async" height="118" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/eS3iIvNxEUhe19GGdDBG.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<h2 id="business-outcome">Business outcome <a class="headline-link" href="https://web.dev/economic-times-inp/#business-outcome">#</a></h2>
<p>Overall, our efforts to bring down TBT by 30 times, along with migrating to Next.js helped us reduce INP nearly by 4 times, which eventually led to a <strong>50% decrease in bounce rate and 43% uplift in pageviews</strong> on topic pages.</p>
<figure>
  <img alt="A screenshot of Google Analytics comparing pageviews versus bounce rate. Because of the optimizations made to INP on The Economic Times website, a 50% decrease in bounce rate and a 43% increase in pageviews was realized." decoding="async" height="288" loading="lazy" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format" srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=200 200w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=228 228w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=260 260w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=296 296w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=338 338w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=385 385w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=439 439w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=500 500w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=571 571w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=650 650w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=741 741w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=845 845w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=964 964w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=1098 1098w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=1252 1252w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=1428 1428w, https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/WOzP0OjtPV6rsjqbtbfe.png?auto=format&amp;w=1600 1600w" width="800">
</figure>
<h2 id="conclusion">Conclusion <a class="headline-link" href="https://web.dev/economic-times-inp/#conclusion">#</a></h2>
<p>To summarize, INP extensively helped to determine runtime performance issues on parts of the Economic Times website. It has proven to be one of the most effective metrics to positively impact business outcomes. Due to the very encouraging numbers we've observed as the result of this effort, we are motivated to scale our optimization efforts to other areas of our website and reap additional benefits.</p>
]]></content:encoded>
        </item>
    </channel>
</rss>